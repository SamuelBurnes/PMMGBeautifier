/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["v"] = downloadFile;
/* harmony export (immutable) */ __webpack_exports__["m"] = createNode;
/* harmony export (immutable) */ __webpack_exports__["p"] = createSelectOption;
/* harmony export (immutable) */ __webpack_exports__["h"] = convertDurationToETA;
/* harmony export (immutable) */ __webpack_exports__["H"] = parseDuration;
/* harmony export (immutable) */ __webpack_exports__["f"] = cleanPlanetName;
/* harmony export (immutable) */ __webpack_exports__["t"] = createTextSpan;
/* harmony export (immutable) */ __webpack_exports__["s"] = createTextDiv;
/* harmony export (immutable) */ __webpack_exports__["j"] = createFinancialTextBox;
/* unused harmony export findInventoryAmount */
/* unused harmony export findBurnAmount */
/* harmony export (immutable) */ __webpack_exports__["a"] = CategorySort;
/* harmony export (immutable) */ __webpack_exports__["y"] = findCorrespondingPlanet;
/* harmony export (immutable) */ __webpack_exports__["G"] = parseBaseName;
/* harmony export (immutable) */ __webpack_exports__["I"] = parseInvName;
/* harmony export (immutable) */ __webpack_exports__["J"] = parsePlanetName;
/* harmony export (immutable) */ __webpack_exports__["C"] = getLocalStorage;
/* harmony export (immutable) */ __webpack_exports__["g"] = clearChildren;
/* harmony export (immutable) */ __webpack_exports__["L"] = setSettings;
/* harmony export (immutable) */ __webpack_exports__["c"] = XITWebRequest;
/* harmony export (immutable) */ __webpack_exports__["l"] = createMaterialElement;
/* harmony export (immutable) */ __webpack_exports__["k"] = createLink;
/* harmony export (immutable) */ __webpack_exports__["M"] = showBuffer;
/* harmony export (immutable) */ __webpack_exports__["e"] = changeValue;
/* harmony export (immutable) */ __webpack_exports__["z"] = genericCleanup;
/* unused harmony export genericUnhide */
/* harmony export (immutable) */ __webpack_exports__["O"] = targetedCleanup;
/* harmony export (immutable) */ __webpack_exports__["A"] = getBuffers;
/* unused harmony export getElementsByXPath */
/* unused harmony export sortTable */
/* harmony export (immutable) */ __webpack_exports__["r"] = createTable;
/* harmony export (immutable) */ __webpack_exports__["u"] = createToolTip;
/* harmony export (immutable) */ __webpack_exports__["F"] = makePopupSpacer;
/* harmony export (immutable) */ __webpack_exports__["o"] = createPopupInputRow;
/* harmony export (immutable) */ __webpack_exports__["n"] = createPopupCheckboxRow;
/* harmony export (immutable) */ __webpack_exports__["E"] = getValueOfPopupRow;
/* harmony export (immutable) */ __webpack_exports__["B"] = getCheckOfPopupRow;
/* harmony export (immutable) */ __webpack_exports__["q"] = createSmallButton;
/* harmony export (immutable) */ __webpack_exports__["i"] = createContractDict;
/* harmony export (immutable) */ __webpack_exports__["d"] = calculateBurn;
/* harmony export (immutable) */ __webpack_exports__["N"] = showWarningDialog;
/* harmony export (immutable) */ __webpack_exports__["w"] = drawLineChart;
/* harmony export (immutable) */ __webpack_exports__["x"] = drawPieChart;
/* harmony export (immutable) */ __webpack_exports__["D"] = getLocalStoragePromise;
/* harmony export (immutable) */ __webpack_exports__["K"] = setLocalStoragePromise;
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GameProperties__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Style__ = __webpack_require__(2);



function downloadFile(fileData, fileName, isJSON = true) {
    const blob = new Blob([isJSON ? JSON.stringify(fileData) : fileData], { type: "text/plain" });
    const url = URL.createObjectURL(blob);
    const urlElement = document.createElement("a");
    urlElement.setAttribute("download", fileName);
    urlElement.href = url;
    urlElement.setAttribute("target", "_blank");
    urlElement.click();
    URL.revokeObjectURL(url);
    return;
}
function createNode(htmlString) {
    var div = document.createElement('div');
    div.innerHTML = htmlString.trim();
    return div.firstChild;
}
function createSelectOption(optionLabel, optionValue, rightAlign) {
    const option = document.createElement("option");
    option.value = optionValue;
    option.textContent = optionLabel;
    if (rightAlign) {
        option.style.direction = "rtl";
    }
    return option;
}
function convertDurationToETA(parsedSeconds) {
    const eta = new Date();
    const now = new Date();
    eta.setSeconds(eta.getSeconds() + parsedSeconds);
    const diffTime = Math.abs(eta.getTime() - now.getTime());
    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
    let ret = eta.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    if (diffDays > 0) {
        ret += ` +${diffDays}d`;
    }
    return ret;
}
function parseDuration(duration) {
    const days = duration.match(/(\d+)\s*d/);
    const hours = duration.match(/(\d+)\s*h/);
    const minutes = duration.match(/(\d+)\s*m/);
    const seconds = duration.match(/(\d+)\s*s/);
    let parsedSeconds = 0;
    if (days) {
        parsedSeconds += parseInt(days[1]) * 86400;
    }
    if (hours) {
        parsedSeconds += parseInt(hours[1]) * 3600;
    }
    if (minutes) {
        parsedSeconds += parseInt(minutes[1]) * 60;
    }
    if (seconds) {
        parsedSeconds += parseInt(seconds[1]);
    }
    return parsedSeconds;
}
function cleanPlanetName(text) {
    text = text.replace(/\s*\([^)]*\)/, '');
    text = text.replace(/(\d)\s+(?=[a-zA-Z])/, '$1');
    text = text.replace(/.*\s-\s/, '');
    if (__WEBPACK_IMPORTED_MODULE_1__GameProperties__["k" /* Stations */][text.slice(0, -1)]) {
        text = __WEBPACK_IMPORTED_MODULE_1__GameProperties__["k" /* Stations */][text.slice(0, -1)];
    }
    return text;
}
function createTextSpan(text, className = "prun-remove-js") {
    const newSpan = document.createElement("span");
    newSpan.classList.add(className);
    newSpan.textContent = text;
    return newSpan;
}
function createTextDiv(text, className = "prun-remove-js") {
    const newSpan = document.createElement("div");
    newSpan.classList.add(className);
    newSpan.textContent = text;
    return newSpan;
}
function createFinancialTextBox(primaryText, secondaryText, primaryTextColor, className = "prun-remove-js") {
    const box = document.createElement("div");
    box.classList.add(className);
    box.classList.add("fin-box");
    const primaryTextSpan = document.createElement("span");
    primaryTextSpan.style.fontSize = "12px";
    primaryTextSpan.style.lineHeight = "1.1";
    primaryTextSpan.style.color = primaryTextColor;
    primaryTextSpan.textContent = primaryText;
    box.appendChild(primaryTextSpan);
    const secondaryTextDiv = document.createElement("div");
    secondaryTextDiv.textContent = secondaryText;
    secondaryTextDiv.style.fontSize = "10px";
    secondaryTextDiv.style.lineHeight = "1.1";
    secondaryTextDiv.style.marginTop = "2px";
    secondaryTextDiv.style.color = "#999";
    box.appendChild(secondaryTextDiv);
    return box;
}
function findInventoryAmount(ticker, inventory) {
    for (var i = 0; i < inventory["Inventory"].length; i++) {
        if (inventory["Inventory"][i]["MaterialTicker"] == ticker) {
            return inventory["Inventory"][i]["MaterialAmount"];
        }
    }
    return 0;
}
function findBurnAmount(ticker, inventory) {
    for (var i = 0; i < inventory["WorkforceConsumption"].length; i++) {
        if (inventory["WorkforceConsumption"][i]["MaterialTicker"] == ticker) {
            return inventory["WorkforceConsumption"][i]["DailyAmount"];
        }
    }
    return 0;
}
function CategorySort(a, b) {
    if (!__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][a] || !__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][b]) {
        return 0;
    }
    return __WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][a][1].localeCompare(__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][b][1]);
}
function findCorrespondingPlanet(planet, data, needBase) {
    if (!data || !planet) {
        return undefined;
    }
    for (var i = 0; i < data.length; i++) {
        if (planet && data[i]["PlanetNaturalId"] && data[i]["PlanetNaturalId"].toLowerCase() == planet.toLowerCase() && (!needBase || data[i]["type"] == "STORE" || data[i]["type"] == "BASE")) {
            return data[i];
        }
        else if (planet && data[i]["PlanetName"] && data[i]["PlanetName"].toLowerCase() == planet.toLowerCase() && (!needBase || data[i]["type"] == "STORE" || data[i]["type"] == "BASE")) {
            return data[i];
        }
        else if (planet && data[i]["PlanetNaturalId"] && __WEBPACK_IMPORTED_MODULE_1__GameProperties__["i" /* PlanetNames */][planet] && __WEBPACK_IMPORTED_MODULE_1__GameProperties__["i" /* PlanetNames */][planet].toLowerCase() == data[i]["PlanetNaturalId"].toLowerCase() && (!needBase || data[i]["type"] == "STORE" || data[i]["type"] == "BASE")) {
            return data[i];
        }
    }
    return undefined;
}
function parseBaseName(text) {
    try {
        var match = text.match(/@ ([A-Z]{2}-[0-9]{3} [a-z]) Base/);
        if (match && match[1]) {
            return match[1].replace(" ", "");
        }
        match = text.match(/@ ([A-z ]*) - ([A-z ]*) Base/);
        if (match && match[1] && match[2]) {
            return match[2];
        }
        match = text.match(/@ ([A-z ]*) ([A-z]) Base/);
        if (match && match[1] && match[2] && __WEBPACK_IMPORTED_MODULE_1__GameProperties__["l" /* SystemNames */][match[1].toUpperCase()]) {
            return __WEBPACK_IMPORTED_MODULE_1__GameProperties__["l" /* SystemNames */][match[1].toUpperCase()] + match[2].toLowerCase();
        }
        match = text.match(/@ [A-Z]{2}-[0-9]{3} - ([A-z ]*) Base/);
        if (match && match[1]) {
            return match[1];
        }
        return null;
    }
    catch (TypeError) {
        return text;
    }
}
function parseInvName(text) {
    try {
        const match = text.split(" ");
        if (match && match[1]) {
            return match[1];
        }
        return null;
    }
    catch (TypeError) {
        return null;
    }
}
function parsePlanetName(text) {
    try {
        const match = text.match(/\((.*?)\)/);
        if (match && match[1]) {
            return match[1];
        }
        return null;
    }
    catch (TypeError) {
        return null;
    }
}
function getLocalStorage(storageName, callbackFunction, params) {
    try {
        browser.storage.local.get(storageName).then(function (result) {
            callbackFunction(result, params);
        });
    }
    catch (err) {
        chrome.storage.local.get([storageName], function (result) {
            callbackFunction(result, params);
        });
    }
}
function clearChildren(elem) {
    elem.textContent = "";
    while (elem.children[0]) {
        elem.removeChild(elem.children[0]);
    }
    return;
}
function setSettings(result) {
    try {
        browser.storage.local.set(result);
    }
    catch (err) {
        chrome.storage.local.set(result, function () {
        });
    }
    return;
}
function XITWebRequest(tile, parameters, callbackFunction, url, requestType = "GET", header, content) {
    var xhr = new XMLHttpRequest();
    xhr.ontimeout = function () {
        tile.textContent = "Error! Data Could Not Be Loaded! Timed Out!";
    };
    xhr.onreadystatechange = function () {
        if (xhr.readyState == XMLHttpRequest.DONE) {
            callbackFunction(tile, parameters, xhr.responseText);
        }
        return;
    };
    xhr.timeout = 10000;
    xhr.open(requestType, url, true);
    if (url.includes("fnar")) {
        xhr.setRequestHeader("X-FIO-Application", "PMMGExtended");
    }
    if (header) {
        xhr.setRequestHeader(header[0], header[1]);
    }
    if (content) {
        xhr.send(content);
    }
    else {
        xhr.send(null);
    }
    return;
}
function createMaterialElement(ticker, className = "prun-remove-js", amount = "none", text = false, small = false) {
    if (!__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][ticker] && ticker != "SHPT") {
        return null;
    }
    const name = (__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][ticker] || ["Shipment"])[0];
    const category = (__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][ticker] || [undefined, "shipment"])[1];
    const matText = createTextSpan(ticker, className);
    matText.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MatText));
    const matTextWrapper = document.createElement("div");
    matTextWrapper.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MatTextWrapper));
    matTextWrapper.appendChild(matText);
    const material = document.createElement("div");
    material.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MaterialElement));
    material.appendChild(matTextWrapper);
    material.style.background = __WEBPACK_IMPORTED_MODULE_2__Style__["b" /* CategoryColors */][category][0];
    material.style.color = __WEBPACK_IMPORTED_MODULE_2__Style__["b" /* CategoryColors */][category][1];
    material.title = name;
    material.addEventListener("click", function () {
        showBuffer("MAT " + ticker.toUpperCase());
    });
    const materialWrapper = document.createElement("div");
    materialWrapper.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MaterialWrapper));
    materialWrapper.appendChild(material);
    const materialWrapperWrapper = document.createElement("div");
    materialWrapperWrapper.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MaterialWrapperWrapper));
    materialWrapperWrapper.appendChild(materialWrapper);
    const outerLayer = document.createElement("div");
    outerLayer.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MaterialOuter));
    outerLayer.classList.add(className);
    outerLayer.appendChild(materialWrapperWrapper);
    if (amount && amount != "none") {
        const materialNumberWrapper = document.createElement("div");
        materialNumberWrapper.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MaterialNumberWrapper));
        materialWrapper.appendChild(materialNumberWrapper);
        const materialNumber = createTextDiv(amount, className);
        materialNumber.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MaterialNumber));
        materialNumberWrapper.appendChild(materialNumber);
    }
    if (text) {
        const textElemWrapper = document.createElement("span");
        textElemWrapper.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].MaterialNameText));
        const textElem = createTextSpan(name, className);
        textElemWrapper.appendChild(textElem);
        outerLayer.appendChild(textElemWrapper);
    }
    if (small) {
        materialWrapper.classList.add("mat-element-small");
        return materialWrapper;
    }
    else {
        materialWrapper.classList.add("mat-element-large");
    }
    return outerLayer;
}
function createLink(text, command) {
    const link = document.createElement("span");
    link.textContent = text;
    link.addEventListener("click", function () { showBuffer(command); });
    const linkDiv = document.createElement("div");
    linkDiv.classList.add("link");
    linkDiv.appendChild(link);
    return linkDiv;
}
function showBuffer(command) {
    const button = document.getElementById(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].NewBFRButton);
    if (button == null) {
        return false;
    }
    const addSubmitCommand = (input, cmd) => {
        changeValue(input, cmd);
        input.parentElement.parentElement.requestSubmit();
    };
    monitorOnElementCreated(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].BufferTextField, (elem) => addSubmitCommand(elem, command));
    button.click();
    return true;
}
function changeValue(input, value) {
    var propDescriptor = Object.getOwnPropertyDescriptor(window["HTMLInputElement"].prototype, "value");
    if (propDescriptor == undefined) {
        return;
    }
    var nativeInputValueSetter = propDescriptor.set;
    if (nativeInputValueSetter == undefined) {
        return;
    }
    nativeInputValueSetter.call(input, value);
    var inputEvent = document.createEvent('Event');
    inputEvent.initEvent('input', true, true);
    input.dispatchEvent(inputEvent);
}
function monitorOnElementCreated(selector, callback, onlyOnce = true) {
    const getElementsFromNodes = (nodes) => (Array.from(nodes)).flatMap(node => node.nodeType === 3 ? null : Array.from(node.querySelectorAll(selector))).filter(item => item !== null);
    let onMutationsObserved = function (mutations) {
        mutations.forEach(function (mutation) {
            if (mutation.addedNodes.length) {
                var elements = getElementsFromNodes(mutation.addedNodes);
                for (var i = 0, len = elements.length; i < len; i++) {
                    callback(elements[i]);
                    if (onlyOnce)
                        observer.disconnect();
                }
            }
        });
    };
    let containerSelector = 'body';
    let target = document.querySelector(containerSelector);
    if (!target) {
        return;
    }
    let config = { childList: true, subtree: true };
    let MutationObserver = window["MutationObserver"] || window["WebKitMutationObserver"];
    let observer = new MutationObserver(onMutationsObserved);
    observer.observe(target, config);
    return;
}
function genericCleanup(className = "prun-remove-js") {
    Array.from(document.getElementsByClassName(className)).forEach((elem) => {
        elem.parentNode && elem.parentNode.removeChild(elem);
        return;
    });
    return;
}
function genericUnhide(className = "prun-remove-js") {
    Array.from(document.getElementsByClassName(className + "-hidden")).forEach((elem) => {
        elem.style.display = "";
        elem.classList.remove(className + "-hidden");
        return;
    });
    return;
}
function targetedCleanup(className, element) {
    Array.from(element.getElementsByClassName(className)).forEach((elem) => {
        elem.parentNode && elem.parentNode.removeChild(elem);
        return;
    });
    return;
}
function getBuffers(bufferCode) {
    const nodes = document.evaluate(`//div[@class='${__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].BufferHeader}'][starts-with(translate(., 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'), '${bufferCode}')]/../..`, document, null, XPathResult.ANY_TYPE, null);
    var buffers = [];
    var node;
    while (node = nodes.iterateNext()) {
        buffers.push(node);
    }
    return buffers;
}
function getElementsByXPath(xpath) {
    const result = document.evaluate(xpath, document, null, XPathResult.ANY_UNORDERED_NODE_TYPE, null);
    const output = [];
    try {
        let node = result.iterateNext();
        while (node) {
            output.push(node);
            node = result.iterateNext();
        }
    }
    catch (e) {
    }
    return output;
}
function sortTable(table, column, sortType) {
    var sorter = [];
    if (table.children[1] == null) {
        return;
    }
    const rows = Array.from(table.children[1].children);
    for (var i = 0; i < rows.length; i++) {
        var item = rows[i].children[column];
        if (item == null || item.firstChild == null) {
            break;
        }
        sorter.push([item.firstChild.textContent, rows[i]]);
    }
    if (sortType == "alph") {
        sorter.sort(tableSortAlph);
    }
    sorter.forEach(item => {
        table.children[1].insertBefore(table.children[1].children[0], item[1]);
    });
}
function tableSortAlph(a, b) {
    return a[0].localeCompare(b[0]);
}
function createTable(tile, headers) {
    let table = document.createElement("table");
    tile.appendChild(table);
    const thead = document.createElement("thead");
    table.appendChild(thead);
    const headerRow = document.createElement("tr");
    thead.appendChild(headerRow);
    for (let title of headers) {
        const header = document.createElement("th");
        header.textContent = title;
        header.style.paddingTop = "0";
        headerRow.appendChild(header);
    }
    const tbody = document.createElement("tbody");
    table.appendChild(tbody);
    return tbody;
}
function createToolTip(text, position) {
    const tooltip = document.createElement("span");
    tooltip.innerHTML = `<span data-tooltip="${text}" data-tooltip-position="${position}" class="kfU78EaaOVbQR2YM0eeGew==" style="float: revert;font-size: 12px;margin-top:-4px;">â“˜</span>`;
    return tooltip.firstChild || tooltip;
}
function makePopupSpacer(tile, toRemove) {
    const spacer = document.createElement("div");
    spacer.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].Spacer);
    spacer.addEventListener("click", function () {
        tile.removeChild(toRemove);
        return;
    });
    return spacer;
}
function createPopupInputRow(label, text = "", tooltip = "") {
    const inputRow = document.createElement("div");
    inputRow.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormRow);
    const inputLabel = document.createElement("label");
    inputLabel.textContent = label;
    if (tooltip != "") {
        inputLabel.appendChild(createToolTip(tooltip, "right"));
    }
    inputLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormLabel);
    inputRow.appendChild(inputLabel);
    const inputInputDiv = document.createElement("div");
    inputInputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormInput);
    inputRow.appendChild(inputInputDiv);
    const inputInput = document.createElement("input");
    inputInput.style.width = "80%";
    inputInputDiv.appendChild(inputInput);
    inputInput.value = text;
    return inputRow;
}
function createPopupCheckboxRow(label, enabled = false, tooltip = "") {
    const inputRow = document.createElement("div");
    inputRow.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormRow);
    const inputLabel = document.createElement("label");
    inputLabel.textContent = label;
    if (tooltip != "") {
        inputLabel.appendChild(createToolTip(tooltip, "right"));
    }
    inputLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormLabel);
    inputRow.appendChild(inputLabel);
    const inputInputDiv = document.createElement("div");
    inputInputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormInput);
    inputRow.appendChild(inputInputDiv);
    const inputInput = document.createElement("input");
    inputInput.type = "checkbox";
    inputInputDiv.appendChild(inputInput);
    inputInput.checked = enabled;
    return inputRow;
}
function getValueOfPopupRow(row) {
    if (!row || !row.children[1] || !row.children[1].firstChild) {
        return "";
    }
    else {
        return row.children[1].firstChild.value || "";
    }
}
function getCheckOfPopupRow(row) {
    if (!row || !row.children[1] || !row.children[1].firstChild) {
        return false;
    }
    else {
        return row.children[1].firstChild.checked || false;
    }
}
function createSmallButton(label, clickFunction, parameters) {
    const button = document.createElement("button");
    button.textContent = label;
    button.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].SmallButton);
    button.addEventListener("click", function () { clickFunction(...parameters); });
    return button;
}
function createContractDict(contracts, contractdict) {
    for (let i = 0; i < contracts.length; i++) {
        const element = contracts[i];
        contractdict[element['localId']] = element;
    }
}
function calculateBurn(production, workforce, inventory) {
    const burnDict = {};
    if (production && production.lines) {
        production.lines.forEach(line => {
            const numLines = line.capacity;
            var hasRecurring = false;
            var totalDuration = 0;
            line.orders.forEach(order => {
                if (!order.started) {
                    hasRecurring = hasRecurring || order.recurring;
                }
            });
            line.orders.forEach(order => {
                if (!order.started && (!hasRecurring || order.recurring)) {
                    totalDuration += order.duration;
                }
            });
            totalDuration /= 86400000;
            line.orders.forEach(order => {
                if (!order.started && (!hasRecurring || order.recurring)) {
                    order.outputs.forEach(mat => {
                        if (burnDict[mat["MaterialTicker"]]) {
                            burnDict[mat["MaterialTicker"]]["DailyAmount"] += mat["Amount"] * numLines / totalDuration;
                        }
                        else {
                            burnDict[mat["MaterialTicker"]] = { "DailyAmount": mat["Amount"] * numLines / totalDuration, "Inventory": 0, "DaysLeft": 0, "Type": "output" };
                        }
                    });
                    order.inputs.forEach(mat => {
                        if (burnDict[mat["MaterialTicker"]]) {
                            burnDict[mat["MaterialTicker"]]["DailyAmount"] -= mat["Amount"] * numLines / totalDuration;
                            if (burnDict[mat["MaterialTicker"]]["Type"] == "output") {
                                burnDict[mat["MaterialTicker"]]["Type"] = "input";
                            }
                        }
                        else {
                            burnDict[mat["MaterialTicker"]] = { "DailyAmount": -mat["Amount"] * numLines / totalDuration, "Inventory": 0, "DaysLeft": 0, "Type": "input" };
                        }
                    });
                }
            });
        });
    }
    if (workforce && workforce.workforce) {
        workforce.workforce.forEach(tier => {
            if (tier.population > 1) {
                tier.needs.forEach(need => {
                    const ticker = need.material.ticker;
                    if (burnDict[ticker]) {
                        burnDict[ticker]["DailyAmount"] -= need.unitsPerInterval;
                        burnDict[ticker]["Type"] = "workforce";
                    }
                    else {
                        burnDict[ticker] = { "DailyAmount": -need.unitsPerInterval, "Inventory": 0, "DaysLeft": 0, "Type": "workforce" };
                    }
                });
            }
        });
    }
    if (inventory && inventory.items) {
        inventory.items.forEach(item => {
            if (burnDict[item.MaterialTicker]) {
                burnDict[item.MaterialTicker]["Inventory"] = item.Amount;
                if (item.Amount != 0) {
                    burnDict[item.MaterialTicker]["DaysLeft"] = burnDict[item.MaterialTicker]["DailyAmount"] > 0 ? 1000 : Math.floor(-item.Amount / burnDict[item.MaterialTicker]["DailyAmount"]);
                }
            }
        });
    }
    return burnDict;
}
function showWarningDialog(tile, message = "Are you sure?", confirmButtonText = "Confirm", callbackFunction, parameters) {
    const displayTile = tile.parentElement.parentElement.parentElement;
    const overlay = document.createElement("div");
    displayTile.appendChild(overlay);
    overlay.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].ActionOverlay);
    const centerInterface = document.createElement("div");
    overlay.appendChild(centerInterface);
    centerInterface.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].ActionCenterInterface);
    const confirm = document.createElement("span");
    centerInterface.appendChild(confirm);
    confirm.textContent = "Confirmation Required";
    confirm.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].ActionConfirm);
    const confirmMessage = document.createElement("span");
    centerInterface.appendChild(confirmMessage);
    confirmMessage.textContent = message;
    confirmMessage.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].ActionConfirmMessage);
    const buttonDiv = document.createElement("div");
    centerInterface.appendChild(buttonDiv);
    buttonDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].ActionButtons);
    const cancelButton = document.createElement("button");
    cancelButton.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].Button);
    cancelButton.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].ButtonNeutral);
    cancelButton.textContent = "Cancel";
    buttonDiv.appendChild(cancelButton);
    const confirmButton = document.createElement("button");
    confirmButton.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].Button);
    confirmButton.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].ButtonDanger);
    confirmButton.textContent = confirmButtonText;
    buttonDiv.appendChild(confirmButton);
    cancelButton.addEventListener("click", function () {
        displayTile.removeChild(overlay);
        return;
    });
    confirmButton.addEventListener("click", function () {
        displayTile.removeChild(overlay);
        if (parameters) {
            callbackFunction(parameters);
        }
        else {
            callbackFunction();
        }
        return;
    });
    return;
}
function drawLineChart(xData, yData, xSize, ySize, xLabel, yLabel, lineColor, isDates, currencySymbol) {
    const canvas = document.createElement("canvas");
    canvas.height = ySize;
    canvas.width = xSize;
    const context = canvas.getContext("2d");
    if (!context) {
        return null;
    }
    const minX = Math.min(...xData);
    const maxX = Math.max(...xData);
    const minY = Math.min(...yData);
    const maxY = Math.max(...yData);
    const zeroX = (xLabel ? 25 : 0) + context.measureText((maxY).toLocaleString(undefined, { "maximumFractionDigits": 0 })).width;
    const zeroY = yLabel ? ySize - 23 : ySize;
    if (xLabel) {
        const xLabelInfo = context.measureText(xLabel);
        context.font = "12px Droid Sans";
        context.fillStyle = "#eee";
        context.fillText(xLabel, xSize / 2 + zeroX / 2 - xLabelInfo.width / 2, ySize);
    }
    if (yLabel) {
        context.save();
        context.font = "12px Droid Sans";
        context.fillStyle = "#eee";
        context.translate(10, ySize / 2 + 10);
        context.rotate(-Math.PI / 2);
        context.fillText(yLabel, 0, 0);
        context.restore();
    }
    const scaleX = (xSize - zeroX) / (maxX - minX);
    const scaleY = (zeroY) / (maxY - minY);
    for (var i = 0; i < xData.length - 1; i++) {
        context.beginPath();
        context.moveTo((xData[i] - minX) * scaleX + zeroX, zeroY - (yData[i] - minY) * scaleY);
        context.lineTo((xData[i + 1] - minX) * scaleX + zeroX, zeroY - (yData[i + 1] - minY) * scaleY);
        context.strokeStyle = lineColor ? lineColor : "#f7a600";
        context.stroke();
    }
    context.beginPath();
    context.strokeStyle = "#bbb";
    context.moveTo(zeroX, zeroY);
    context.lineTo(xSize, zeroY);
    context.stroke();
    context.beginPath();
    context.moveTo(zeroX, zeroY);
    context.lineTo(zeroX, 0);
    context.stroke();
    for (i = 0; i < 10; i++) {
        const text = isDates ? (new Date((maxX - minX) * i / 10 + minX)).toLocaleDateString(undefined, { month: "2-digit", day: "2-digit" }) : ((maxX - minX) * i / 10 + minX).toLocaleString(undefined, { maximumFractionDigits: 2 });
        context.font = "10px Droid Sans";
        context.fillStyle = "#999";
        context.fillText(text, (xSize - zeroX) * i / 10 + zeroX, ySize - 12);
    }
    for (i = 0; i <= 5; i++) {
        var value = (maxY - minY) * i / 5 + minY;
        value = Math.round(value / Math.pow(10, Math.floor(Math.log10(value)) - 3)) * Math.pow(10, Math.floor(Math.log10(value)) - 3);
        const text = (currencySymbol ? currencySymbol : "") + (value).toLocaleString(undefined, { "maximumFractionDigits": 0 });
        const textInfo = context.measureText(text);
        context.font = "10px Droid Sans";
        context.fillStyle = "#999";
        context.fillText(text, zeroX - textInfo.width - 2, -(zeroY - 8) * i / 5 + zeroY);
    }
    return canvas;
}
function drawPieChart(data, size, text, colors) {
    const pieSize = size / 2 - 12;
    const centerX = size * 1.5;
    const centerY = size / 2 + 12;
    var angle = 0;
    var sum = 0;
    data.forEach(point => {
        sum += point;
    });
    const canvas = document.createElement("canvas");
    canvas.height = size + 24;
    canvas.width = size * 3;
    const context = canvas.getContext("2d");
    if (!context) {
        return null;
    }
    for (var i = 0; i < data.length; i++) {
        const pieAngle = data[i] / sum * 2 * Math.PI;
        context.beginPath();
        context.arc(centerX, centerY, pieSize, angle, angle + pieAngle);
        context.stroke();
        angle += pieAngle;
        context.lineTo(centerX, centerY);
        if (colors) {
            context.fillStyle = colors[i] || "#00ff00";
        }
        else {
            context.fillStyle = i == data.length - 1 && data.length % __WEBPACK_IMPORTED_MODULE_2__Style__["c" /* DefaultColors */].length == 1 && data.length > 1 ? __WEBPACK_IMPORTED_MODULE_2__Style__["c" /* DefaultColors */][1] : __WEBPACK_IMPORTED_MODULE_2__Style__["c" /* DefaultColors */][i % __WEBPACK_IMPORTED_MODULE_2__Style__["c" /* DefaultColors */].length];
        }
        context.fill();
    }
    if (!text) {
        return canvas;
    }
    angle = 0;
    var minX = centerX - pieSize;
    var maxX = centerX + pieSize;
    for (var i = 0; i < data.length; i++) {
        const pieAngle = data[i] / sum * 2 * Math.PI;
        const percent = " - " + (data[i] / sum * 100).toLocaleString(undefined, { "maximumFractionDigits": 0 }) + "%";
        const textInfo = context.measureText(text[i] + percent);
        if (pieAngle < 0.3 && data.length > 5) {
            continue;
        }
        var startX = centerX + Math.cos(angle + pieAngle / 2) * size / 2;
        var startY = centerY + Math.sin(angle + pieAngle / 2) * size / 2 + 4;
        if (startX - textInfo.width < minX) {
            minX = startX - textInfo.width;
        }
        else if (startX + textInfo.width > maxX) {
            maxX = startX + textInfo.width;
        }
        if (angle + pieAngle / 2 > Math.PI / 2 && angle + pieAngle / 2 < Math.PI * 3 / 2) {
            startX -= textInfo.width;
        }
        context.font = "12px Droid Sans";
        context.fillStyle = "#eee";
        context.fillText(text[i] + percent, startX, startY);
        angle += pieAngle;
    }
    canvas.style.marginLeft = (minX > 0 ? -minX + 5 : 5).toString() + "px";
    canvas.style.marginRight = (maxX - 2 * size + 5).toString() + "px";
    return canvas;
}
function getLocalStoragePromise(keys) {
    try {
        return browser.storage.local.get(keys);
    }
    catch (err) {
        return chrome.storage.local.get(keys);
    }
}
function setLocalStoragePromise(items) {
    let promise;
    try {
        promise = browser.storage.local.set(items);
    }
    catch (err) {
        promise = chrome.storage.local.set(items);
    }
    return promise;
}
class Popup {
    constructor(tile, name) {
        this.rows = [];
        this.tile = tile;
        this.overlapDiv = document.createElement("div");
        this.overlapDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].OverlappingDiv);
        const greyStripes = document.createElement("div");
        greyStripes.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].GreyStripes);
        this.overlapDiv.appendChild(greyStripes);
        tile.insertBefore(this.overlapDiv, tile.firstChild);
        greyStripes.appendChild(makePopupSpacer(tile, this.overlapDiv));
        const popupInterfaceWrapper = document.createElement("div");
        popupInterfaceWrapper.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].CenterInterface);
        greyStripes.appendChild(popupInterfaceWrapper);
        const popupInterface = document.createElement("div");
        popupInterface.classList.add("DraftConditionEditor__form___fF72bJM");
        popupInterfaceWrapper.appendChild(popupInterface);
        const header = document.createElement("h3");
        header.appendChild(document.createTextNode(name));
        header.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].SidebarSectionHead);
        popupInterface.appendChild(header);
        header.style.margin = "0.5em 0 0.5em";
        this.form = document.createElement("div");
        popupInterface.appendChild(this.form);
        greyStripes.appendChild(makePopupSpacer(tile, this.overlapDiv));
    }
    addPopupRow(rowType, label, inputText, tooltip, callback, params) {
        const newRow = new PopupRow(rowType, label, inputText, tooltip, callback, params);
        this.rows.push(newRow);
        this.form.appendChild(newRow.row);
    }
    removePopupRow(rowIndex) {
        const toDelete = this.rows.splice(rowIndex, 1)[0];
        this.form.removeChild(toDelete.row);
    }
    getRowByName(name) {
        var selectedRow;
        this.rows.forEach(row => {
            if (row.rowLabel == name) {
                selectedRow = row;
                return;
            }
        });
        return selectedRow;
    }
    destroy() {
        this.tile.removeChild(this.overlapDiv);
    }
    moveRowToBottom(rowIndex) {
        const movingRow = this.rows[rowIndex];
        this.removePopupRow(rowIndex);
        this.rows.push(movingRow);
        this.form.appendChild(movingRow.row);
    }
}
/* harmony export (immutable) */ __webpack_exports__["b"] = Popup;

class PopupRow {
    constructor(rowType, label, inputText, tooltip, callback, params) {
        this.rowType = rowType;
        this.rowLabel = label;
        if (rowType == "text" || rowType == "date" || rowType == "number") {
            this.row = document.createElement("div");
            this.row.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormRow);
            const rowLabel = document.createElement("label");
            rowLabel.textContent = label;
            if (tooltip) {
                rowLabel.appendChild(createToolTip(tooltip, "right"));
            }
            rowLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormLabel);
            this.row.appendChild(rowLabel);
            const inputInputDiv = document.createElement("div");
            inputInputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormInput);
            this.row.appendChild(inputInputDiv);
            this.rowInput = document.createElement("input");
            inputInputDiv.appendChild(this.rowInput);
            if (inputText) {
                this.rowInput.value = inputText;
            }
            if (rowType == "date") {
                this.rowInput.type = "datetime-local";
            }
            else if (rowType == "number") {
                this.rowInput.type = "number";
            }
            this.rowInput.style.width = "80%";
            if (callback) {
                const rowInput = this.rowInput;
                this.rowInput.addEventListener("input", function () {
                    callback(rowInput.value, params);
                });
            }
        }
        else if (rowType == "dropdown") {
            this.row = document.createElement("div");
            this.row.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormRow);
            const rowLabel = document.createElement("label");
            rowLabel.textContent = label;
            if (tooltip) {
                rowLabel.appendChild(createToolTip(tooltip, "right"));
            }
            rowLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormLabel);
            this.row.appendChild(rowLabel);
            const inputDiv = document.createElement("div");
            inputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormInput);
            this.row.appendChild(inputDiv);
            this.rowInput = document.createElement("select");
            this.rowInput.classList.add("select");
            this.rowInput.style.width = "80%";
            this.rowInput.style.textAlignLast = "right";
            this.rowInput.name = "popup-dropdown" + Math.floor(Math.random() * 10000).toString();
            this.rowInput.id = "popup-dropdown" + Math.floor(Math.random() * 10000).toString();
            const selectedIndex = inputText[inputText.length - 1];
            inputText = inputText.slice(0, -1);
            inputText.forEach(text => {
                this.rowInput.appendChild(createSelectOption(text, text));
            });
            if (this.rowInput.children[selectedIndex]) {
                this.rowInput.children[selectedIndex].selected = true;
                this.rowInput.selectedIndex = selectedIndex;
            }
            inputDiv.appendChild(this.rowInput);
            if (callback) {
                const rowInput = this.rowInput;
                this.rowInput.addEventListener("change", function () {
                    callback(rowInput.selectedOptions[0].value, params);
                });
            }
        }
        else if (rowType == "button") {
            this.row = document.createElement("div");
            this.row.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormSaveRow);
            const rowLabel = document.createElement("label");
            rowLabel.textContent = label;
            rowLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormSaveLabel);
            this.row.appendChild(rowLabel);
            const inputDiv = document.createElement("div");
            inputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormSaveInput);
            this.row.appendChild(inputDiv);
            this.rowInput = document.createElement("button");
            this.rowInput.textContent = inputText;
            this.rowInput.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].Button);
            this.rowInput.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].ButtonPrimary);
            inputDiv.appendChild(this.rowInput);
            if (callback) {
                this.rowInput.addEventListener("click", function () {
                    callback(params);
                });
            }
        }
    }
}


/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const Selector = {
    LMCommodityAdText: "div[class~='CommodityAd__text___xJQmJNa']",
    LMCommodityAdPriceSpan: "div[class~='CommodityAd__text___xJQmJNa'] > span",
    ProdItem: "OrderSlot__container___YFyk8a7",
    ProdQueueTable: "table[class~='ProductionQueue__table___jHQGyUI']",
    BufferHeader: 'TileFrame__cmd___ScBYW0n type__type-very-small___HaVMqrE',
    Sidebar: "div#TOUR_TARGET_SIDEBAR_RIGHT",
    LMPostForm: "form[class~='LocalMarketPost__form___CAVPdDE']",
    WorkforceConsumptionTable: "div[class~='TileFrame__title___xRcZCPx']",
    XITTile: "div[class~='ScrollView__view___ovf59Tk'] > div",
    BufferTitle: "div[class~='TileFrame__title___xRcZCPx']",
    Notification: "div[class~='AlertListItem__content___XYebR1E']",
    ProdQueue: "div[class~='SiteProductionLines__column____s3cTk7']",
    BufferPanel: "div[class~='ScrollView__view___ovf59Tk']",
    NewBFRButton: "TOUR_TARGET_BUTTON_BUFFER_NEW",
    WholeWindow: "#container",
    BufferTextField: "input[class~='PanelSelector__input___wUstHrO']",
    BufferList: "#container > div > div > div > div:nth-child(3)",
    ScreenControls: "TOUR_TARGET_SCREEN_CONTROLS",
    LeftSidebar: "TOUR_TARGET_SIDEBAR_LEFT_02",
    BufferArea: "div[class~='Tile__selector___HYMmNEO']",
    ScreenName: "span[class~='ScreenControls__currentScreenName___I2sIYag']",
    MaterialIcon: "GridItemView__image___yMoKOZV",
    BufferLink: "span[class~='Link__link___fa4mmMA']",
    FullMaterialIcon: "div[class~='GridItemView__container___xP2uJz8']",
    Inventory: "div[class~='InventoryView__grid___UyRQSX8']",
    MaterialText: "span[class~='ColoredIcon__label___OU1I4oP']",
    InventorySortOptions: "div[class~='InventorySortControls__controls___qk5heAZ']",
    ChatArea: "div[class~='Channel__messageAndUserList___NCgQAtW']",
    MaterialQuantity: "div[class~='MaterialIcon__indicator___SHwlndJ']",
    HeaderRow: "div[class~='FormComponent__containerPassive___FrBdyGU']",
    FormInputRow: "div[class~='FormComponent__containerActive___HZv9jHd']",
    ContDForm: "div[class~='DraftConditionEditor__form___fF72bJM'] > form",
    ContDConditionsTable: "div[class~='Draft__conditions___bcIUndH'] > table > tbody",
    ContDFormLabel: "label[class~='FormComponent__label___aQB15eB']",
    ContDFormRowSpacer: "div[class~='DynamicInput__dynamic___Cd4Gkbz']",
    ContDFormInput: "div[class~='FormComponent__input___ZnI8mYi']",
    SidebarContract: "div[class~='Sidebar__contract___J0gmlzN']",
    SidebarContractId: "span[class~='Sidebar__contractId___Lg85TRZ']",
    BuildingList: "div[class~='SectionList__container___EtUzWyi']",
    Divider: "div[class~='SectionList__divider___cwWO45v']",
    MaterialLabel: "span[class~='GridItemView__name___h3yX9Lm']",
    SmallButton: "button[class~='Button__darkInline___z_YKa91']"
};
/* harmony export (immutable) */ __webpack_exports__["a"] = Selector;



/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const Style = {
    Button: ["Button__btn___UJGZ1b7"],
    ButtonPrimary: ["Button__primary____lObPiw"],
    ButtonSuccess: ["Button__success___bCiIVXw"],
    ButtonDisabled: ["Button__disabled____x8i7XF"],
    ButtonEnabled: ["Button__primary____lObPiw"],
    ButtonDanger: ["Button__danger___S2rSOES"],
    ButtonNeutral: ["Button__neutral___OAFOaNs"],
    SmallButton: ["Button__darkInline___z_YKa91", "Button__dark___vdJbcc8", "Button__btn___UJGZ1b7", "Button__inline___Ffw9bbn"],
    SidebarSectionHead: ["Sidebar__sectionHead____NHLKDT", "fonts__font-regular___Sxp1xjo"],
    SidebarSectionContent: ["Sidebar__sectionContent___wgGYFop", "fonts__font-regular___Sxp1xjo"],
    SidebarLine: ["Sidebar__contract___J0gmlzN", "Sidebar__sidebar-line___bE2rbRb"],
    FontsRegular: ["fonts__font-regular___Sxp1xjo"],
    SidebarText: ["Frame__toggleLabel___BTFce8H", "fonts__font-regular___Sxp1xjo", "type__type-regular___k8nHUfI"],
    SidebarSliver: ["Frame__toggleIndicatorSecondary___frX4CGi", "Frame__toggleIndicator___ZKQQgAL"],
    SidebarButton: ["Frame__toggle___V3iHpB7"],
    ContractLine: ["y84EUI8gCP-SV91X7vIihQ==", "fVd3aYJhFY-uuaH+QTByhA=="],
    ContractName: ["zhixp408YF082IzA5KPvfA=="],
    ContractView: ["kq5BrGKnTUTqCDYMpLQ90g=="],
    RadioButton: ["RadioItem__container___CSczqmG"],
    SettingsButton: ["RadioItem__container___CSczqmG", "RadioItem__containerHorizontal____trlXDo"],
    RadioButtonUnToggled: ["RadioItem__indicator___QzQtjhA"],
    SettingsBarUntoggled: ["RadioItem__indicator___QzQtjhA", "RadioItem__indicatorHorizontal___SwtwTIh"],
    RadioButtonToggled: ["RadioItem__indicator___QzQtjhA", "RadioItem__active___CDscOQV", "effects__shadowPrimary___EbXJQor"],
    SettingsBarToggled: ["RadioItem__indicator___QzQtjhA", "RadioItem__indicatorHorizontal___SwtwTIh", "RadioItem__active___CDscOQV", "effects__shadowPrimary___EbXJQor"],
    RadioButtonValue: ["RadioItem__value___Yd1Gt1T", "fonts__font-regular___Sxp1xjo", "type__type-small___pMQhMQO"],
    SettingsText: ["RadioItem__value___Yd1Gt1T", "fonts__font-regular___Sxp1xjo", "type__type-small___pMQhMQO", "RadioItem__valueHorizontal___D5AXJ9P"],
    OverlappingDiv: ["Overlay__overlay___NA9HV8y"],
    GreyStripes: ["Overlay__background___ieZpHiF", "Overlay__overlay___NA9HV8y"],
    Spacer: ["Overlay__close___bxGoMIl"],
    ProgressBar: ["ProgressBar__primary___O30jBqq", "ProgressBar__progress___eb4KhuW"],
    ProgressBarColors: ["ProgressBar__primary___O30jBqq", "grey-progress-bar", "good-progress-bar", "warning-progress-bar", "danger-progress-bar"],
    ProgressBarGood: ["good-progress-bar"],
    ProgressBarWarning: ["warning-progress-bar"],
    ProgressBarDanger: ["danger-progress-bar"],
    CenterInterface: ["Overlay__children___rgtVaxc"],
    FormRow: ["FormComponent__containerActive___HZv9jHd", "forms__active___wn9KQTZ", "forms__form-component___yTgP_Qa"],
    HeaderRow: ["FormComponent__containerPassive___FrBdyGU", "forms__passive___biRUiE5", "forms__form-component___yTgP_Qa"],
    FormLabel: ["FormComponent__label___aQB15eB", "fonts__font-regular___Sxp1xjo", "type__type-regular___k8nHUfI"],
    FormInput: ["FormComponent__input___ZnI8mYi", "forms__input___A92_N4J"],
    FormSaveRow: ["FormComponent__containerCommand___B4XLERf", "forms__cmd___IMzt7Ug", "forms__form-component___yTgP_Qa"],
    FormSaveLabel: ["FormComponent__label___aQB15eB", "fonts__font-regular___Sxp1xjo", "type__type-regular___k8nHUfI"],
    FormSaveInput: ["FormComponent__input___ZnI8mYi", "forms__input___A92_N4J"],
    ActionOverlay: ["ActionConfirmationOverlay__container___A05Ts1g", "ActionFeedback__overlay___NNDPRrV"],
    ActionCenterInterface: ["ActionConfirmationOverlay__message___OajoGeh", "ActionFeedback__message___G2Sz4bw", "fonts__font-regular___Sxp1xjo", "type__type-larger___VdpJIb1"],
    ActionConfirm: ["ActionConfirmationOverlay__message___OajoGeh", "ActionFeedback__message___G2Sz4bw", "fonts__font-regular___Sxp1xjo", "type__type-larger___VdpJIb1"],
    ActionConfirmMessage: ["ActionConfirmationOverlay__text___qkKzVK0", "ActionFeedback__text___YQjjibG", "fonts__font-regular___Sxp1xjo", "type__type-regular___k8nHUfI"],
    ActionButtons: ["ActionConfirmationOverlay__buttons___sE7CNVe"],
    MatText: ["ColoredIcon__label___OU1I4oP"],
    MatTextWrapper: ["ColoredIcon__labelContainer___YVfgzOk"],
    MaterialElement: ["ColoredIcon__container___djaR4r2"],
    MaterialWrapper: ["MaterialIcon__container___q8gKIx8"],
    MaterialNumberWrapper: ["MaterialIcon__indicatorContainer___Cqtax_Y"],
    MaterialNumber: ["MaterialIcon__indicator___SHwlndJ", "MaterialIcon__type-very-small___UMzQ3ir", "MaterialIcon__neutral___SYsHXAa"],
    MaterialWrapperWrapper: ["GridItemView__image___yMoKOZV"],
    MaterialOuter: ["GridItemView__container___xP2uJz8"],
    MaterialNameText: ["GridItemView__name___h3yX9Lm", "fonts__font-regular___Sxp1xjo", "type__type-regular___k8nHUfI"],
};
/* harmony export (immutable) */ __webpack_exports__["g"] = Style;

const WithStyles = (...style) => {
    return style.reduce(((previousValue, currentValue) => previousValue.concat(currentValue)));
};
/* harmony export (immutable) */ __webpack_exports__["i"] = WithStyles;

const TextColors = {
    Failure: "#d9534f",
    Success: "#5cb85c",
    Standard: "#bbbbbb",
    Yellow: "#f7a600"
};
/* harmony export (immutable) */ __webpack_exports__["h"] = TextColors;

const DefaultColors = [
    "#004564",
    "#005b76",
    "#007079",
    "#00846c",
    "#009552",
    "#67a22e",
    "#ada900",
    "#f7a600"
];
/* harmony export (immutable) */ __webpack_exports__["c"] = DefaultColors;

const CategoryColors = {
    "electronic devices": ["linear-gradient(135deg, rgb(86, 20, 147), rgb(111, 45, 172))", "rgb(213, 147, 255)"],
    "construction prefabs": ["linear-gradient(135deg, rgb(15, 30, 98), rgb(40, 55, 123))", "rgb(142, 157, 225)"],
    "electronic systems": ["linear-gradient(135deg, rgb(51, 26, 76), rgb(76, 51, 101))", "rgb(178, 153, 203)"],
    "medical equipment": ["linear-gradient(135deg, rgb(85, 170, 85), rgb(110, 195, 110))", "rgb(212, 255, 212)"],
    "construction parts": ["linear-gradient(135deg, rgb(41, 77, 107), rgb(66, 102, 132))", "rgb(168, 204, 234)"],
    "ship engines": ["linear-gradient(135deg, rgb(153, 41, 0), rgb(178, 66, 25))", "rgb(255, 168, 127)"],
    "ship parts": ["linear-gradient(135deg, rgb(153, 99, 0), rgb(178, 124, 25))", "rgb(255, 226, 127)"],
    "metals": ["linear-gradient(135deg, rgb(54, 54, 54), rgb(79, 79, 79))", "rgb(181, 181, 181)"],
    "consumables (luxury)": ["linear-gradient(135deg, rgb(136, 24, 39), rgb(161, 49, 64))", "rgb(255, 151, 166)"],
    "agricultural products": ["linear-gradient(135deg, rgb(92, 18, 18), rgb(117, 43, 43))", "rgb(219, 145, 145)"],
    "ores": ["linear-gradient(135deg, rgb(82, 87, 97), rgb(107, 112, 122))", "rgb(209, 214, 224)"],
    "gases": ["linear-gradient(135deg, rgb(0, 105, 107), rgb(25, 130, 132))", "rgb(127, 232, 234)"],
    "ship shields": ["linear-gradient(135deg, rgb(224, 131, 0), rgb(249, 156, 25))", "rgb(230 230,127)"],
    "alloys": ["linear-gradient(135deg, rgb(123, 76, 30), rgb(148, 101, 55))", "rgb(250, 203, 157)"],
    "chemicals": ["linear-gradient(135deg, rgb(183, 46, 91), rgb(208, 71, 116))", "rgb(255, 173, 218)"],
    "software components": ["linear-gradient(135deg, rgb(136, 121, 47), rgb(161, 146, 72))", "rgb(255, 248, 174)"],
    "electronic pieces": ["linear-gradient(135deg, rgb(119, 82, 189), rgb(144, 107, 214))", "rgb(246, 209, 255)"],
    "elements": ["linear-gradient(135deg, rgb(61, 46, 32), rgb(86, 71, 57))", "rgb(188, 173, 159)"],
    "minerals": ["linear-gradient(135deg, rgb(153, 113, 73), rgb(178, 138, 98))", "rgb(255, 240, 200)"],
    "unit prefabs": ["linear-gradient(135deg, rgb(29, 27, 28), rgb(54, 52, 53))", "rgb(156, 154, 155)"],
    "liquids": ["linear-gradient(135deg, rgb(114, 164, 202), rgb(139, 189, 227))", "rgb(241, 255, 255)"],
    "energy systems": ["linear-gradient(135deg, rgb(21, 62, 39), rgb(46, 87, 64))", "rgb(148, 189, 166)"],
    "drones": ["linear-gradient(135deg, rgb(140, 52, 18), rgb(165, 77, 43))", "rgb(255, 179, 145)"],
    "electronic parts": ["linear-gradient(135deg, rgb(91, 46, 183), rgb(116, 71, 208))", "rgb(218, 173, 255)"],
    "textiles": ["linear-gradient(135deg, rgb(82, 90, 33), rgb(107, 115, 58))", "rgb(209, 217, 160)"],
    "construction materials": ["linear-gradient(135deg, rgb(24, 91, 211), rgb(49, 116, 236))", "rgb(151, 218, 255)"],
    "software tools": ["linear-gradient(135deg, rgb(129, 98, 19), rgb(154, 123, 44))", "rgb(255, 255, 146)"],
    "plastics": ["linear-gradient(135deg, rgb(121, 31, 60), rgb(146, 56, 85))", "rgb(248, 158, 187)"],
    "consumables (basic)": ["linear-gradient(135deg, rgb(149, 46, 46), rgb(174, 71, 71))", "rgb(255, 173, 173)"],
    "fuels": ["linear-gradient(135deg, rgb(30, 123, 30), rgb(55, 148, 55))", "rgb(157, 250, 157)"],
    "software systems": ["linear-gradient(135deg, rgb(60, 53, 5), rgb(85, 78, 30))", "rgb(187, 180, 132)"],
    "ship kits": ["linear-gradient(135deg, rgb(154, 84, 0), rgb(178, 109, 25))", "rgb(255, 211, 127)"],
    "utility": ["linear-gradient(135deg, rgb(161, 148, 136), rgb(186, 173, 161))", "rgb(255, 255, 255)"],
    "shipment": ["linear-gradient(135deg, #030303, #181818)", "#7f7f7f"]
};
/* harmony export (immutable) */ __webpack_exports__["b"] = CategoryColors;

const PMMGStyle = `
.pb-minimize {
	font-size: 14px;
	font-weight: bold;
	margin-left: auto;
	margin-right: 3px;
	margin-top: 1px;
	text-align: center;
	width: 18px;
	cursor: pointer;
}
.pb-minimize-cx:hover {
	color: #26353e;
	background-color: #3fa2de;
}
.pb-minimize-cx {
	background-color: #26353e;
	color: #3fa2de;
}
.pb-minimize-settings:hover {
	color: #ddd;
}
.mat-element-large {
	height: 48px;
	width: 48px;
}
.mat-element-large div.ColoredIcon__container___djaR4r2 {
	height: 48px;
	width: 48px;
	font-size: 15.84px;
	cursor: pointer;
}
.mat-element-small {
	height: 32px;
	width: 32px;
}
.check-time-complete {
	text-decoration: line-through;
}
.check-time-overdue {
	color: #d9534f;
}
.check-time {
	color: rgb(153, 153, 153)
}
.check-item {
	display: flex;
	justify-content: space-between;
	border-bottom: solid 1px #555;
}
.checked-text {
	text-decoration: line-through;
	color: rgb(153, 153, 153)
}
.delete-button {
	background-color: #d9534f;
	border: none;
	color: #fff;
	line-height: 17px;
	font-weight: bold;
	outline: none;
	padding: 0 8px;
	font-size: 11px;
	cursor: pointer;
}
.delete-button:hover {
	color: #222;
}
.notes-wrapper{
	width: 100%;
	height: 93%;
	display: flex;
}



.notes-wrapper .title.note-title {
    padding-top: 5px;
}
.pb-edit-div {
    margin: 10px;
    padding: 10px;
    border: 0;
    width: calc(100% - 20px);
    height: calc(100% - 20px - 20px);
    background-color: #42361d;
    color: #cccccc;
    position: absolute;
    top: 20px;
    left: 0;
    overflow: auto;
	font-family: "Droid Sans",sans-serif;
	font-size: 13.333px;
    line-height: 1.5;
    tab-size: 4;
	resize: none;
}
.pb-edit-div:focus {
	outline: none;
}

#note-textbox {
    color: transparent;
    background: transparent;
    caret-color: #cccccc;
    resize: none;
    z-index: 0;
}
#note-textbox:focus {
    outline: none;
}
#note-render-overlay {
    pointer-events: none;
    z-index: 1;
}
#note-render-overlay .link {
    pointer-events: auto;
    z-index: 2;
    display: inline;
}



.check-wrapper {
	margin: 5px;
}
.tooltip-base{
	display:flex;
	position:absolute!important;
	font-family:"Droid Sans",sans-serif;
	font-size:10px;
	color:#bbb
}
.tooltip
{
	display: none;
	margin-left: 100px;
}
.tooltip-base:hover .tooltip
{
	display: block;
	background-color: #23282b;
	position: absolute;
}
.select {
	border: 0px;
	border-bottom: 1px solid #8d6411;
	background-color: #42361d;
	color: #bbb;
	outline: none;
}

.title {
	font-weight: bold;
	display: block;
	font-size: 16px;
	padding-left: 5px;
}
.flex-table {
	width: 100%;
	display: flex;
	flex: 1;
	flex-direction: row;
	flex-wrap: wrap;
	justify-content: left;
	align-items: left;
}
.list {
	display: block;
	padding: 5px;
}
.chat-line {
	width: 100%;
	display: grid;
	grid-template-columns: minmax(8em, 1fr) minmax(8em, 4fr) minmax(8em, 15fr);
	grid-column-gap: 1px;
	font-size: 11px;
	line-height: 1.1;
}
.time-date {
	color: #444444;
	display: inline-block;
	padding: 2px 5px;
	padding-right: 0px;
	text-align: left;
	white-space: nowrap;
	overflow: hidden;
}
.chat-name {
	display: inline-block;
	text-align: right;
	color: #999999;
	text-overflow: ellipsis;
	padding: 2px 5px;
	border-right: 1px solid #999999;
}
.chat-message {
	display: inline-block;
	text-align: left;
	color: #bbbbbb;
	word-break: break-word;
	padding: 2px 5px;
}
.fin-title {
	display: block;
	font-size: 12px;
	margin-bottom: 0px;
	padding: 6px 4px 2px;
	background-color: rgba(63, 162, 222, 0.15);
}
td.burn-green {
	background-color: #345034 !important;
	color: #9fbb9f;
}
tr:hover td.burn-green {
	background-color: #506c50 !important;
}
td.burn-yellow {
	background-color: #836e24 !important;
	color: #f6df94;
}
tr:hover td.burn-yellow {
	background-color: #9f8a40 !important;
}
td.burn-red {
	background-color: #5a3130 !important;
	color: #c59c9b;
}
tr:hover td.burn-red {
	background-color: #764d4c !important;
}
.inv-header {
	display: inline;
	padding: 2px 8px;
	color: #3fa2de;
}
.inv-body {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	justify-content: space-around;
	align-items: stretch;
	margin-bottom: 23px;
	padding: 5px 8px;
}
.progress-bar {
	width: 30px;
	height: 9px;
	border: 1px solid #999;
	margin: 1px 2px;
}
.progress-bar::-webkit-progress-value {background: #f7a600;}

.grey-progress-bar::-webkit-progress-value {background: #d9534f;}
.good-progress-bar::-webkit-progress-value {background: #5cb85c;}
.warning-progress-bar::-webkit-progress-value {background: #ffc856;}
.danger-progress-bar::-webkit-progress-value {background: #d9534f;}

.xit-tile {
	background-color: #222222 !important;
	padding-top: 4px;
	display: flex;
	flex-flow: column;
}
.refresh-button {
	background-color: #f7a600;
	color: #eee;
	border-width: 0px;
	padding: 0px 8px;
	display: block;
	font-weight: bold;
	font-size: 11px;
	cursor: pointer;
	margin: 4px 8px;
}
.refresh-button:hover {
	color: #1e1e1e;
}
.notification {
	display: inline-block;
	min-width: 62px;
	max-width: 62px;
}
.fin-box {
	margin: 1px;
	min-width: 100px;
	width: calc(33% - 2px);
	max-width: 150px;
	padding: 4px;
	background-color: #23282b;
	display: inline-block;
}
.link {
	color: #3fa2de;
	cursor: pointer;
	display: block;
}
.link:hover {
	color: #f7a600 !important;
}
.chat-image {
	max-height: 300px;
	max-width: 90%;
}
.input-text{
    padding: 0px 5px;
    margin: 5px;
	background-color: #42361d;
	border-width: 0px;
	border-bottom: 1px solid #8d6411;
	color: #cccccc;
	
}
.input-text:focus{
	outline: none;
}
.hidden-element{
	display: none !important;
	visibility: false !important;
	max-height: 0 !important;
	padding: 0 !important;
	margin: 0 !important;
	font-size: 0px !important;
}
.button-upper-right{
	background-color: transparent;
	color: #bbb;
	fill: #bbb;
	cursor: pointer;
	display: block;
	font-size: 24px;
	margin-top: -8px;
}
.button-upper-right:hover{
	color: #000 !important;
	fill: #000;
	background-color: rgb(247, 166, 0);
}`;
/* harmony export (immutable) */ __webpack_exports__["f"] = PMMGStyle;

const AdvancedStyle = `
span.GridItemView__name___h3yX9Lm {
	display: none;
}
div.GridItemView__container___xP2uJz8 {
	width: auto;
}
`;
/* harmony export (immutable) */ __webpack_exports__["a"] = AdvancedStyle;

const EnhancedColors = `/* consumables (luxury) */
div[title="Stellar Pale Ale"],
div[data-tooltip-content="#tooltip_ALE"],
.tooltip_ALE,
div[title="Caffeinated Infusion"],
div[data-tooltip-content="#tooltip_COF"],
.tooltip_COF,
div[title="Einsteinium-Infused Gin"],
div[data-tooltip-content="#tooltip_GIN"],
.tooltip_GIN,
div[title="Kombucha"],
div[data-tooltip-content="#tooltip_KOM"],
.tooltip_KOM,
div[title="NeuroStimulants"],
div[data-tooltip-content="#tooltip_NST"],
.tooltip_NST,
div[title="Padded Work Overall"],
div[data-tooltip-content="#tooltip_PWO"],
.tooltip_PWO,
div[title="Repair Kit"],
div[data-tooltip-content="#tooltip_REP"],
.tooltip_REP,
div[title="Stem Cell Treatment"],
div[data-tooltip-content="#tooltip_SC"],
.tooltip_SC,
div[title="VitaGel"],
div[data-tooltip-content="#tooltip_VG"],
.tooltip_VG,
.tooltip_WIN,
div[title="Smart Zinfandel"],
div[data-tooltip-content="#tooltip_WIN"]
{
background: linear-gradient(135deg, #680000, #7b0012) !important;
color: #db9191 !important;
}
/* agricultural products */
.tooltip_FOD,
.tooltip_CAF,
.tooltip_HOP,
.tooltip_GRN,
.tooltip_MAI,
.tooltip_HCP,
.tooltip_MTP,
.tooltip_PIB,
.tooltip_PPA,
.tooltip_ALG,
.tooltip_BEA,
.tooltip_MUS,
.tooltip_RCO,
.tooltip_RSI,
.tooltip_HER,
.tooltip_VEG,
.tooltip_NUT,
.tooltip_VIT,
.tooltip_GRA,
div[title="Protein-Rich Algae"],
div[data-tooltip-content="#tooltip_ALG"],
div[title="Protein-Rich Beans"],
div[data-tooltip-content="#tooltip_BEA"],
div[title="Caffeinated Beans"],
div[data-tooltip-content="#tooltip_CAF"],
div[title="All-Purpose Fodder"],
div[data-tooltip-content="#tooltip_FOD"],
div[title="Wine-Quality Grapes"],
div[data-tooltip-content="#tooltip_GRA"],
div[title="High-Carb Grains"],
div[data-tooltip-content="#tooltip_GRN"],
div[title="Hydrocarbon Plants"],
div[data-tooltip-content="#tooltip_HCP"],
div[title="Spicy Herbs"],
div[data-tooltip-content="#tooltip_HER"],
div[title="Flowery Hops"],
div[data-tooltip-content="#tooltip_HOP"],
div[title="High-Carb Maize"],
div[data-tooltip-content="#tooltip_MAI"],
div[title="Meat Tissue Patties"],
div[data-tooltip-content="#tooltip_MTP"],
div[title="Protein-Rich Mushrooms"],
div[data-tooltip-content="#tooltip_MUS"],
div[title="Triglyceride Nuts"],
div[data-tooltip-content="#tooltip_NUT"],
div[title="Pineberries"],
div[data-tooltip-content="#tooltip_PIB"],
div[title="Protein Paste"],
div[data-tooltip-content="#tooltip_PPA"],
div[title="Raw Cotton Fiber"],
div[data-tooltip-content="#tooltip_RCO"],
div[title="Raw Silk Strains"],
div[data-tooltip-content="#tooltip_RSI"],
div[title="Triglyceride Fruits"],
div[data-tooltip-content="#tooltip_VEG"],
div[title="Vita Essence"],
div[data-tooltip-content="#tooltip_VIT"]
{
background: linear-gradient(135deg, #003800, #0a4708) !important;
color: #8bb37b !important;
}
/* plastics */
.tooltip_DCL,
.tooltip_DCM,
.tooltip_DCS,
.tooltip_PE,
.tooltip_PG,
.tooltip_PSL,
.tooltip_PSM,
.tooltip_PSS,
div[title="Durable Casing L"],
div[data-tooltip-content="#tooltip_DCL"],
div[title="Durable Casing M"],
div[data-tooltip-content="#tooltip_DCM"],
div[title="Durable Casing S"],
div[data-tooltip-content="#tooltip_DCS"],
div[title="Poly-Ethylene"],
div[data-tooltip-content="#tooltip_PE"],
div[title="Polymer Granulate"],
div[data-tooltip-content="#tooltip_PG"],
div[title="Polymer Sheet Type L"],
div[data-tooltip-content="#tooltip_PSL"],
div[title="Polymer Sheet Type M"],
div[data-tooltip-content="#tooltip_PSM"],
div[title="Polymer Sheet Type S"],
div[data-tooltip-content="#tooltip_PSS"]
{
background: linear-gradient(135deg, #791f62, #92387b) !important;
color: #f89ee1 !important;
}
/* consumables (basic) */
.tooltip_DW,
.tooltip_EXO,
.tooltip_FIM,
.tooltip_HMS,
.tooltip_HSS,
.tooltip_LC,
.tooltip_MEA,
.tooltip_MED,
.tooltip_OVE,
.tooltip_PDA,
.tooltip_PT,
.tooltip_RAT,
.tooltip_SCN,
.tooltip_WS,

div[title="Drinking Water"],
div[data-tooltip-content="#tooltip_DW"],
div[title="Exoskeleton Work Suit"],
div[data-tooltip-content="#tooltip_EXO"],
div[title="Flavoured Insta-Meal"],
div[data-tooltip-content="#tooltip_FIM"],
div[title="HazMat Work Suit"],
div[data-tooltip-content="#tooltip_HMS"],
div[title="Smart Space Suit"],
div[data-tooltip-content="#tooltip_HSS"],
div[title="AI-Assisted Lab Coat"],
div[data-tooltip-content="#tooltip_LC"],
div[title="Quality Meat Meal"],
div[data-tooltip-content="#tooltip_MEA"],
div[title="Basic Medical Kit"],
div[data-tooltip-content="#tooltip_MED"],
div[title="Basic Overalls"],
div[data-tooltip-content="#tooltip_OVE"],
div[title="Personal Data Assistant"],
div[data-tooltip-content="#tooltip_PDA"],
div[title="Power Tools"],
div[data-tooltip-content="#tooltip_PT"],
div[title="Basic Rations"],
div[data-tooltip-content="#tooltip_RAT"],
div[title="Multi-Purpose Scanner"],
div[data-tooltip-content="#tooltip_SCN"],
div[title="Scientific Work Station"],
div[data-tooltip-content="#tooltip_WS"]
{
background: linear-gradient(135deg, #a62c2a, #ba363c) !important;
color: #ff989e !important;
}
/* fuels */
.tooltip_SF,
.tooltip_FF,
div[title="FTL Fuel"],
div[data-tooltip-content="#tooltip_FF"],
div[title="STL Fuel"],
div[data-tooltip-content="#tooltip_SF"]
{
background: linear-gradient(135deg, #548d22, #6ba23c) !important;
color: #cbfaa3 !important;
}
/* liquids */
.tooltip_HEX,
.tooltip_LES,
.tooltip_BTS,
.tooltip_H2O,
div[title="Heliotrope Extract"],
div[data-tooltip-content="#tooltip_HEX"],
div[title="Liquid Einsteinium"],
div[data-tooltip-content="#tooltip_LES"],
div[title="Bacterial Tungsten Solution"],
div[data-tooltip-content="#tooltip_BTS"],
div[title="Water"],
div[data-tooltip-content="#tooltip_H2O"]
{
background: linear-gradient(135deg, #67a8da, #6098c3) !important;
color: #f1ffff !important;
}
div.GridItemView__container___xP2uJz8 {
	background-color: #222;
}
/* full item name centering */
span.GridItemView__name___h3yX9Lm {
  display: block;
  text-align: center;
  padding-top: 1px;
  width: 100%;
}`;
/* harmony export (immutable) */ __webpack_exports__["d"] = EnhancedColors;

const IconStyle = `
 /* PrUnIcon v0.90
* ===============
*
* Written by allocater
* Install Chrome addon: StyleBot 
* goto: apex.prosperousuniverse.com
* right-click anywhere, select: StyleBot -> Style Element
* Copy&Paste this file into the StyleBot window
*
* CSS script to give icons to all commodities and some other UI color and layout changes.
*/
 
/* controversial UI changes and colors */
/* (comment/delete if not desired)
/* ----------------------------------- */

 
/* item ticker color */
.ColoredIcon__label___OU1I4oP {
    color: #cccccc;
}
 
 
/* full item name centering */
.GridItemView__name___h3yX9Lm  {
  display: block;
  text-align: center;
  padding-top: 1px;
  width: 100%;
}
 
/* table color */
table tbody td:nth-child(odd)
{
  background-color: #21252e;
}
 
/* end UI changes -------------------- */
 
/* items in production view and market view */
div.MaterialInformation__recipeInputs___eLvfoop div.BuildingIcon__container___jF5GUsz div.BuildingIcon__tickerContainer___NZx3G8C
{
  height: 36px;
  width: 36px;
}
 
/* items in planet view */
div.ResourceTable__gridContainer___ymrzTcD div.MaterialIcon__container___q8gKIx8 div.ColoredIcon__container___djaR4r2:before
{
  height: 20px;
  width: 20px;
  font-size: 20px;
}
 
/*
GridItemView__container___xP2uJz8
GridItemView__image___yMoKOZV
MaterialIcon__container___q8gKIx8
ColoredIcon__container___djaR4r2
ColoredIcon__labelContainer___YVfgzOk
*/
 
/* default :before element to prepare for new icon*/
div.ColoredIcon__container___djaR4r2:before
{
  position: absolute;
  width: 100%;
  height: 100%;
  align-items: center;
  justify-content: center;
  display: flex;
  content: "";
  
  /*while it is icon*/
  opacity: .3;
  font-size: 30px;
}
 
/* colored overlay icon */
div.ColoredIcon__labelContainer___YVfgzOk:before
{
  position: absolute;
  content: ""; /* will become icon */
 
  opacity: 0.1;
  z-index: -1;
  font-size: 30px;
  color: rgba(100%, 0%, 0%, 0);
}

/*
div[title="gold ore"i] div:before 
{
  content: "ðŸ¥”";
  text-shadow: 0 0 0 gold;
}
 
div[title="iron ore"i] div:before 
{
  content: "ðŸ¥”";
  text-shadow: 0 0 0 aqua;
}
 
div[title="aluminium ore"i] div:before 
{
  content: "ðŸ¥”";
  text-shadow: 0 0 0 grey;
}
 
div[title="silicon ore"i] div:before 
{
  content: "ðŸ¥”";
  text-shadow: 0 0 0 white;
}
 
div[title="titanium ore"i] div:before 
{
  content: "ðŸ¥”";
  text-shadow: 0 0 0 blue;
}
 
div[title="lithium ore"i] div:before 
{
  content: "ðŸ¥”";
  text-shadow: 0 0 0 green;
}
 
div[title="copper ore"i] div:before 
{
  content: "ðŸ¥”";
  text-shadow: 0 0 0 red;
}
 */
div[title="ferro-titanium"i] div:before 
{
  content: "ðŸŸ¦";
  font-size: 15px;
  color: rgba(1,1,1,1);
  opacity: 0.3;
}
 
div[title="alpha-stabilized titanium"i] div:before 
{
  content: "â¬œ";
  font-size: 15px;
  color: rgba(1,1,1,1);
  opacity: 0.3;
}
 
div[title="ferrominium"i] div:before 
{
  content: "â¬œ";
  font-size: 15px;
  color: rgba(1,1,1,1);
  opacity: 0.3;
}
 
div[title="alpha-stabilized tungsten"i] div:before 
{
  content: "â¬œ";
  font-size: 15px;
  color: rgba(1,1,1,1);
  opacity: 0.3;
}
 
div[title^="Basic Thermal"i] div:before 
{
  content: "ðŸ”¥";
  font-size: 20px;
  color: rgba(1,1,1,1);
  opacity: 0.2;
}
 
div[title^="Advanced Thermal"i] div:before 
{
  content: "ðŸ”¥";
  font-size: 25px;
  color: rgba(1,1,1,1);
  opacity: 0.2;
}
 
div[title*="Anti-Rad"i] div:before 
{
  content: "âš›";
  font-size: 25px;
  color: rgba(1,1,1,1);
  opacity: 0.4;
}
 
div[title^="Advanced Anti-Rad"i] div:before 
{
  font-size: 30px;
}
 
div[title^="Specialized Anti-Rad"i] div:before 
{
  font-size: 35px;
}
 
div[title*="High-Capacity C"i] div:before 
{
  content: "ðŸ”Œ";
  font-size: 30px;
  text-shadow: 0 0 0 gold;
  opacity: .25;
}
 
div[title*="Shielded C"i] div:before 
{
  content: "ðŸ”Œ";
  font-size: 30px;
  text-shadow: 0 0 0 blue;
  opacity: .01;
}
 
div[title*="Budget C"i] div:before 
{
  content: "ðŸ”Œ";
  font-size: 30px;
  text-shadow: 0 0 0 chocolate;
  opacity: .2;
}
 
div[title*="raw "i] div:before 
{
  content: "ðŸ§¶";
  font-size: 30px;
}
 
div[title*="raw cotton"i] div:before 
{
  text-shadow: 0 0 0 grey;
  opacity: .2;
}
 
div[title*="raw silk"i] div:before 
{
  text-shadow: 0 0 0 plum;
  opacity: .3;
}
 
div[title*=" fabric"i] div:before 
{
  content: "ðŸ§µ";
  font-size: 30px;
}
 
div[title*="kevlar fabric"i] div:before 
{
  text-shadow: 0 0 0 green;
  opacity: .15;
}
 
 
div[title*="technokevlar fabric"i] div:before 
{
  text-shadow: 0 0 0 blueviolet;
  opacity: .2;
}
 
div[title*="nylon fabric"i] div:before 
{
  text-shadow: 0 0 0 black;
  opacity: .1;
}
 
div[title*="cotton fabric"i] div:before 
{
  text-shadow: 0 0 0 grey;
  opacity: .2;
}
 
div[title*="silken fabric"i] div:before 
{
  text-shadow: 0 0 0 plum;
  opacity: .3;
}
 
div[title*="ceramic fabric"i] div:before 
{
  text-shadow: 0 0 0 orangered;
  opacity: .15;
}
 
div[title*="ceramic-tungsten fabric"i] div:before 
{
  text-shadow: 0 0 0 brown;
  opacity: .3;
}
 
div[title="nutrient solution"i] div:before 
{
  content: "ðŸ§ª";
  text-shadow: 0 0 0 green;
  opacity: .3;
}
 
div[title="nano-enhanced resin"i] div:before 
{
  content: "ðŸ§ª";
  text-shadow: 0 0 0 blueviolet;
  opacity: .3;
  font-size: 32px;
}
 
div[title="flux"i] div:before 
{
  content: "ðŸ§ª";
  text-shadow: 0 0 0 yellow;
  opacity: .15;
}
 
div[title="indigo colorant"i] div:before 
{
  content: "ðŸ§ª";
  text-shadow: 0 0 0 indigo;
  opacity: .3;
}
 
div[title="Olfactory Substances"i] div:before 
{
  content: "ðŸ§ª";
  text-shadow: 0 0 0 olive;
  opacity: .3;
}
 
div[title="DDT Plant Agent"i] div:before 
{
  content: "ðŸ§ª";
  text-shadow: 0 0 0 red;
  opacity: .3;
}
 
div[title="Sedative Substance"i] div:before 
{
  content: "ðŸ§ª";
  text-shadow: 0 0 0 orange;
  opacity: .3;
}
 
div[title="desaturation agent"i] div:before 
{
  content: "ðŸ§ª";
  text-shadow: 0 0 0 white;
  opacity: .1;
}
 
div[title="breathable liquid"i] div:before 
{
  content: "ðŸ’§";
  text-shadow: 0 0 0 aquamarine;
  opacity: .25;
}
 
div[title="thermofluid"i] div:before 
{
  content: "ðŸ’§";
  text-shadow: 0 0 0 orange;
  opacity: .5;
}
 
div[title*="fertilizer"i] div:before 
{
  content: "â›°";
  text-shadow: 0 0 0 yellowgreen;
  opacity: .3;
}
 
div[title*="acid"i] div:before 
{
  content: "â˜£";
  text-shadow: 0 0 0 greenyellow;
  opacity: .1;
  font-size: 40px;
}
 
/*
 
div[title*="solar"i] div:before 
{
  content: "ðŸŒž";
  opacity: .1;
  font-size: 30px;
  text-shadow: 0 0 0 yellow;
  color: rgba(1,1,1,1);
}
 
div[title="large cargo bay kit"i] div:before 
{
  content: "âš–"; opacity: 0.6; font-size: 20px;
}
 
div[title="high-load cargo bay kit"i] div:before 
{
  content: "ðŸ””";
}
 
div[title="high-volume cargo bay kit"i] div:before 
{
  content: "ðŸŽˆ";
}
 
div[title="gold ore"i] div:before 
{
  content: "ðŸŸ¨";
}
 
div[title="iron ore"i] div:before 
{
  content: "ðŸŸ¦";
}
 
div[title="aluminium ore"i] div:before 
{
  content: "â¬œ";
}
*/
 
/* non-category color special hacks*/
 
div[title="High-Capacity Connectors"],
div[title="Red Gold"]
{
  -background: linear-gradient(135deg, rgb(145 129 43), rgb(120 72 7))
}
 
div[title="Shielded Connectors"],
div[title="Blue Gold"]
{
  -background: linear-gradient(135deg, rgb(145 129 43), rgb(70 72 200))
}
 
div[title="Air Scrubber"]
{
  background: linear-gradient(135deg, rgb(30 96 58),  rgb(51, 26, 76));
}
 
/* dw and all consumables */
 
/* "normal" icons and colors */
/* ------------------------- */
 
/* RAT inputs */
div[title^="High-Carb"],
div[title^="Protein-Rich"],
div[title^="Triglyceride"]
{
  background: linear-gradient(135deg, rgb(145 129 43), rgb(70 72 7))
}
 
div[content="Io-dine"]
{
  background: linear-gradient(135deg, rgb(153 87 1), rgb(86 40 0))
}
 
/* other Argriculture */
div[title="Hydrocarbon Plants"],
div[title="Spicy Herbs"],
div[title="All-Purpose Fodder"],
div[title="Flowery Hops"],
div[title="Caffeinated Beans"],
div[title="Raw Cotton Fiber"],
div[title="Wine-Quality Grapes"],
div[title="Meat Tissue Patties"],
div[title="Pineberries"],
div[title="Raw Silk Strains"],
div[title="Vita Essence"],
div[title="Protein Paste"] {
  background: linear-gradient(135deg, rgb(153 87 1), rgb(86 40 0))
}
 
div[title^="Drink"],
div[title^="Basic Ra"] {
  background: linear-gradient(135deg, rgb(71 126 174), rgb(46 66 149))
}
 
/* liquids */
div[title*="Heliotrope"],
div[title*="Liquid Eins"],
div[title*="Bacterial Tun"],
div[title^="Water"] {
  background: linear-gradient(135deg, rgb(122 80 55), rgb(18 74 124))
}
 
/* chemicals bg colors */
div[title*="Substance"], 
div[title*="Chemical"], 
div[title="Liquid Crystals"], 
div[title*="Breathable Liquid"], 
div[title*="Agent"], 
div[title*="Flux"], 
div[title*="Resin"], 
div[title*="Colorant"],
div[title*="Acid"], 
div[title*=" Bacteria"], 
div[title*="Soil"],
div[title*="Stabilizer"],
div[title*="Fertilizer"],
div[title*="ThermoFluid"],
div[title*="Enriched"],
div[title*="Nutrient"] {
  background: linear-gradient(135deg, rgb(183, 46, 91), rgb(114 37 62))
}
 
/* prefabs */
div[title^="Basic Str"],
div[title^="Basic Deck"],
div[title^="Basic Bulk"],
div[title^="Basic Trans"] {
  background: linear-gradient(135deg, rgb(51 54 66 ), rgb(15, 30, 98))
}
div[title^="Lightweight"] {
  background: linear-gradient(135deg, rgb(85 94 35), rgb(15, 30, 98))
}
div[title^="Hardened"], 
div[title^="Reinforced"] {
  background: linear-gradient(135deg, rgb(78 44 27), rgb(15, 30, 98))
}
div[title^="Advanced Deck"],
div[title^="Advanced Transp"],
div[title^="Advanced Str"],
div[title^="Advanced Bulk"] {
  background: linear-gradient(135deg, rgb(71 35 94), rgb(15, 30, 98))
}
 
/* construction bg colors */
div[title="InsuFoam"],
div[title="Epoxy Resin"],
div[title="MegaTube Coating"],
div[title="Nano-Carbon Sheeting"],
div[title="Nano Fiber"],
div[title="Nano-Coated Glass"],
div[title="Reinforced Glass"],
div[title="Poly-Sulfite Sealant"],
div[title="Glass"],
div[title="Mineral Construction Granulate"] {
  background: linear-gradient(135deg, rgb(72 125 221), rgb(0 64 179))
}
 
/* construction parts */
div[title="Aerostat Foundation"],
div[title="Air Scrubber"],
div[title="Decorative Elements"],
div[title="Floating Tank"],
div[title="Flow Control Device"],
div[title="Fluid Piping"],
div[title="Cylindrical Gas Container"],
div[title="Gas Vent"],
div[title="Magnetic Ground Cover"],
div[title="Metal-Halide Lighting System"],
div[title="Neon Lighting System"],
div[title="Pressure Shielding"],
div[title="Radiation Shielding"],
div[title="Stabilized Technetium"],
div[title="Thermal Shielding"],
div[title="Truss"] {
  background: linear-gradient(135deg, rgb(66, 102, 132), rgb(41, 77, 107))
}
 
div[title="STL Fuel"],
div[title="FTL Fuel"] {
  background: linear-gradient(135deg, rgb(30, 123, 30), rgb(32 90 32))
}
 
 
/* electronic systems bg color */
div[title="Audio Distribution System"],
div[title="Automated Cooling System"],
div[title="Climate Controller"],
div[title="Communication System"],
div[title="FTL Field Controller"],
div[title="Life Support System"],
div[title="Logistics System"],
div[title="Stability Support System"],
div[title="Targeting Computer"],
div[title="Cryogenic Unit"]
{
  background: linear-gradient(135deg, rgb(76, 51, 141),  rgb(51, 26, 76));
}
 
/* life related electronics systems bg color*/
div[title="Water Reclaimer"],
div[title="Life Support System"]
{
  background: linear-gradient(135deg, rgb(30 96 58),  rgb(51, 26, 76));
}
 
div[title*="ium"]:before, 
div[title*="site"]:before, 
div[title*="mineral"i]:before {
  content: "â›°"; opacity: 0.4
}
div[title*="controller"i]:before {
  content: "ðŸŽ›"; opacity: 0.6
}
div[title*="filter"i]:before,
div[title*="device"i]:before,
div[title*=" MK"i]:before {
  content: "ðŸ“»";
}
/* ðŸ›¹ðŸš¿â›² */
div[title*="flow control device"i]:before {
  content: "ðŸš¿";
}
div[title*="glass"i]:before {
  content: "ðŸ”²";
  font-size: 25px;
}
div[title*="headphone"i]:before {
  content: "ðŸŽ§";
}
div[title*="holographic glasses"i]:before {
  content: "ðŸ‘“";
}
div[title*="diode"i]:before {
  content: "â–¶";
}
div[data-tooltip-content*="SAR"i]:before,
div[title*="scanner"i]:before,
div[title*="sensor"i]:before {
  content: "ðŸ”­";
}
div[title*="Foundation"]:before {
  content: "ðŸ§‡";
}
/* ðŸ§®ðŸŽ«ðŸŽŸðŸŽž */
div[title*="memory"i]:before,
div[title*="process"i]:before,
div[title*="transistor"i]:before,
div[title*="circuit"i]:before {
  content: "ðŸŽŸ";
}
div[title*="tensor"i]:before {
  content: "ðŸ§®";
}
div[title="memory bank"i]:before {
  content: "ðŸŽž";
}
div[title*="circuit"i]:before {
  content: "ðŸŽ«";
}
/*ðŸ§§ðŸŽŸðŸ’¿ðŸ“¼ðŸŽž*/
div[title="Non-Volatile Memory"i]:before
{
  content: "ðŸ“€";
}
div[title*="system"i]:before,
div[title*="computer"i]:before,
div[title*="mainframe"i]:before {
  content: "ðŸ–¥"; 
  opacity: 0.6
}
/* ðŸŽ›ðŸŽšðŸ’¾ðŸ’½ðŸ’¿ðŸ“€ */
div[title*="Navigation"]:before,
div[title*="Artificial"]:before,
div[title*="Data"]:before,
div[title*="Network"]:before,
div[title*="Database"]:before,
div[title*="Framework"]:before,
div[title*="Management"]:before,
div[title*="Operating"]:before,
div[title*="Interface"]:before,
div[title*="Algorithm"]:before,
div[title*="Manager"]:before {
  content: "ðŸ’¾";
  opacity: 0.3; /* system override*/
}
div[title*="motherboard"i]:before,
div[title*="wafer"i]:before {
  content: "ðŸŽ«";
}
div[title*="broadcasting"i]:before,
div[title*="antenna"i]:before,
div[title*="emitter"i]:before {
  content: "ðŸ“¡";
}
div[title*="library"i]:before {
  content: "ðŸ“–";
}
div[title*="Workstation"]:before,
div[title*="Display"]:before {
  content: "ðŸ’»";
}
div[title*="Light"]:before {
  content: "ðŸ’¡";
}
div[title*="Rock"]:before {
  content: "ðŸ¥¯";
}
div[title*="Liquid"]:before, 
div[title*="Fluid"]:before {
  content: "ðŸ’§";
}
div[title*="Air"]:before, 
div[title*="Gas"]:before,
 div[title*="Aero"]:before {
  content: "â˜";
}
div[title*="Audio"]:before {
  content: "ðŸ”Š";
  opacity: 0.3; /* system override */
}
div[title*="Power"]:before, 
div[title*="Capacitor"]:before {
  content: "ðŸ”‹";
}
div[title*="Power Cell"]:before
{
  font-size: 20px;
}
/* ðŸ”¨â›âš’ðŸ› ðŸ”§ðŸ”©âš™ðŸ—œðŸ§° */
div[title*="Fastener Kit"]:before {
  content: "ðŸ”§";
  font-size: 35px;
}
div[title*="Repair Kit"]:before {
  content: "ðŸ§°";
  font-size: 35px;
}
div[title*="Tank"]:before {
  content: "ðŸ›¢";
  font-size: 35px;
}
div[title*="FTL Fuel Tank"i]:before {
  content: "ðŸ§³";
  font-size: 35px;
}
div[title*="Protection"]:before,
div[title*="Plate"]:before,
div[title*="Shield"]:before {
  content: "ðŸ›¡";
  font-size: 40px;
}
div[title*="Protection Material"]:before {
  content: "ðŸ§±";
  font-size: 30px;
}
div[title*="Connectors"]:before {
  content: "ðŸ”Œ";
  font-size: 30px;
  opacity: 0.4
}
div[title*="Seats"]:before {
  content: "ðŸª‘";
}
div[title*="Substance"]:before, 
div[title*="Chemical"]:before, 
div[title*="Agent"]:before, 
div[title*="Flux"]:before, 
div[title*="Resin"]:before, 
div[title*="Colorant"]:before {
  content: "ðŸ§ª";
}
div[title*="Acid"]:before {
  content: "â˜£";
  font-size: 40px;
}
div[title*="Bacteria"]:before {
  content: "ðŸ§«";
}
div[title*="Cryo"]:before {
  content: "â„";
  font-size: 40px;
}
div[title*="Soil"]:before {
  content: "ðŸ¥”";
}
/* ðŸ§°ðŸ”ªðŸ©º */
div[title*="Surgical"i]:before {
  content: "ðŸ©º";
  font-size: 30px;
}
/* ðŸŽžðŸ›ðŸ›Œ */
div[title*="Medical stretcher"i]:before {
  content: "ðŸŽž";
  font-size: 35px;
}
/* ðŸ§°ðŸ”ªðŸ©ºðŸ’Š */
div[title*="Medical kit"i]:before {
  content: "ðŸ©º";
}
div[title*="Magnet"]:before {
  content: "ðŸ§²";
}
/* ðŸ—¿ðŸ–¼ */
div[title*="Deco"]:before {
  content: "ðŸ–¼";
}
div[title*="Solar"]:before {
  content: "âš¡";
}
div[title*="Solar Cell"]:before {
  font-size: 20px;
}
 
/* alloys â™’ ðŸŸª*/
div[title*="-Titanium"]::before,
div[title*=" Titanium"]::before
{
  content: "ðŸŸª";
  font-size: 25px;
}
 
div[title="Ferrominium"]::before
{
  content: "ðŸŸ¦";
  font-size: 25px;
}
 
 
/* ---- Medical ------ */
div[title="Auto-Doc"],
div[title="Bandages"],
div[title="Medical Stretcher"],
div[title="Painkillers"],
div[title="Surgical Equipment"],
div[title="Test Tubes"]
{
  background: linear-gradient(135deg, rgb(64 133 64), rgb(48 86 48))
}
 
div[title="Auto-Doc"]:before {
  content: "ðŸ‘¨â€âš•ï¸";
}
div[title="Bandages"]:before {
  content: "ðŸ§»";
}
div[title="Painkillers"]:before {
  content: "ðŸ’Š";
}
div[title="Surgical Equipment"]:before {
  content: "ðŸ©º";
}
div[title*="Tube"]:before {
  content: "ðŸ§ª";
}
/* ðŸ›ŒðŸ›âš• */
div[title*="Crew Quarters"]:before,
div[title*="Trauma Care"]:before {
  content: "ðŸ›";
  font-size: 40px;
}
/* ---------- */
 
div[title*="Iodine"]:before {
  content: "ðŸ©¸";
}
div[title*="Sodium"]:before {
  content: "ðŸ§‚";
}
div[title*="Carbon"]:before {
  content: "ðŸŽ©";
}
/* ðŸ§‚ðŸ’¿ðŸ™ðŸ¥â›°ðŸ” */
div[title="Chlorine"]:before {
  content: "ðŸ¥";
}
div[title="Sulfur"]:before {
  content: "ðŸŸ¡";
}
div[title="Tantalum"]:before {
  content: "ðŸ”˜";
}
div[title="Calcium"]:before {
  content: "â›°";
}
div[title="Beryllium"]:before {
  content: "â›°";
}
div[title="Magnesium"]:before {
  content: "â›°";
}
 
div[title="Gold"]:before {
  content: "ðŸŸ¨";
  font-size: 25px;
}
 
/* ã€°ðŸ§ˆðŸ§ŠðŸŸ¤ðŸŸ¦ */
 
div[title="Aluminium"]:before {
  content: "â¬œ";
  font-size: 25px; opacity: 0.2
}
 
div[title="Steel"]:before {
  content: "ðŸ§Š";
  font-size: 25px; opacity: 0.2
}
 
div[title="Titanium"]:before {
  content: "ðŸŸª";
  font-size: 25px; opacity: 0.2
}
 
div[title~="Tungsten"]:before
{
  content: "ðŸŸ«";
  font-size: 25px; opacity: 0.2
}
 
div[title="Silicon"]:before{
  content: "ã€°"; opacity: 0.2
}
 
div[title="Copper"]:before {
  content: "ðŸŸ§";
  font-size: 25px; opacity: 0.2
}
/* ðŸŸ¥ */
div[title="Iron"]:before {
  content: "ðŸŸ¦";
  font-size: 25px; opacity: 0.2
}
 
/* alloys */
 
div[title="Red Gold"]:before {
  content: "ðŸ”¶";
  font-size: 25px;
}
 
div[title="Blue Gold"]:before {
  content: "ðŸ”·";
  font-size: 25px;
}
 
div[title="Bronze"]:before {
  content: "ðŸ”º";
  font-size: 25px;
}
 
div[title="Borosilicate"]:before {
  content: "ã€°";
}
 
/* ---- */
 
/* ðŸ–Šâ—âž–ðŸ’ˆ ðŸŒ ðŸ¥–ðŸ¡ðŸ§¨ */
div[title*="fuel rod"i]:before {
  content: "ðŸ§¨";
}
div[title="basic fuel rod"i]:before {
  content: "âž–";
}
div[title*=" reactor"i]:before,
div[title*=" generator"i]:before {
  content: "ðŸŽ†";
}
div[title*="fission reactor"i]:before {
  font-size: 20px;
}
div[title*="radioisotope generator"i]:before {
  font-size: 20px;
}
 
/* ---- */
 
div[title="Limestone"]:before {
  content: "ðŸ¥¯";
}
 
div[title*="Drone"]:before {
  content: "âœˆ";
}
 
div[title*="Ore"]:before {
  content: "ðŸ¥”";
}
 
div[title*="Crystals"]:before {
  content: "ðŸ’Ž";
}
 
/* ---------- */
 
div[title$="Grains"]:before {
  content: "ðŸŒ¾";
}
 
div[title$="Maize"]:before {
  content: "ðŸŒ½";
}
 
div[title^="Drink"]:before {
  content: "ðŸ§ƒ";
}
 
div[title^="Protein-Rich Beans"]:before {
  content: "ðŸ¥’";
}
 
div[title^="Basic Ra"]:before {
  content: "ðŸ¥«";
}
 
div[title$="Nuts"]:before {
  content: "ðŸ¥œ";
}
 
div[title$="Fruits"]:before {
  content: "ðŸ…";
}
 
div[title$="Plants"]:before {
  content: "ðŸŒ²";
}
 
div[title^="Caffeinated Beans"]:before {
  content: "ðŸŒ¿";
}
 
div[title$="Algae"]:before {
  content: "ðŸƒ";
}
 
div[title$="Grapes"]:before {
  content: "ðŸ‡";
}
 
div[title$="Herbs"]:before {
  content: "ðŸŒ¶";
}
 
div[title$="Fodder"]:before {
  content: "ðŸ’Š";
}
 
div[title$="Hops"]:before {
  content: "ðŸŒ¾";
}
 
div[title$="Cotton Fiber"]:before {
  content: "ðŸ§¶";
}
 
div[title$="Patties"]:before {
  content: "ðŸ§«";
}
 
div[title$="Mushrooms"]:before {
  content: "ðŸ„";
}
 
div[title$="Pineberries"]:before {
  content: "ðŸ“";
}
 
div[title$="Paste"]:before {
  content: "ðŸ¥£";
}
 
div[title$="Solution"]:before {
  content: "ðŸ§ª";
}
 
div[title^="Vita Essence"]:before {
  content: "ðŸ¶";
}
 
/* liquids */
div[title^="Water"]:before {
  content: "ðŸ’§";
}
div[title*="Heliotrope"]:before {
  content: "ðŸ¥ƒ";
}
div[title*="Liquid Eins"]:before {
  content: "ðŸ¥›";
}
 
/* ðŸŽ¨ðŸ€ðŸâš¾ */
div[title="Polymer Granulate"]:before {
  content: "ðŸ";
}
 
div[title$="Poly-Ethylene"]:before {
  content: "âš¾";
}
 
div[title*="Sheet Type"]:before {
  content: "ðŸ§»";
}
 
div[title*="Foam"]:before,
div[title*="Seal"]:before {
  content: "ðŸŒ«";
}
div[title*="Fiber"]:before,
div[title*="Fabric"]:before {
  content: "ðŸ§µ";
}
div[title="Raw Silk Strains"]:before,
div[title="Raw Cotton Fiber"]:before {
  content: "ðŸ§¶";
}
 
div[title$="Supplies"]:before {
  content: "ðŸ“ ";
}
div[title$="Uniform"]:before {
  content: "ðŸ‘–";
}
div[title$="Toolset"]:before {
  content: "ðŸ› "; opacity: 0.4
}
 
div[title^="FTL"]:before {
  content: "â˜€";
  font-size: 40px; opacity: 0.5
}
 
div[title^="STL"]:before {
  content: "ðŸ›¢";
  font-size: 40px; opacity: 0.5
}
 
div[title$="Construction Granulate"]:before {
  content: "ðŸ§±";
}
 
div[title*="Casing"]:before {
  content: "ðŸ§Š";
}
 
div[title$="Deck Elements"]:before {
  content: "ðŸŽž";
  font-size: 40px;
}
div[title$="Structural Elements"]:before {
  content: "â›“";
}
/* ðŸ›Ž */
div[title$="Bulkhead"]:before {
  content: "ðŸ›¸";
}
/* ðŸ—ðŸ§­ðŸŒ«â˜€ðŸŒ€ */
div[title$="Aperture"]:before {
  content: "ðŸ—";
}
div[title="Truss"]:before {
  content: "ðŸ—¼";
}
 
/* ----- gasses------ */
/* ðŸ’¨ðŸ•³ã€°ðŸŒŠðŸŒ«ðŸ’¥ðŸ›¢ðŸ§³ðŸ§´â˜„ */
 
div[title="Ammonia"]:before {
  content: "ðŸ©¸";
}
div[title="Argon"]:before {
  content: "â˜";
}
div[title="Fluorine"]:before {
  content: "â˜";
}
div[title="Neon"]:before {
  content: "â˜";
}
div[title="Nitrogen"]:before {
  content: "ðŸ’§";
}
div[title="Oxygen"]:before {
  content: "ðŸ’¨";
}
div[title*="Helium"]:before {
  content: "ðŸŒŒ";
}
div[title^="Hydrogen"]:before {
  content: "ðŸ’«";
}
div[title="Helium-3 Isotope"]:before {
  content: "ðŸ’¦";
}
 
div[title="Caffeinated Infusion"]:before {
  content: "â˜•"; opacity: 0.2
}
div[title="Basic Overalls"]:before {
  content: "ðŸ§¥"; opacity: 0.2
}
div[title$="Work Overall"]:before {
  content: "ðŸ¦º"; opacity: 0.2
}
div[title="Basic Overalls"] { background: linear-gradient(135deg, rgb(64 97 104), rgb(57 73 147)) }
div[title="Caffeinated Infusion"], 
div[title$="Work Overall"] { background: linear-gradient(135deg, rgb(64 97 104), rgb(105 30 145)) }
 
div[title="Kombucha"]:before {
  content: "ðŸ¯"; opacity: 0.2
}
div[title^="Exos"]:before {
  content: "ðŸ‘·â€â™€ï¸"; opacity: 0.2
}
div[title^="Power Tools"]:before {
  content: "ðŸ”Œ"; opacity: 0.2
}
div[title^="Exos"], 
div[title="Power Tools"] { background: linear-gradient(135deg, rgb(42 122 54), rgb(57 73 147)) }
div[title="Kombucha"],
div[title="Repair Kit"] { background: linear-gradient(135deg, rgb(42 122 54), rgb(105 30 145)) }
 
div[title$="Ale"]:before {
  content: "ðŸº"; opacity: 0.2
}
div[title="Stem Cell Treatment"]:before {
  content: "ðŸ’‰"; opacity: 0.2
}
div[title="HazMat Work Suit"]:before {
  content: "ðŸ‘©â€ðŸš’"; opacity: 0.2
}
div[title="Multi-Purpose Scanner"]:before {
  content: "ðŸ”­"; opacity: 0.2
}
div[title="Basic Medical Kit"], 
div[title="HazMat Work Suit"], 
div[title="Multi-Purpose Scanner"] { background: linear-gradient(135deg, rgb(116 124 27), rgb(57 73 147)) 
}
div[title$="Ale"], 
div[title="Stem Cell Treatment"] { background: linear-gradient(135deg, rgb(116 124 27), rgb(105 30 145)) 
}
 
div[title$="Gin"]:before {
  content: "ðŸ¥ƒ"; opacity: 0.2
}
div[title$="Meal"]:before {
  content: "ðŸ¥¡"; opacity: 0.2
}
div[title="VitaGel"]:before {
  content: "ðŸ§ª"; opacity: 0.2
}
div[title="Smart Space Suit"]:before {
  content: "ðŸ‘¨â€ðŸš€"; opacity: 0.2
}
div[title*="personal"i]:before {
  content: "ðŸ“±"; opacity: 0.2
}
div[title="Flavoured Insta-Meal"], 
div[title="Personal Data Assistant"], 
div[title="Smart Space Suit"] { background: linear-gradient(135deg, rgb(52 93 159), rgb(57 73 147)) }
div[title$="Gin"], 
div[title="VitaGel"] { background: linear-gradient(135deg, rgb(52 93 159), rgb(105 30 145)) }
 
 
div[title="Smart Zinfandel"]:before {
  content: "ðŸ·"; opacity: 0.2
}
div[title$="Meat Meal"]:before {
  content: "ðŸ±"; opacity: 0.2
}
div[title="NeuroStimulants"]:before {
  content: "ðŸ’Š"; opacity: 0.2
}
div[title="AI-Assisted Lab Coat"]:before {
  content: "ðŸ¥¼"; opacity: 0.2
}
div[title="Scientific Work Station"]:before {
  content: "ðŸ”¬"; opacity: 0.2
}
div[title$="Meat Meal"], 
div[title="AI-Assisted Lab Coat"], 
div[title="Scientific Work Station"] { background: linear-gradient(135deg, rgb(155 92 169), rgb(57 73 147)) }
div[title="Smart Zinfandel"], 
div[title="NeuroStimulants"] { background: linear-gradient(135deg, rgb(155 92 169), rgb(105 30 145)) }
 
/* ðŸ•¹â˜ŽðŸ“ž */
div[title*="command bridge"i]:before {
  content: "â˜Ž"; opacity: 0.4
}
 
/* â›°â˜¢âš™ðŸš°ðŸŒ¡ */
div[title*="engine"i]:before {
  content: "ðŸš€"; opacity: 0.4
}
 
div[title*="nozzle"i]:before {
  content: "â›°"; opacity: 0.4
}
 
/* ðŸ§¨ðŸŒŸðŸ§³ðŸ›Ž */
div[title*="combustion chamber"i]:before {
  content: "ðŸ§³"; opacity: 0.4
}
 
div[title*="pump"i]:before,
div[title*="pipe"i]:before,
div[title*="piping"i]:before
{
  content: "ðŸš°"; opacity: 0.4
}
 
div[title*="vent"i]:before {
  content: "â™¨";
  font-size: 40px; opacity: 0.4
}
 
/* ðŸ—¼ðŸ§‡ðŸ”—â›“ðŸ›¡ðŸ“ŽðŸ–‡ */ 
div[title*="structural space"i]:before {
  content: "â›“"; opacity: 0.4
}
 
/* ðŸ§ŠðŸ“¦ */ 
div[title*="cargo bay"i]:before {
  content: "ðŸ“¦"; opacity: 0.4
}
 
div[title*="habitat"i]:before {
  content: "ðŸ "; opacity: 0.4
}
 
div[title*="surgery unit"i]:before {
  content: "âš•"; opacity: 0.4
}
 
/*ðŸ—„ðŸŽ¯ðŸŽ¡*/
div[title*="entertainment unit"i]:before {
  content: "ðŸŽ¡"; opacity: 0.4
}
 
/* ðŸŽ¨ */
div[title*="workshop unit"i]:before {
  content: "ðŸŽ¨"; opacity: 0.4
}
 
/* sizes */
 
div[title*="small"i]:before,
div[title*="tiny"i]:before,
div[title$=" s"i]:before 
{
  font-size: 20px; opacity: 0.4
}
 
div[title*="medium"i]:before,
div[title$=" m"i]:before 
{
  font-size: 25px; opacity: 0.4
}
 
div[title*="transistor"i]:before 
{
  font-size: 25px; opacity: 0.4
}
 
 
/* buildings - kill stray icons */
div.BuildingIcon__container___jF5GUsz:before
{
  content: "";
}
    
    /* items in market view */
table.BrokerList__table___ylgeiyg >
tbody >
tr >
td >
div.MaterialIcon__container___q8gKIx8 >
div.ColoredIcon__container___djaR4r2:before 
{
  font-size: 24px;
}

/* items in building view */
div.BuildingInformation__recipe___uzanxXw >
div >
div.MaterialIcon__container___q8gKIx8 >
div.ColoredIcon__container___djaR4r2:before
{
  font-size: 26px;
}

/* items in recipe view */
div.MaterialInformation__recipeInputs___eLvfoop >
div.MaterialIcon__container___q8gKIx8 >
div.ColoredIcon__container___djaR4r2:before
{
  font-size: 26px;
}

/* items in planet view */
div.ResourceTable__gridContainer___ymrzTcD >
div.MaterialIcon__container___q8gKIx8 >
div.ColoredIcon__container___djaR4r2:before
{
  font-size: 18px;
}`;
/* harmony export (immutable) */ __webpack_exports__["e"] = IconStyle;



/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const CurrencySymbols = {
    "CIS": "â‚¡",
    "AIC": "â‚³",
    "NCC": "â‚¦",
    "ICA": "Ç‚",
    "ECD": "â‚¬",
};
/* harmony export (immutable) */ __webpack_exports__["a"] = CurrencySymbols;

const FactionHeaders = {
    "Castillo-Ito": "CI",
    "Insitor": "IC",
    "Antares": "AI",
    "NEO Charter": "NC"
};
/* harmony export (immutable) */ __webpack_exports__["c"] = FactionHeaders;

const RatingColors = {
    "P": "#1b6b9c",
    "U": "#8b211e",
    "F": "#e26c37",
    "E": "#e7782b",
    "D": "#e87d28",
    "C": "#ed891c",
    "B": "#f19510",
    "A": "#f6a204"
};
/* unused harmony export RatingColors */

const Exchanges = { "Antares Station Commodity Exchange": "ANT", "Benten Station Commodity Exchange": "BEN", "Moria Station Commodity Exchange": "MOR", "Hortus Station Commodity Exchange": "HRT", "Hubur Station Commodity Exchange": "HUB", "Arclight Station Commodity Exchange": "ARC" };
/* harmony export (immutable) */ __webpack_exports__["b"] = Exchanges;

const Stations = { "Antares Station": "ANT", "Benten Station": "BEN", "Moria Station": "MOR", "Hortus Station": "HRT", "Hubur Station": "HUB", "Acrlight Station": "ARC" };
/* harmony export (immutable) */ __webpack_exports__["k"] = Stations;

const NonProductionBuildings = ["CM", "HB1", "HB2", "HB3", "HB4", "HB5", "HBB", "HBC", "HBL", "HBM", "STO"];
/* harmony export (immutable) */ __webpack_exports__["g"] = NonProductionBuildings;

const FriendlyNames = {
    "LocalMarketAds": "LM Unit Prices",
    "OrderETAs": "Order ETAs",
    "FlightETAs": "Flight Planning ETAs",
    "ShippingAds": "LM Shipping Rates",
    "PostLM": "LM Posting Unit Price",
    "ContractDrafts": "CONTD Unit Prices",
    "QueueLoad": "Queue Percent Display",
    "ConsumableTimers": "Workforce Consumable Burn",
    "FleetETAs": "Fleet ETAs",
    "Notifications": "Notifications",
    "ScreenUnpack": "Screen Unpack",
    "ImageCreator": "Chat Image Creator",
    "InventoryOrganizer": "Inventory Sorting",
    "CommandCorrecter": "Command Correcter",
    "CalculatorButton": "Calculator Button",
    "Sidebar": "Sidebar",
    "HeaderMinimizer": "Minimize Headers (Master)",
    "PendingContracts": "Pending Contracts",
    "CompactUI": "Compact UI",
    "FormulaReplacer": "Formula Replacer",
    "AdvancedMode": "Advanced Minimialist Mode (Master)"
};
/* harmony export (immutable) */ __webpack_exports__["d"] = FriendlyNames;

const SortingTriangleHTML = `
<div title=""><svg aria-hidden="true" width="10" height="10" role="img" version="1.1" fill="currentcolor" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24" style="vertical-align: middle;"><g><path d="M.88681 1.097752l12.13774 21.02318L25.422964 1.105446z"></path></g></svg></div>`;
/* harmony export (immutable) */ __webpack_exports__["j"] = SortingTriangleHTML;

const PlanetCommands = ["ADM", "BSC", "COGC", "COGCPEX", "COGCU", "FLTP", "LR", "LMP", "LM", "PLI", "POPI", "POPR", "PPS", "SHY", "WAR", "BS"];
/* harmony export (immutable) */ __webpack_exports__["h"] = PlanetCommands;

const SystemNames = {
    "ARCLIGHT": "AM-783",
    "FORGE-KEEP": "FK-371",
    "MOUNT OLYMPUS": "HM-049",
    "GATEWAY": "HM-223",
    "NEO EDEN": "JS-299",
    "EBISU": "JS-952",
    "BASTABLON": "KW-020",
    "DOLZENA": "LG-418",
    "TRINITY": "OF-259",
    "MORIA": "OT-580",
    "OUTER HEAVEN": "PG-899",
    "AURUM": "QJ-650",
    "ACETARES": "QJ-684",
    "HUBUR": "TD-203",
    "HOTEI": "UV-135",
    "BENTEN": "UV-351",
    "DAIKOKU": "UV-796",
    "HORTUS": "VH-331",
    "MIDWAY": "WB-675",
    "ANTARES III": "ZV-194",
    "ANTARES I": "ZV-307",
    "ANTARES II": "ZV-759"
};
/* harmony export (immutable) */ __webpack_exports__["l"] = SystemNames;

const PlanetNames = {
    "LEMURIA": "AJ-768a",
    "GALLUS": "AM-783b",
    "EMENTIOR": "AM-783c",
    "TYPHON": "AU-522b",
    "NOVA HONSHU": "BS-788c",
    "TACOTOPIA": "CB-045b",
    "PYRGOS": "CH-771a",
    "TALOSIA": "DC-823b",
    "ORM": "DW-456g",
    "MANIFOLD": "EL-179b",
    "NOVA UNALASKA": "EZ-476b",
    "TOKTU": "FK-037f",
    "LA FORGE": "FK-371b",
    "BOUCHER": "FK-794b",
    "VAULT": "GC-645b",
    "CHU": "GY-110c",
    "POSEIDON": "HM-049b",
    "APOTHECARY": "IA-603b",
    "ELECTRONICA": "IY-028c",
    "NEMESIS": "JS-299a",
    "GIBSON": "JS-952c",
    "AUSTRALIA": "KI-446a",
    "DEMETER": "KI-446b",
    "HERMES": "KI-448b",
    "ROCK": "KQ-966b",
    "MILLIWAYS": "KW-020c",
    "GIEDI PRIME": "KW-358b",
    "ETHERWIND": "KW-688c",
    "KINZA": "LG-418b",
    "PLANET MC PLANETFACE": "LG-913e",
    "ARATORA": "LS-231b",
    "GRIFFONSTONE": "LS-300c",
    "JURA": "OF-259d",
    "BERTHIER": "OF-375b",
    "ADALINA": "OF-375c",
    "DANAKIL": "OT-442b",
    "IIRON": "OT-580a",
    "MONTEM": "OT-580b",
    "VALLIS": "OT-580c",
    "PALLADA": "OT-580d",
    "PRISM": "OT-889a",
    "JEETIYU": "OT-889b",
    "SALADIN": "PG-899b",
    "NASCENT": "QJ-149c",
    "ELON": "QJ-650c",
    "LOM PALANKA": "QJ-684a",
    "ACELAND": "QJ-684b",
    "CIRCA": "QQ-001a",
    "CIRCE": "QQ-001b",
    "CELEBDIL": "QQ-645b",
    "MALAHAT": "RC-040b",
    "IRONFORGE": "RC-040c",
    "ICE STATION ALPHA": "SE-110c",
    "SHEOL": "TD-203b",
    "RHAZES": "TD-228b",
    "ASBESTOS LEAD ASBESTOS": "UV-072c",
    "KATOA": "UV-351a",
    "YANNICK": "UV-351b",
    "UMBRA": "UV-351c",
    "BIOGENESIS": "UV-351d",
    "PROXION": "UV-796b",
    "PHANTASM": "VH-043a",
    "PROMITOR": "VH-331a",
    "HELION PRIME": "VH-331d",
    "ODYSSEUS": "VH-331f",
    "AVALON": "VH-331g",
    "HYDRON": "VH-331i",
    "GASWORLD": "WB-675i",
    "MIMAR": "WC-702b",
    "MAGUS": "XD-354b",
    "UPONOR": "XH-329a",
    "LIBERTAS": "XH-594a",
    "KIRUNA": "XH-594b",
    "CORTEZ": "XH-594c",
    "KUB": "YI-059f",
    "HARPINA": "YI-209h",
    "ARCADIA": "YI-683c",
    "VERDANT": "YI-715b",
    "NORWICK": "YK-649b",
    "NIKE": "ZV-194a",
    "HEPHAESTUS": "ZV-307c",
    "PHOBOS": "ZV-307d",
    "VULCAN": "ZV-759b",
    "DEIMOS": "ZV-759c",
    "HARMONIA": "ZV-896b"
};
/* harmony export (immutable) */ __webpack_exports__["i"] = PlanetNames;

const MaterialNames = {
    "AAR": ["Antenna Array", "electronic devices"],
    "ABH": ["Advanced Bulkhead", "construction prefabs"],
    "ACS": ["Automated Cooling System", "electronic systems"],
    "ADE": ["Advanced Deck Elements", "construction prefabs"],
    "ADR": ["Auto-Doc", "medical equipment"],
    "ADS": ["Audio Distribution System", "electronic systems"],
    "AEF": ["Aerostat Foundation", "construction parts"],
    "AEN": ["Advanced STL Engine", "ship engines"],
    "AFP": ["Advanced Fuel Pump", "ship engines"],
    "AFR": ["Advanced Fuel Rod", "ship engines"],
    "AGS": ["Advanced High-G Seats", "ship parts"],
    "AHP": ["Advanced Hull Plate", "ship parts"],
    "AIR": ["Air Scrubber", "construction parts"],
    "AL": ["Aluminium", "metals"],
    "ALE": ["Stellar Pale Ale", "consumables (luxury)"],
    "ALG": ["Protein-Rich Algae", "agricultural products"],
    "ALO": ["Aluminium Ore", "ores"],
    "AMM": ["Ammonia", "gases"],
    "ANZ": ["Advanced Nozzle", "ship engines"],
    "APT": ["Advanced Thermal Protection Tile", "ship shields"],
    "AR": ["Argon", "gases"],
    "ARP": ["Advanced Anti-rad Plate", "ship shields"],
    "ASE": ["Advanced Structural Elements", "construction prefabs"],
    "AST": ["Alpha-Stabilized Titanium", "alloys"],
    "ATA": ["Advanced Transparent Aperture", "construction prefabs"],
    "ATP": ["Advanced Thermal Protection Material", "ship parts"],
    "AU": ["Gold", "metals"],
    "AUO": ["Gold Ore", "ores"],
    "AWF": ["Active Water Filter", "electronic devices"],
    "AWH": ["Advanced Whipple Shielding", "ship shields"],
    "BAC": ["Helpful Bacteria", "chemicals"],
    "BAI": ["Basic AI Framework", "software components"],
    "BBH": ["Basic Bulkhead", "construction prefabs"],
    "BCO": ["Budget Connectors", "electronic pieces"],
    "BDE": ["Basic Deck Elements", "construction prefabs"],
    "BE": ["Beryllium", "elements"],
    "BEA": ["Protein-Rich Beans", "agricultural products"],
    "BER": ["Beryl Crystals", "minerals"],
    "BFP": ["Basic Fuel Pump", "ship engines"],
    "BFR": ["Basic Fuel Rod", "ship engines"],
    "BGC": ["Shielded Connectors", "electronic pieces"],
    "BGO": ["Blue Gold", "alloys"],
    "BGS": ["Basic High-G Seats", "ship parts"],
    "BHP": ["Basic Hull Plate", "ship parts"],
    "BID": ["Full-Body Interaction Device", "electronic devices"],
    "BL": ["Breathable Liquid", "chemicals"],
    "BLE": ["Desaturation Agent", "chemicals"],
    "BMF": ["Basic Mainframe", "electronic devices"],
    "BND": ["Bandages", "medical equipment"],
    "BOR": ["Boron Crystals", "minerals"],
    "BOS": ["Borosilicate", "alloys"],
    "BPT": ["Basic Thermal Protection Tile", "ship shields"],
    "BR1": ["Command Bridge MK1", "unit prefabs"],
    "BR2": ["Command Bridge MK2", "unit prefabs"],
    "BRM": ["Bioreactive Minerals", "minerals"],
    "BRO": ["Bronze", "alloys"],
    "BRP": ["Basic Anti-rad Plate", "ship shields"],
    "BRS": ["Short-distance Command Bridge", "unit prefabs"],
    "BSC": ["Body Scanner", "electronic devices"],
    "BSE": ["Basic Structural Elements", "construction prefabs"],
    "BTA": ["Basic Transparent Aperture", "construction prefabs"],
    "BTS": ["Bacterial Tungsten Solution", "liquids"],
    "BWH": ["Basic Whipple Shielding", "ship shields"],
    "BWS": ["Basic Workstation", "electronic devices"],
    "C": ["Carbon", "elements"],
    "CA": ["Calcium", "elements"],
    "CAF": ["Caffeinated Beans", "agricultural products"],
    "CAP": ["Electric Field Capacitor", "electronic pieces"],
    "CBL": ["Large Capacitor Bank", "energy systems"],
    "CBM": ["Medium Capacitor Bank", "energy systems"],
    "CBS": ["Small Capacitor Bank", "energy systems"],
    "CC": ["Climate Controller", "electronic systems"],
    "CCD": ["Crowd Control Drone", "drones"],
    "CD": ["Capacitive Display", "electronic parts"],
    "CF": ["Ceramic Fabric", "textiles"],
    "CHA": ["Combustion Chamber", "ship engines"],
    "CL": ["Chlorine", "elements"],
    "CLI": ["Caliche Rock", "minerals"],
    "CMK": ["", "construction materials"],
    "COF": ["Caffeinated Infusion", "consumables (luxury)"],
    "COM": ["Communication System", "electronic systems"],
    "COT": ["Cotton Fabric", "textiles"],
    "CQL": ["Crew Quarters (Large)", "unit prefabs"],
    "CQM": ["Crew Quarters (Medium)", "unit prefabs"],
    "CQS": ["Crew Quarters (Small)", "unit prefabs"],
    "CQT": ["Crew Quarters (Tiny)", "unit prefabs"],
    "CRU": ["Cryogenic Unit", "electronic systems"],
    "CST": ["Cryogenic Stabilizer", "chemicals"],
    "CTF": ["Ceramic-Tungsten Fabric", "textiles"],
    "CU": ["Copper", "metals"],
    "CUO": ["Copper Ore", "ores"],
    "DA": ["Data Analyzer", "software tools"],
    "DCH": ["Drone Chassis", "drones"],
    "DCL": ["Durable Casing L", "plastics"],
    "DCM": ["Durable Casing M", "plastics"],
    "DCS": ["Durable Casing S", "plastics"],
    "DD": ["Distributed Database", "software tools"],
    "DDT": ["DDT Plant Agent", "chemicals"],
    "DEC": ["Decorative Elements", "construction parts"],
    "DIS": ["Information Display", "electronic parts"],
    "DOU": ["Drone Operations Unit", "unit prefabs"],
    "DRF": ["Drone Frame", "drones"],
    "DV": ["Data Visualizer", "software tools"],
    "DW": ["Drinking Water", "consumables (basic)"],
    "EDC": ["Entertainment Data Core", "software tools"],
    "EES": ["Enriched Einsteinium", "chemicals"],
    "ENG": ["Standard STL Engine", "ship engines"],
    "EPO": ["Epoxy Resin", "construction materials"],
    "ES": ["Einsteinium", "elements"],
    "ETC": ["Enriched Technetium", "chemicals"],
    "EXO": ["Exoskeleton Work Suit", "consumables (basic)"],
    "F": ["Fluorine", "gases"],
    "FAL": ["Ferrominium", "alloys"],
    "FAN": ["Active Cooling Device", "electronic parts"],
    "FC": ["Flow Control Device", "construction parts"],
    "FE": ["Iron", "metals"],
    "FEO": ["Iron Ore", "ores"],
    "FET": ["Ferro-Titanium", "alloys"],
    "FF": ["FTL Fuel", "fuels"],
    "FFC": ["FTL Field Controller", "electronic systems"],
    "FIM": ["Flavoured Insta-Meal", "consumables (basic)"],
    "FIR": ["Fission Reactor", "ship engines"],
    "FLO": ["Floating Tank", "construction parts"],
    "FLP": ["Fluid Piping", "construction parts"],
    "FLX": ["Flux", "chemicals"],
    "FOD": ["All-Purpose Fodder", "agricultural products"],
    "FSE": ["Fuel-saving STL Engine", "ship engines"],
    "FUN": ["Entertainment Unit", "unit prefabs"],
    "GAL": ["Galerite Rock", "minerals"],
    "GC": ["Cylindrical Gas Container", "construction parts"],
    "GCH": ["Glass Combustion Chamber", "ship engines"],
    "GEN": ["Glass-based STL Engine", "ship engines"],
    "GIN": ["Einsteinium-Infused Gin", "consumables (luxury)"],
    "GL": ["Glass", "construction materials"],
    "GNZ": ["Glass Nozzle", "ship engines"],
    "GRA": ["Wine-Quality Grapes", "agricultural products"],
    "GRN": ["High-Carb Grains", "agricultural products"],
    "GV": ["Gas Vent", "construction parts"],
    "H": ["Hydrogen", "gases"],
    "H2O": ["Water", "liquids"],
    "HAB": ["Habitat Unit", "unit prefabs"],
    "HAL": ["Halite Crystals", "minerals"],
    "HCC": ["High-Capacity Connectors", "electronic pieces"],
    "HCP": ["Hydrocarbon Plants", "agricultural products"],
    "HD": ["Holographic Display", "electronic devices"],
    "HE": ["Helium", "gases"],
    "HE3": ["Helium-3 Isotope", "gases"],
    "HER": ["Spicy Herbs", "agricultural products"],
    "HEX": ["Heliotrope Extract", "liquids"],
    "HHP": ["Hardened Hull Plate", "ship parts"],
    "HMS": ["HazMat Work Suit", "consumables (basic)"],
    "HNZ": ["Hyperthrust Nozzle", "ship engines"],
    "HOG": ["Holographic Glasses", "electronic devices"],
    "HOP": ["Flowery Hops", "agricultural products"],
    "HPC": ["Handheld Personal Console", "electronic devices"],
    "HPR": ["High-power FTL Reactor", "ship engines"],
    "HSE": ["Hardened Structural Elements", "construction prefabs"],
    "HSS": ["Smart Space Suit", "consumables (basic)"],
    "HTE": ["Hyperthrust STL Engine", "ship engines"],
    "HYR": ["Hyper-power Reactor", "ship engines"],
    "I": ["Iodine", "elements"],
    "IDC": ["Information Data Core", "software systems"],
    "IMM": ["Information Management System", "software systems"],
    "IND": ["Indigo Colorant", "chemicals"],
    "INS": ["InsuFoam", "construction materials"],
    "JUI": ["Sedative Substance", "chemicals"],
    "KOM": ["Kombucha", "consumables (luxury)"],
    "KV": ["Kevlar Fabric", "textiles"],
    "LBH": ["Lightweight Bulkhead", "construction prefabs"],
    "LC": ["AI-Assisted Lab Coat", "consumables (basic)"],
    "LCB": ["Large Cargo Bay Kit", "ship kits"],
    "LCR": ["Liquid Crystals", "chemicals"],
    "LD": ["Local Database", "software components"],
    "LDE": ["Lightweight Deck Elements", "construction prefabs"],
    "LDI": ["Laser Diodes", "electronic pieces"],
    "LES": ["Liquid Einsteinium", "liquids"],
    "LFE": ["Large FTL Emitter", "ship engines"],
    "LFL": ["Large FTL Fuel Tank Kit", "ship kits"],
    "LFP": ["Low-heat Fuel Pump", "ship engines"],
    "LHP": ["Lightweight Hull Plate", "ship parts"],
    "LI": ["Lithium", "metals"],
    "LIO": ["Lithium Ore", "ores"],
    "LIS": ["Life Support System", "electronic systems"],
    "LIT": ["Neon Lighting System", "construction parts"],
    "LOG": ["Logistics System", "electronic systems"],
    "LSE": ["Lightweight Structural Elements", "construction prefabs"],
    "LSL": ["Large STL Fuel Tank Kit", "ship kits"],
    "LST": ["Limestone", "minerals"],
    "LTA": ["Lightweight Transparent Aperture", "construction prefabs"],
    "LU": ["Laboratory Unit", "unit prefabs"],
    "MAG": ["Magnetite", "minerals"],
    "MAI": ["High-Carb Maize", "agricultural products"],
    "MB": ["Motherboard", "electronic parts"],
    "MCB": ["Medium Cargo Bay Kit", "ship kits"],
    "MCG": ["Mineral Construction Granulate", "construction materials"],
    "MEA": ["Quality Meat Meal", "consumables (basic)"],
    "MED": ["Basic Medical Kit", "consumables (basic)"],
    "MFE": ["Medium FTL Emitter", "ship engines"],
    "MFK": ["Medium Fastener Kit", "electronic pieces"],
    "MFL": ["Medium FTL Fuel Tank Kit", "ship kits"],
    "MG": ["Magnesium", "elements"],
    "MGC": ["Magnetic Ground Cover", "construction parts"],
    "MGS": ["Magnesite", "minerals"],
    "MHL": ["Metal-Halide Lighting System", "construction parts"],
    "MHP": ["Micro Headphones", "electronic devices"],
    "MLI": ["Machine Learning Interface", "software components"],
    "MPC": ["Micro-Processor", "electronic parts"],
    "MSL": ["Medium STL Fuel Tank Kit", "ship kits"],
    "MTC": ["MegaTube Coating", "construction materials"],
    "MTP": ["Meat Tissue Patties", "agricultural products"],
    "MUS": ["Protein-Rich Mushrooms", "agricultural products"],
    "MWF": ["Medium Wafer", "electronic pieces"],
    "N": ["Nitrogen", "gases"],
    "NA": ["Sodium", "elements"],
    "NAB": ["Sodium Borohydride", "chemicals"],
    "NCS": ["Nano-Carbon Sheeting", "construction materials"],
    "NE": ["Neon", "gases"],
    "NF": ["Networking Framework", "software components"],
    "NFI": ["Nano Fiber", "construction materials"],
    "NG": ["Nano-Coated Glass", "construction materials"],
    "NL": ["Nylon Fabric", "textiles"],
    "NN": ["Neural Network", "software tools"],
    "NOZ": ["Basic Nozzle", "ship engines"],
    "NR": ["Nano-Enhanced Resin", "chemicals"],
    "NS": ["Nutrient Solution", "chemicals"],
    "NST": ["NeuroStimulants", "consumables (luxury)"],
    "NUT": ["Triglyceride Nuts", "agricultural products"],
    "NV1": ["Navigation Module MK1", "ship parts"],
    "NV2": ["Navigation Module MK2", "ship parts"],
    "O": ["Oxygen", "gases"],
    "OFF": ["Office Supplies", "utility"],
    "OLF": ["Olfactory Substances", "chemicals"],
    "OS": ["Operating System", "software tools"],
    "OVE": ["Basic Overalls", "consumables (basic)"],
    "PCB": ["Printed Circuit Board", "electronic parts"],
    "PDA": ["Personal Data Assistant", "consumables (basic)"],
    "PE": ["Poly-Ethylene", "plastics"],
    "PFE": ["Premium Fertilizer", "chemicals"],
    "PG": ["Polymer Granulate", "plastics"],
    "PIB": ["Pineberries", "agricultural products"],
    "PK": ["Painkillers", "medical equipment"],
    "POW": ["Power Cell", "energy systems"],
    "PPA": ["Protein Paste", "agricultural products"],
    "PSH": ["Pressure Shielding", "construction parts"],
    "PSL": ["Polymer Sheet Type L", "plastics"],
    "PSM": ["Polymer Sheet Type M", "plastics"],
    "PSS": ["Polymer Sheet Type S", "plastics"],
    "PT": ["Power Tools", "consumables (basic)"],
    "PWO": ["Padded Work Overall", "consumables (luxury)"],
    "QCR": ["Quick-charge FTL Reactor", "ship engines"],
    "RAD": ["Radio Device", "electronic devices"],
    "RAG": ["Radioisotope Generator", "ship engines"],
    "RAM": ["Memory Bank", "electronic parts"],
    "RAT": ["Basic Rations", "consumables (basic)"],
    "RBH": ["Reinforced Bulkhead", "construction prefabs"],
    "RCO": ["Raw Cotton Fiber", "agricultural products"],
    "RCS": ["Reactor Control System", "ship engines"],
    "RCT": ["Standard FTL Reactor", "ship engines"],
    "RDE": ["Reinforced Deck Elements", "construction prefabs"],
    "RDL": ["Large Ship-Repair Drone Operations Unit", "unit prefabs"],
    "RDS": ["Small Ship-Repair Drone Operations Unit", "unit prefabs"],
    "REA": ["Chemical Reagents", "chemicals"],
    "RED": ["Rescue Drone", "drones"],
    "REP": ["Repair Kit", "consumables (luxury)"],
    "RG": ["Reinforced Glass", "construction materials"],
    "RGO": ["Red Gold", "alloys"],
    "RHP": ["Reinforced Hull Plate", "ship parts"],
    "ROM": ["Non-Volatile Memory", "electronic parts"],
    "RSE": ["Reinforced Structural Elements", "construction prefabs"],
    "RSH": ["Radiation Shielding", "construction parts"],
    "RSI": ["Raw Silk Strains", "agricultural products"],
    "RTA": ["Reinforced Transparent Aperture", "construction prefabs"],
    "S": ["Sulfur", "elements"],
    "SA": ["Search Algorithm", "software components"],
    "SAL": ["Sorting Algorithm", "software components"],
    "SAR": ["Sensor Array", "electronic devices"],
    "SC": ["Stem Cell Treatment", "consumables (luxury)"],
    "SCB": ["Small Cargo Bay Kit", "ship kits"],
    "SCN": ["Multi-Purpose Scanner", "consumables (basic)"],
    "SCR": ["Sulfur Crystals", "minerals"],
    "SDR": ["Surgical Drone", "drones"],
    "SEA": ["Poly-Sulfite Sealant", "construction materials"],
    "SEN": ["Sensor", "electronic parts"],
    "SEQ": ["Surgical Equipment", "medical equipment"],
    "SF": ["STL Fuel", "fuels"],
    "SFE": ["Small FTL Emitter", "ship engines"],
    "SFK": ["Small Fastener Kit", "electronic pieces"],
    "SFL": ["Small FTL Fuel Tank Kit", "ship kits"],
    "SI": ["Silicon", "metals"],
    "SIL": ["Silken Fabric", "textiles"],
    "SIO": ["Silicon Ore", "ores"],
    "SNM": ["Spatial Navigation Map", "software systems"],
    "SOI": ["Artificial Soil", "chemicals"],
    "SOL": ["Solar Cell", "energy systems"],
    "SP": ["Solar Panel", "energy systems"],
    "SRD": ["Ship-Repair Drone", "drones"],
    "SRP": ["Specialized Anti-rad Plate", "ship shields"],
    "SSC": ["Structural Spacecraft Component", "ship parts"],
    "SSL": ["Small STL Fuel Tank Kit", "ship kits"],
    "STL": ["Steel", "metals"],
    "STR": ["Medical Stretcher", "medical equipment"],
    "STS": ["Stability Support System", "electronic systems"],
    "SU": ["Surgery Unit", "unit prefabs"],
    "SUD": ["Surveillance Drone", "drones"],
    "SUN": ["Safety Uniform", "utility"],
    "SWF": ["Small Wafer", "electronic pieces"],
    "TA": ["Tantalum", "elements"],
    "TAC": ["Targeting Computer", "electronic systems"],
    "TAI": ["Tantalite Rock", "minerals"],
    "TC": ["Technetium", "elements"],
    "TCB": ["Tiny Cargo Bay Kit", "ship kits"],
    "TCL": ["TCL Acid", "chemicals"],
    "TCO": ["Technetium Oxide", "minerals"],
    "TCS": ["Stabilized Technetium", "construction parts"],
    "TCU": ["Trauma Care Unit", "unit prefabs"],
    "THF": ["ThermoFluid", "chemicals"],
    "THP": ["Basic Thermal Protection Material", "ship parts"],
    "TI": ["Titanium", "metals"],
    "TIO": ["Titanium Ore", "ores"],
    "TK": ["TechnoKevlar Fabric", "textiles"],
    "TPU": ["Tensor Processing Unit", "electronic parts"],
    "TRA": ["Audio Transmitter", "electronic parts"],
    "TRN": ["Advanced Transistor", "electronic pieces"],
    "TRU": ["Truss", "construction parts"],
    "TS": ["Tectosilisite", "minerals"],
    "TSH": ["Thermal Shielding", "construction parts"],
    "TUB": ["Test Tubes", "medical equipment"],
    "UTS": ["Universal Toolset", "utility"],
    "VCB": ["High-volume Cargo Bay Kit", "ship kits"],
    "VEG": ["Triglyceride Fruits", "agricultural products"],
    "VG": ["VitaGel", "consumables (luxury)"],
    "VIT": ["Vita Essence", "agricultural products"],
    "VSC": ["Very Small Cargo Bay Kit", "ship kits"],
    "W": ["Tungsten", "metals"],
    "WAI": ["Weak Artificial Intelligence", "software systems"],
    "WAL": ["Alpha-Stabilized Tungsten", "alloys"],
    "WCB": ["High-load Cargo Bay Kit", "ship kits"],
    "WIN": ["Smart Zinfandel", "consumables (luxury)"],
    "WM": ["Window Manager", "software components"],
    "WOR": ["Handcraft Workshop Unit", "unit prefabs"],
    "WR": ["Water Reclaimer", "electronic systems"],
    "WS": ["Scientific Work Station", "consumables (basic)"],
    "ZIR": ["Zircon Crystals", "minerals"],
    "ZR": ["Zirconium", "elements"],
};
/* harmony export (immutable) */ __webpack_exports__["e"] = MaterialNames;

const Materials = {
    "Antenna Array": ["AAR", 0.78, 0.5],
    "Advanced Bulkhead": ["ABH", 0.6, 0.9],
    "Automated Cooling System": ["ACS", 0.3, 0.2],
    "Advanced Deck Elements": ["ADE", 0.4, 1.5],
    "Auto-Doc": ["ADR", 0.1, 0.1],
    "Audio Distribution System": ["ADS", 0.7, 2],
    "Aerostat Foundation": ["AEF", 2, 5],
    "Advanced STL Engine": ["AEN", 14, 7],
    "Advanced Fuel Pump": ["AFP", 1, 0.25],
    "Advanced Fuel Rod": ["AFR", 0.4, 0.1],
    "Advanced High-G Seats": ["AGS", 30, 5],
    "Advanced Hull Plate": ["AHP", 20, 10],
    "Air Scrubber": ["AIR", 1.7, 3],
    "Aluminium": ["AL", 2.7, 1],
    "Stellar Pale Ale": ["ALE", 0.1, 0.1],
    "Protein-Rich Algae": ["ALG", 0.7, 1],
    "Aluminium Ore": ["ALO", 1.35, 1],
    "Ammonia": ["AMM", 0.86, 1],
    "Advanced Nozzle": ["ANZ", 6, 3],
    "Advanced Thermal Protection Tile": ["APT", 0.03, 0.3],
    "Argon": ["AR", 1.784, 1],
    "Advanced Anti-rad Plate": ["ARP", 0.04, 0.2],
    "Advanced Structural Elements": ["ASE", 0.5, 0.6],
    "Alpha-Stabilized Titanium": ["AST", 4.98, 1],
    "Advanced Transparent Aperture": ["ATA", 0.3, 0.4],
    "Advanced Thermal Protection Material": ["ATP", 2.9, 1],
    "Gold": ["AU", 19.32, 1],
    "Gold Ore": ["AUO", 3.86, 1],
    "Active Water Filter": ["AWF", 0.8, 1.2],
    "Advanced Whipple Shielding": ["AWH", 0.12, 1],
    "Helpful Bacteria": ["BAC", 0.15, 0.15],
    "Basic AI Framework": ["BAI", 0.001, 0.01],
    "Basic Bulkhead": ["BBH", 0.5, 0.8],
    "Budget Connectors": ["BCO", 0.005, 0.002],
    "Basic Deck Elements": ["BDE", 0.1, 1.5],
    "Beryllium": ["BE", 1.84, 1],
    "Protein-Rich Beans": ["BEA", 0.8, 1],
    "Beryl Crystals": ["BER", 1.92, 1],
    "Basic Fuel Pump": ["BFP", 0.8, 0.2],
    "Basic Fuel Rod": ["BFR", 0.3, 0.1],
    "Shielded Connectors": ["BGC", 0.01, 0.002],
    "Blue Gold": ["BGO", 19.32, 1],
    "Basic High-G Seats": ["BGS", 20, 3],
    "Basic Hull Plate": ["BHP", 10, 10],
    "Full-Body Interaction Device": ["BID", 0.05, 0.05],
    "Breathable Liquid": ["BL", 1.12, 1],
    "Desaturation Agent": ["BLE", 0.5, 0.5],
    "Basic Mainframe": ["BMF", 0.8, 1.2],
    "Bandages": ["BND", 0.001, 0.005],
    "Boron Crystals": ["BOR", 1.8, 1],
    "Borosilicate": ["BOS", 1.5, 1],
    "Basic Thermal Protection Tile": ["BPT", 0.02, 0.3],
    "Command Bridge MK1": ["BR1", 180, 300],
    "Command Bridge MK2": ["BR2", 280, 400],
    "Bioreactive Minerals": ["BRM", 2.5, 1],
    "Bronze": ["BRO", 8.73, 1],
    "Basic Anti-rad Plate": ["BRP", 0.03, 0.2],
    "Short-distance Command Bridge": ["BRS", 150, 200],
    "Body Scanner": ["BSC", 0.1, 0.1],
    "Basic Structural Elements": ["BSE", 0.3, 0.5],
    "Basic Transparent Aperture": ["BTA", 0.3, 0.4],
    "Bacterial Tungsten Solution": ["BTS", 1.05, 1],
    "Basic Whipple Shielding": ["BWH", 0.1, 1],
    "Basic Workstation": ["BWS", 0.05, 0.1],
    "Carbon": ["C", 2.25, 1],
    "Calcium": ["CA", 1.54, 1],
    "Caffeinated Beans": ["CAF", 0.86, 1],
    "Electric Field Capacitor": ["CAP", 0.001, 0.001],
    "Large Capacitor Bank": ["CBL", 5.4, 2.4],
    "Medium Capacitor Bank": ["CBM", 3.6, 1.6],
    "Small Capacitor Bank": ["CBS", 1.8, 0.8],
    "Climate Controller": ["CC", 0.5, 1],
    "Crowd Control Drone": ["CCD", 0.3, 0.05],
    "Capacitive Display": ["CD", 0.004, 0.002],
    "Ceramic Fabric": ["CF", 2.82, 1],
    "Combustion Chamber": ["CHA", 1.2, 0.7],
    "Chlorine": ["CL", 3.2, 1],
    "Caliche Rock": ["CLI", 2.42, 1],
    "": ["CMK", 4.56, 33.2],
    "Caffeinated Infusion": ["COF", 0.1, 0.1],
    "Communication System": ["COM", 0.5, 1.5],
    "Cotton Fabric": ["COT", 0.77, 1],
    "Crew Quarters (Large)": ["CQL", 75, 150],
    "Crew Quarters (Medium)": ["CQM", 50, 100],
    "Crew Quarters (Small)": ["CQS", 25, 50],
    "Crew Quarters (Tiny)": ["CQT", 12.5, 25],
    "Cryogenic Unit": ["CRU", 2.2, 2],
    "Cryogenic Stabilizer": ["CST", 1.14, 1],
    "Ceramic-Tungsten Fabric": ["CTF", 4.32, 1],
    "Copper": ["CU", 8.92, 1],
    "Copper Ore": ["CUO", 4.01, 1],
    "Data Analyzer": ["DA", 0.001, 0.01],
    "Drone Chassis": ["DCH", 0.2, 0.03],
    "Durable Casing L": ["DCL", 0.08, 0.8],
    "Durable Casing M": ["DCM", 0.04, 0.4],
    "Durable Casing S": ["DCS", 0.01, 0.1],
    "Distributed Database": ["DD", 0.001, 0.01],
    "DDT Plant Agent": ["DDT", 0.11, 0.1],
    "Decorative Elements": ["DEC", 0.5, 2],
    "Information Display": ["DIS", 0.02, 0.02],
    "Drone Operations Unit": ["DOU", 5, 4],
    "Drone Frame": ["DRF", 0.1, 0.02],
    "Data Visualizer": ["DV", 0.001, 0.01],
    "Drinking Water": ["DW", 0.1, 0.1],
    "Entertainment Data Core": ["EDC", 0.001, 0.01],
    "Enriched Einsteinium": ["EES", 9.2, 1],
    "Standard STL Engine": ["ENG", 8, 4],
    "Epoxy Resin": ["EPO", 0.04, 0.02],
    "Einsteinium": ["ES", 0.88, 0.1],
    "Enriched Technetium": ["ETC", 4.1, 1],
    "Exoskeleton Work Suit": ["EXO", 0.1, 0.05],
    "Fluorine": ["F", 1.696, 1],
    "Ferrominium": ["FAL", 3.22, 1],
    "Active Cooling Device": ["FAN", 0.1, 0.1],
    "Flow Control Device": ["FC", 0.5, 0.25],
    "Iron": ["FE", 7.874, 1],
    "Iron Ore": ["FEO", 5.9, 1],
    "Ferro-Titanium": ["FET", 6.85, 1],
    "FTL Fuel": ["FF", 0.05, 0.01],
    "FTL Field Controller": ["FFC", 50, 16],
    "Flavoured Insta-Meal": ["FIM", 0.55, 0.5],
    "Fission Reactor": ["FIR", 7, 4.9],
    "Floating Tank": ["FLO", 1, 2],
    "Fluid Piping": ["FLP", 0.3, 2],
    "Flux": ["FLX", 0.25, 0.1],
    "All-Purpose Fodder": ["FOD", 1.2, 1],
    "Fuel-saving STL Engine": ["FSE", 6, 3],
    "Entertainment Unit": ["FUN", 5, 4],
    "Galerite Rock": ["GAL", 2.51, 1],
    "Cylindrical Gas Container": ["GC", 0.05, 0.1],
    "Glass Combustion Chamber": ["GCH", 1, 0.6],
    "Glass-based STL Engine": ["GEN", 5, 3],
    "Einsteinium-Infused Gin": ["GIN", 0.1, 0.1],
    "Glass": ["GL", 0.016, 0.01],
    "Glass Nozzle": ["GNZ", 1.5, 1],
    "Wine-Quality Grapes": ["GRA", 1.1, 1],
    "High-Carb Grains": ["GRN", 0.9, 1],
    "Gas Vent": ["GV", 0.25, 0.15],
    "Hydrogen": ["H", 0.07, 1],
    "Water": ["H2O", 0.2, 0.2],
    "Habitat Unit": ["HAB", 10, 8],
    "Halite Crystals": ["HAL", 2.17, 1],
    "High-Capacity Connectors": ["HCC", 0.01, 0.002],
    "Hydrocarbon Plants": ["HCP", 0.8, 1],
    "Holographic Display": ["HD", 0.05, 2],
    "Helium": ["HE", 0.145, 1],
    "Helium-3 Isotope": ["HE3", 0.145, 1],
    "Spicy Herbs": ["HER", 0.4, 1],
    "Heliotrope Extract": ["HEX", 1.1, 1],
    "Hardened Hull Plate": ["HHP", 15, 10],
    "HazMat Work Suit": ["HMS", 0.05, 0.05],
    "Hyperthrust Nozzle": ["HNZ", 6, 12],
    "Holographic Glasses": ["HOG", 0.01, 0.01],
    "Flowery Hops": ["HOP", 0.35, 1],
    "Handheld Personal Console": ["HPC", 0.003, 0.003],
    "High-power FTL Reactor": ["HPR", 18, 15],
    "Hardened Structural Elements": ["HSE", 3.1, 0.7],
    "Smart Space Suit": ["HSS", 0.05, 0.05],
    "Hyperthrust STL Engine": ["HTE", 20, 10],
    "Hyper-power Reactor": ["HYR", 35, 25],
    "Iodine": ["I", 4.93, 1],
    "Information Data Core": ["IDC", 0.001, 0.01],
    "Information Management System": ["IMM", 0.001, 0.01],
    "Indigo Colorant": ["IND", 0.21, 0.2],
    "InsuFoam": ["INS", 0.06, 0.1],
    "Sedative Substance": ["JUI", 1.2, 1],
    "Kombucha": ["KOM", 0.1, 0.1],
    "Kevlar Fabric": ["KV", 1.65, 1],
    "Lightweight Bulkhead": ["LBH", 0.2, 0.6],
    "AI-Assisted Lab Coat": ["LC", 0.05, 0.05],
    "Large Cargo Bay Kit": ["LCB", 200, 200],
    "Liquid Crystals": ["LCR", 0.15, 0.1],
    "Local Database": ["LD", 0.001, 0.01],
    "Lightweight Deck Elements": ["LDE", 0.1, 1.2],
    "Laser Diodes": ["LDI", 0.001, 0.001],
    "Liquid Einsteinium": ["LES", 8.84, 1],
    "Large FTL Emitter": ["LFE", 0.4, 1.6],
    "Large FTL Fuel Tank Kit": ["LFL", 60, 10],
    "Low-heat Fuel Pump": ["LFP", 0.5, 0.1],
    "Lightweight Hull Plate": ["LHP", 5, 10],
    "Lithium": ["LI", 0.55, 1],
    "Lithium Ore": ["LIO", 2.75, 1],
    "Life Support System": ["LIS", 5.6, 7],
    "Neon Lighting System": ["LIT", 1, 2],
    "Logistics System": ["LOG", 0.5, 1.5],
    "Lightweight Structural Elements": ["LSE", 0.3, 1.2],
    "Large STL Fuel Tank Kit": ["LSL", 125, 100],
    "Limestone": ["LST", 2.73, 1],
    "Lightweight Transparent Aperture": ["LTA", 0.3, 0.5],
    "Laboratory Unit": ["LU", 8, 6],
    "Magnetite": ["MAG", 5.15, 1],
    "High-Carb Maize": ["MAI", 1.3, 1],
    "Motherboard": ["MB", 0.075, 0.075],
    "Medium Cargo Bay Kit": ["MCB", 100, 100],
    "Mineral Construction Granulate": ["MCG", 0.24, 0.1],
    "Quality Meat Meal": ["MEA", 0.6, 0.5],
    "Basic Medical Kit": ["MED", 0.3, 0.1],
    "Medium FTL Emitter": ["MFE", 0.2, 0.8],
    "Medium Fastener Kit": ["MFK", 0.1, 0.05],
    "Medium FTL Fuel Tank Kit": ["MFL", 24, 4],
    "Magnesium": ["MG", 0.27, 0.16],
    "Magnetic Ground Cover": ["MGC", 0.6, 0.9],
    "Magnesite": ["MGS", 1.73, 1],
    "Metal-Halide Lighting System": ["MHL", 0.1, 0.05],
    "Micro Headphones": ["MHP", 0.001, 0.001],
    "Machine Learning Interface": ["MLI", 0.001, 0.01],
    "Micro-Processor": ["MPC", 0.001, 0.001],
    "Medium STL Fuel Tank Kit": ["MSL", 50, 50],
    "MegaTube Coating": ["MTC", 0.032, 0.01],
    "Meat Tissue Patties": ["MTP", 0.7, 1],
    "Protein-Rich Mushrooms": ["MUS", 0.8, 1],
    "Medium Wafer": ["MWF", 0.008, 0.008],
    "Nitrogen": ["N", 0.807, 1],
    "Sodium": ["NA", 0.97, 1],
    "Sodium Borohydride": ["NAB", 0.1, 0.05],
    "Nano-Carbon Sheeting": ["NCS", 0.028, 0.01],
    "Neon": ["NE", 0.9, 1],
    "Networking Framework": ["NF", 0.001, 0.01],
    "Nano Fiber": ["NFI", 0.032, 0.01],
    "Nano-Coated Glass": ["NG", 0.022, 0.01],
    "Nylon Fabric": ["NL", 1.13, 1],
    "Neural Network": ["NN", 0.001, 0.01],
    "Basic Nozzle": ["NOZ", 3, 1.5],
    "Nano-Enhanced Resin": ["NR", 0.05, 0.05],
    "Nutrient Solution": ["NS", 0.6, 0.5],
    "NeuroStimulants": ["NST", 0.05, 0.05],
    "Triglyceride Nuts": ["NUT", 0.9, 1],
    "Navigation Module MK1": ["NV1", 4.2, 2],
    "Navigation Module MK2": ["NV2", 6.7, 3],
    "Oxygen": ["O", 1.141, 1],
    "Office Supplies": ["OFF", 0.02, 0.2],
    "Olfactory Substances": ["OLF", 0.01, 0.001],
    "Operating System": ["OS", 0.001, 0.01],
    "Basic Overalls": ["OVE", 0.02, 0.025],
    "Printed Circuit Board": ["PCB", 0.05, 0.05],
    "Personal Data Assistant": ["PDA", 0.002, 0.002],
    "Poly-Ethylene": ["PE", 0.01, 0.01],
    "Premium Fertilizer": ["PFE", 0.9, 1],
    "Polymer Granulate": ["PG", 0.002, 0.001],
    "Pineberries": ["PIB", 0.3, 1],
    "Painkillers": ["PK", 0.001, 0.001],
    "Power Cell": ["POW", 0.05, 0.1],
    "Protein Paste": ["PPA", 2, 1],
    "Pressure Shielding": ["PSH", 4.2, 0.8],
    "Polymer Sheet Type L": ["PSL", 0.08, 0.8],
    "Polymer Sheet Type M": ["PSM", 0.04, 0.4],
    "Polymer Sheet Type S": ["PSS", 0.01, 0.1],
    "Power Tools": ["PT", 0.25, 0.2],
    "Padded Work Overall": ["PWO", 0.05, 0.05],
    "Quick-charge FTL Reactor": ["QCR", 14, 10],
    "Radio Device": ["RAD", 0.003, 0.005],
    "Radioisotope Generator": ["RAG", 5, 3.4],
    "Memory Bank": ["RAM", 0.001, 0.001],
    "Basic Rations": ["RAT", 0.21, 0.1],
    "Reinforced Bulkhead": ["RBH", 2.4, 0.9],
    "Raw Cotton Fiber": ["RCO", 0.95, 1],
    "Reactor Control System": ["RCS", 0.67, 0.5],
    "Standard FTL Reactor": ["RCT", 7, 4],
    "Reinforced Deck Elements": ["RDE", 1.4, 1.5],
    "Large Ship-Repair Drone Operations Unit": ["RDL", 150, 30],
    "Small Ship-Repair Drone Operations Unit": ["RDS", 50, 10],
    "Chemical Reagents": ["REA", 0.05, 0.05],
    "Rescue Drone": ["RED", 0.3, 0.05],
    "Repair Kit": ["REP", 0.006, 0.002],
    "Reinforced Glass": ["RG", 0.032, 0.01],
    "Red Gold": ["RGO", 19.32, 1],
    "Reinforced Hull Plate": ["RHP", 12, 10],
    "Non-Volatile Memory": ["ROM", 0.001, 0.001],
    "Reinforced Structural Elements": ["RSE", 1.9, 0.7],
    "Radiation Shielding": ["RSH", 3.7, 0.8],
    "Raw Silk Strains": ["RSI", 1.1, 1],
    "Reinforced Transparent Aperture": ["RTA", 1.5, 0.5],
    "Sulfur": ["S", 0.52, 0.25],
    "Search Algorithm": ["SA", 0.001, 0.01],
    "Sorting Algorithm": ["SAL", 0.001, 0.01],
    "Sensor Array": ["SAR", 1.7, 2],
    "Stem Cell Treatment": ["SC", 0.04, 0.01],
    "Small Cargo Bay Kit": ["SCB", 50, 50],
    "Multi-Purpose Scanner": ["SCN", 0.001, 0.001],
    "Sulfur Crystals": ["SCR", 2.05, 1],
    "Surgical Drone": ["SDR", 0.3, 0.05],
    "Poly-Sulfite Sealant": ["SEA", 0.15, 0.07],
    "Sensor": ["SEN", 0.001, 0.001],
    "Surgical Equipment": ["SEQ", 0.001, 0.01],
    "STL Fuel": ["SF", 0.06, 0.06],
    "Small FTL Emitter": ["SFE", 0.1, 0.4],
    "Small Fastener Kit": ["SFK", 0.04, 0.02],
    "Small FTL Fuel Tank Kit": ["SFL", 9, 1.5],
    "Silicon": ["SI", 2.329, 1],
    "Silken Fabric": ["SIL", 1.21, 1],
    "Silicon Ore": ["SIO", 1.79, 1],
    "Spatial Navigation Map": ["SNM", 0.001, 0.01],
    "Artificial Soil": ["SOI", 0.9, 1],
    "Solar Cell": ["SOL", 0.015, 0.01],
    "Solar Panel": ["SP", 0.15, 0.1],
    "Ship-Repair Drone": ["SRD", 0.3, 0.05],
    "Specialized Anti-rad Plate": ["SRP", 0.1, 0.2],
    "Structural Spacecraft Component": ["SSC", 1, 1],
    "Small STL Fuel Tank Kit": ["SSL", 20, 20],
    "Steel": ["STL", 7.85, 1],
    "Medical Stretcher": ["STR", 0.01, 1],
    "Stability Support System": ["STS", 0.1, 0.1],
    "Surgery Unit": ["SU", 6, 5],
    "Surveillance Drone": ["SUD", 0.3, 0.05],
    "Safety Uniform": ["SUN", 0.05, 0.05],
    "Small Wafer": ["SWF", 0.003, 0.003],
    "Tantalum": ["TA", 16.65, 1],
    "Targeting Computer": ["TAC", 0.15, 1],
    "Tantalite Rock": ["TAI", 7.94, 1],
    "Technetium": ["TC", 11.8, 1],
    "Tiny Cargo Bay Kit": ["TCB", 20, 20],
    "TCL Acid": ["TCL", 0.09, 0.1],
    "Technetium Oxide": ["TCO", 9.8, 1],
    "Stabilized Technetium": ["TCS", 3.4, 1.2],
    "Trauma Care Unit": ["TCU", 5, 4],
    "ThermoFluid": ["THF", 0.6, 0.35],
    "Basic Thermal Protection Material": ["THP", 2.2, 1],
    "Titanium": ["TI", 4.5, 1],
    "Titanium Ore": ["TIO", 1.58, 1],
    "TechnoKevlar Fabric": ["TK", 1.89, 1],
    "Tensor Processing Unit": ["TPU", 0.002, 0.002],
    "Audio Transmitter": ["TRA", 0.005, 0.002],
    "Advanced Transistor": ["TRN", 0.001, 0.001],
    "Truss": ["TRU", 0.1, 1.5],
    "Tectosilisite": ["TS", 2.4, 1],
    "Thermal Shielding": ["TSH", 2.4, 1.5],
    "Test Tubes": ["TUB", 0.002, 0.002],
    "Universal Toolset": ["UTS", 0.05, 0.05],
    "High-volume Cargo Bay Kit": ["VCB", 200, 200],
    "Triglyceride Fruits": ["VEG", 1.1, 1],
    "VitaGel": ["VG", 0.21, 0.1],
    "Vita Essence": ["VIT", 0.9, 1],
    "Very Small Cargo Bay Kit": ["VSC", 35, 35],
    "Tungsten": ["W", 7.519, 1],
    "Weak Artificial Intelligence": ["WAI", 0.001, 0.01],
    "Alpha-Stabilized Tungsten": ["WAL", 6.25, 1],
    "High-load Cargo Bay Kit": ["WCB", 200, 200],
    "Smart Zinfandel": ["WIN", 0.1, 0.1],
    "Window Manager": ["WM", 0.001, 0.01],
    "Handcraft Workshop Unit": ["WOR", 5, 5],
    "Water Reclaimer": ["WR", 6.4, 5],
    "Scientific Work Station": ["WS", 0.05, 0.5],
    "Zircon Crystals": ["ZIR", 4.85, 1],
    "Zirconium": ["ZR", 6.53, 1],
};
/* harmony export (immutable) */ __webpack_exports__["f"] = Materials;



/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["b"] = calculateFinancials;
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GameProperties__ = __webpack_require__(3);



class Finances {
    constructor(tile, parameters, pmmgSettings, userInfo, webData) {
        this.name = "FINANCES";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
        this.userInfo = userInfo;
        this.webData = webData;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        if (this.pmmgSettings["PMMGExtended"]["recording_financials"] == false) {
            const header = document.createElement("h3");
            header.textContent = "You are not recording daily financial data, would you like to enable recording?";
            header.style.textAlign = "center";
            header.style.width = "100%";
            this.tile.appendChild(header);
            const checkboxDiv = document.createElement("div");
            checkboxDiv.style.alignItems = "center";
            checkboxDiv.style.display = "flex";
            checkboxDiv.style.justifyContent = "center";
            checkboxDiv.style.paddingBottom = "5px";
            this.tile.appendChild(checkboxDiv);
            const checkbox = document.createElement("input");
            checkbox.type = "checkbox";
            checkbox.style.display = "inline-block";
            checkboxDiv.appendChild(checkbox);
            const label = document.createElement("div");
            label.textContent = "Enable Recording (Refresh needed to take effect)";
            label.style.display = "inline-block";
            label.style.marginTop = "2px";
            checkboxDiv.appendChild(label);
            const explainDiv = document.createElement("div");
            explainDiv.style.padding = "5px";
            this.tile.appendChild(explainDiv);
            explainDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("PMMG can record your finances (using FIO data) to provide a more accurate estimate than the in-game FIN screen. The data is pulled at most every 24 hours and is stored locally like your other settings. You can access all the information from the XIT FIN buffer."));
            const pmmgSettings = this.pmmgSettings;
            checkbox.addEventListener("click", function () {
                pmmgSettings["PMMGExtended"]["recording_financials"] = checkbox.checked;
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
            });
            return;
        }
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Finance", chooseScreen, [this.tile, this.parameters, this.pmmgSettings, this.webData, this.userInfo, this]);
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Finances;

function chooseScreen(finResult, params) {
    finResult = finResult["PMMG-Finance"];
    if (!params[0] || !params[1] || !params[2] || !params[3]) {
        return;
    }
    const tile = params[0];
    const parameters = params[1];
    const pmmgSettings = params[2];
    const webData = params[3];
    const userInfo = params[4];
    const finObj = params[5];
    var CX = "AI1";
    var priceType = "Average";
    if (pmmgSettings["PMMGExtended"]["pricing_scheme"]) {
        const interpreted = interpretCX(pmmgSettings["PMMGExtended"]["pricing_scheme"], pmmgSettings);
        CX = interpreted[0];
        priceType = interpreted[1];
    }
    if (!userInfo["PMMG-User-Info"]["cx_prices"]) {
        return;
    }
    const cxPrices = userInfo["PMMG-User-Info"]["cx_prices"][CX][priceType];
    var currency = "";
    switch (CX) {
        case "AI1":
            currency = __WEBPACK_IMPORTED_MODULE_2__GameProperties__["a" /* CurrencySymbols */].AIC;
            break;
        case "CI1":
        case "CI2":
            currency = __WEBPACK_IMPORTED_MODULE_2__GameProperties__["a" /* CurrencySymbols */].CIS;
            break;
        case "NC1":
        case "NC2":
            currency = __WEBPACK_IMPORTED_MODULE_2__GameProperties__["a" /* CurrencySymbols */].NCC;
            break;
        case "IC1":
            currency = __WEBPACK_IMPORTED_MODULE_2__GameProperties__["a" /* CurrencySymbols */].ICA;
            break;
    }
    if (parameters[1] && (parameters[1].toLowerCase() == "settings" || parameters[1].toLowerCase() == "set")) {
        const pricingHeader = document.createElement('h3');
        pricingHeader.appendChild(document.createTextNode("Pricing Scheme"));
        pricingHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Select a pricing scheme to calculate financials.", "right"));
        pricingHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(pricingHeader);
        const priceDiv = document.createElement("div");
        tile.appendChild(priceDiv);
        const priceLabel = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Pricing Scheme:");
        priceLabel.style.marginBottom = "4px";
        priceDiv.appendChild(priceLabel);
        const priceSelect = document.createElement("select");
        priceSelect.name = "price-select";
        priceSelect.id = "price-select";
        Object.keys(PricingSchemes).forEach(name => {
            priceSelect.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["p" /* createSelectOption */])(name, name));
        });
        Object.keys(CustomSchemes).forEach(name => {
            priceSelect.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["p" /* createSelectOption */])(name, name));
        });
        if (!pmmgSettings["PMMGExtended"]["pricing_scheme"] || (!PricingSchemes[pmmgSettings["PMMGExtended"]["pricing_scheme"]] && !CustomSchemes[pmmgSettings["PMMGExtended"]["pricing_scheme"]])) {
            priceSelect.children[0].selected = true;
        }
        else if (PricingSchemes[pmmgSettings["PMMGExtended"]["pricing_scheme"]]) {
            priceSelect.children[PricingSchemes[pmmgSettings["PMMGExtended"]["pricing_scheme"]]].selected = true;
        }
        else {
            priceSelect.children[CustomSchemes[pmmgSettings["PMMGExtended"]["pricing_scheme"]]].selected = true;
        }
        priceSelect.classList.add("select");
        priceSelect.style.marginLeft = "4px";
        const spreadsheetDiv = document.createElement("div");
        if (pmmgSettings["PMMGExtended"]["pricing_scheme"] != "Custom (Spreadsheet)") {
            spreadsheetDiv.style.display = "none";
        }
        priceSelect.addEventListener("change", function () {
            pmmgSettings["PMMGExtended"]["pricing_scheme"] = priceSelect.selectedOptions[0].value;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
            switch (priceSelect.selectedOptions[0].value) {
                case "Custom (Spreadsheet)":
                    spreadsheetDiv.style.display = "block";
                    break;
                default:
                    spreadsheetDiv.style.display = "none";
            }
        });
        priceDiv.appendChild(priceSelect);
        tile.appendChild(spreadsheetDiv);
        const backupDiv = document.createElement("div");
        backupDiv.style.marginTop = "8px";
        const backupPriceLabel = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Back Up Pricing Scheme:");
        backupPriceLabel.style.marginBottom = "4px";
        backupDiv.appendChild(backupPriceLabel);
        spreadsheetDiv.appendChild(backupDiv);
        const backupPriceSelect = document.createElement("select");
        backupDiv.appendChild(backupPriceSelect);
        backupPriceSelect.name = "backup-price-select";
        backupPriceSelect.id = "backup-price-select";
        Object.keys(PricingSchemes).forEach(name => {
            backupPriceSelect.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["p" /* createSelectOption */])(name, name));
        });
        if (!pmmgSettings["PMMGExtended"]["backup_pricing_scheme"] || !PricingSchemes[pmmgSettings["PMMGExtended"]["backup_pricing_scheme"]]) {
            backupPriceSelect.children[0].selected = true;
        }
        else {
            backupPriceSelect.children[PricingSchemes[pmmgSettings["PMMGExtended"]["backup_pricing_scheme"]]].selected = true;
        }
        backupPriceSelect.classList.add("select");
        backupPriceSelect.style.marginLeft = "4px";
        backupPriceSelect.addEventListener("change", function () {
            pmmgSettings["PMMGExtended"]["backup_pricing_scheme"] = backupPriceSelect.selectedOptions[0].value;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        const urlDiv = document.createElement("div");
        spreadsheetDiv.appendChild(urlDiv);
        const urlLabel = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Spreadsheet URL:");
        urlDiv.appendChild(urlLabel);
        const urlInput = document.createElement("input");
        urlInput.classList.add("input-text");
        urlDiv.appendChild(urlInput);
        urlInput.style.marginLeft = "4px";
        if (pmmgSettings["PMMGExtended"]["fin_spreadsheet"]) {
            urlInput.value = pmmgSettings["PMMGExtended"]["fin_spreadsheet"];
        }
        urlInput.addEventListener("input", function () {
            pmmgSettings["PMMGExtended"]["fin_spreadsheet"] = urlInput.value == "" ? undefined : urlInput.value;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        const sheetDiv = document.createElement("div");
        spreadsheetDiv.appendChild(sheetDiv);
        const sheetLabel = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Sheet Name:");
        sheetLabel.style.marginBottom = "4px";
        sheetDiv.appendChild(sheetLabel);
        const sheetInput = document.createElement("input");
        sheetDiv.appendChild(sheetInput);
        sheetInput.classList.add("input-text");
        sheetInput.style.marginLeft = "4px";
        if (pmmgSettings["PMMGExtended"]["fin_sheet_name"]) {
            sheetInput.value = pmmgSettings["PMMGExtended"]["fin_sheet_name"];
        }
        sheetInput.addEventListener("input", function () {
            pmmgSettings["PMMGExtended"]["fin_sheet_name"] = sheetInput.value == "" ? undefined : sheetInput.value;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        const resultDiv = document.createElement("div");
        spreadsheetDiv.appendChild(resultDiv);
        if (pmmgSettings["PMMGExtended"]["fin_spreadsheet"] && pmmgSettings["PMMGExtended"]["fin_sheet_name"]) {
            const sheetID = pmmgSettings["PMMGExtended"]["fin_spreadsheet"].match(/\/d\/([^\/]+)/);
            if (sheetID && sheetID[1]) {
                drawGSTable(resultDiv, webData["custom_prices"]);
            }
        }
        const importHeader = document.createElement('h3');
        importHeader.appendChild(document.createTextNode("Import/Export Data"));
        importHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Import or export financial data to a json file.", "right"));
        importHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(importHeader);
        const importDiv = document.createElement("div");
        tile.appendChild(importDiv);
        const importButton = document.createElement("button");
        importButton.textContent = "Import Finances";
        importButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
        importButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
        importButton.style.marginLeft = "4px";
        importButton.style.marginBottom = "4px";
        importDiv.appendChild(importButton);
        const importFile = document.createElement("input");
        importFile.type = "file";
        importFile.accept = ".json";
        importFile.style.display = "none";
        importDiv.appendChild(importFile);
        const errorTextBox = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Error Loading File!");
        errorTextBox.style.display = "none";
        importDiv.appendChild(errorTextBox);
        importButton.addEventListener("click", function () {
            importFile.click();
            return;
        });
        importFile.addEventListener("change", function () {
            if (!this.files) {
                return;
            }
            const file = this.files[0];
            if (!file) {
                return;
            }
            const reader = new FileReader();
            reader.onload = function (e) {
                if (!e || !e.target) {
                    return;
                }
                try {
                    const fileOutput = JSON.parse(e.target.result);
                    finResult = {};
                    Object.keys(fileOutput).forEach(key => {
                        finResult[key] = fileOutput[key];
                        return;
                    });
                    Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])({ "PMMG-Finance": finResult });
                    errorTextBox.style.display = "none";
                }
                catch (ex) {
                    console.log("PMMG: Error encountered processing file!");
                    errorTextBox.style.display = "inline-block";
                }
            };
            reader.readAsText(file);
        });
        const exportButton = document.createElement("button");
        exportButton.textContent = "Export Finances";
        exportButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
        exportButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
        exportButton.style.marginLeft = "4px";
        exportButton.style.marginBottom = "4px";
        importDiv.appendChild(exportButton);
        exportButton.addEventListener("click", function () {
            const output = {};
            Object.keys(finResult).forEach(key => {
                output[key] = finResult[key];
            });
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["v" /* downloadFile */])(output, "pmmg-finance" + Date.now().toString() + ".json");
        });
        const collectHeader = document.createElement('h3');
        collectHeader.appendChild(document.createTextNode("Collect Data"));
        collectHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Manually collects a data point.", "right"));
        collectHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(collectHeader);
        const addButton = document.createElement("button");
        addButton.textContent = "Record Data";
        addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
        addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
        addButton.style.marginLeft = "4px";
        addButton.style.marginBottom = "4px";
        tile.appendChild(addButton);
        addButton.addEventListener("click", function () {
            calculateFinancials(webData, userInfo, pmmgSettings, true);
            finObj.create_buffer();
        });
        const purgeHeader = document.createElement('h3');
        purgeHeader.appendChild(document.createTextNode("Purge Specific Data Points"));
        purgeHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Purge individual data points from storage.", "right"));
        purgeHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(purgeHeader);
        const tbody = Object(__WEBPACK_IMPORTED_MODULE_0__util__["r" /* createTable */])(tile, ["Date", "Equity", "Delete"]);
        for (var i = 0; i < finResult["History"].length; i++) {
            const row = document.createElement("tr");
            tbody.appendChild(row);
            const dateColumn = document.createElement("td");
            dateColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])((new Date(finResult["History"][i][0])).toLocaleTimeString(undefined, { hour: "2-digit", minute: "2-digit" }) + " on " + (new Date(finResult["History"][i][0])).toLocaleDateString(undefined, { month: "2-digit", day: "2-digit" })));
            row.appendChild(dateColumn);
            const equityColumn = document.createElement("td");
            const equity = finResult["History"][i][1] + finResult["History"][i][2] + finResult["History"][i][3] - finResult["History"][i][4];
            equityColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(equity.toLocaleString(undefined, { maximumFractionDigits: 0 })));
            row.appendChild(equityColumn);
            const deleteColumn = document.createElement("td");
            deleteColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["q" /* createSmallButton */])("delete", function (index) {
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["N" /* showWarningDialog */])(tile, "Are you sure you want to delete this datapoint?", "Confirm", function () {
                    finResult["History"].splice(index, 1);
                    Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])({ "PMMG-Finance": finResult });
                    finObj.create_buffer();
                });
            }, [i]));
            row.appendChild(deleteColumn);
        }
        const clearHeader = document.createElement('h3');
        clearHeader.appendChild(document.createTextNode("Clear All Data"));
        clearHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Clear all current and historical financial data.", "right"));
        clearHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(clearHeader);
        const clearButton = document.createElement("button");
        clearButton.textContent = "Clear Data";
        clearButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
        clearButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
        clearButton.style.marginLeft = "4px";
        clearButton.style.marginBottom = "4px";
        tile.appendChild(clearButton);
        clearButton.addEventListener("click", function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["N" /* showWarningDialog */])(tile, "You are about to clear all current and historical financial data. Do you want to continue?", "Confirm", clearData, pmmgSettings);
        });
        return;
    }
    if (!finResult || Object.keys(finResult).length == 0) {
        const header = document.createElement("h3");
        header.textContent = "No data has been recorded yet. Wait a few seconds then refresh the page. If this persists, contact PiBoy314.";
        header.style.textAlign = "center";
        header.style.width = "100%";
        tile.appendChild(header);
        return;
    }
    const locations = {};
    finResult["Buildings"].forEach(inv => {
        if (locations[inv[0]]) {
            locations[inv[0]][0] += inv[1];
            locations[inv[0]][2] += inv[1];
        }
        else {
            locations[inv[0]] = [inv[1], 0, inv[1]];
        }
    });
    finResult["Inventory"].forEach(inv => {
        if (locations[inv[0]]) {
            locations[inv[0]][1] += inv[1];
            locations[inv[0]][2] += inv[1];
        }
        else {
            locations[inv[0]] = [0, inv[1], inv[1]];
        }
    });
    const locationsArray = [];
    Object.keys(locations).forEach(inv => {
        locationsArray.push([inv, locations[inv][0], locations[inv][1], locations[inv][2]]);
    });
    locationsArray.sort(financialSort);
    if (!parameters[1]) {
        const quickHeader = document.createElement('h3');
        quickHeader.appendChild(document.createTextNode("Quick Links"));
        quickHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(quickHeader);
        const quickDiv = document.createElement("div");
        quickDiv.style.marginLeft = "5px";
        tile.appendChild(quickDiv);
        const quickButtons = [["SUMMARY", "SUMMARY"], ["PRODUCTION", "PRODUCTION"], ["CHARTS", "CHART"], ["SETTINGS", "SETTINGS"]];
        quickButtons.forEach(label => {
            const button = document.createElement("button");
            button.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
            button.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
            button.style.marginBottom = "5px";
            button.textContent = label[0];
            quickDiv.appendChild(button);
            button.addEventListener("click", function () {
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["M" /* showBuffer */])("XIT FIN_" + label[1]);
            });
        });
        const chartsHeader = document.createElement('h3');
        chartsHeader.appendChild(document.createTextNode("Individual Charts"));
        chartsHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(chartsHeader);
        const chartsDiv = document.createElement("div");
        chartsDiv.style.marginLeft = "5px";
        tile.appendChild(chartsDiv);
        const chartButtons = [["EQUITY HISTORY", "HISTORY"], ["ASSETS BY TYPE", "ASSETPIE"], ["ASSETS BY LOCATION", "LOCATIONSPIE"]];
        chartButtons.forEach(label => {
            const button = document.createElement("button");
            button.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
            button.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
            button.style.marginBottom = "5px";
            button.textContent = label[0];
            chartsDiv.appendChild(button);
            button.addEventListener("click", function () {
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["M" /* showBuffer */])("XIT FIN_CHART_" + label[1]);
            });
        });
        const infoHeader = document.createElement('h3');
        infoHeader.appendChild(document.createTextNode("Data Info"));
        infoHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(infoHeader);
        const infoDiv = document.createElement("div");
        tile.appendChild(infoDiv);
        infoDiv.style.margin = "5px";
        const dataPoints = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])((finResult["History"] ? finResult["History"].length : 0).toLocaleString() + " data points recorded");
        infoDiv.appendChild(dataPoints);
        dataPoints.style.display = "block";
        if (finResult["History"]) {
            const oldestDate = new Date(finResult["History"][0][0]);
            const oldestDateElem = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Oldest data recorded on " + oldestDate.toLocaleDateString(undefined, { month: "2-digit", day: "2-digit", year: "numeric" }));
            infoDiv.appendChild(oldestDateElem);
            oldestDateElem.style.marginTop = "5px";
            oldestDateElem.style.display = "block";
            const newestDate = new Date(finResult["History"][finResult["History"].length - 1][0]);
            const newestDateElem = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Latest data recorded at " + newestDate.toLocaleTimeString(undefined, { hour: "2-digit", minute: "2-digit" }) + " on " + newestDate.toLocaleDateString(undefined, { month: "2-digit", day: "2-digit", year: "numeric" }));
            infoDiv.appendChild(newestDateElem);
            newestDateElem.style.marginTop = "5px";
            newestDateElem.style.display = "block";
        }
    }
    else if (parameters[1].toLowerCase() == "summary" || parameters[1].toLowerCase() == "sum") {
        const lastReading = finResult["History"][finResult["History"].length - 1];
        const lastEquity = lastReading[1] + lastReading[2] + lastReading[3] - lastReading[4];
        const tileHeader = document.createElement("h2");
        tileHeader.title = "Financial Overview";
        tileHeader.textContent = "Key Figures";
        tileHeader.classList.add("fin-title");
        tile.appendChild(tileHeader);
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + Math.round(lastReading[1]).toLocaleString(), "Fixed Assets", __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Standard));
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + Math.round(lastReading[2]).toLocaleString(), "Current Assets", __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Standard));
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + Math.round(lastReading[3]).toLocaleString(), "Liquid Assets", __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Standard));
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + Math.round(lastEquity).toLocaleString(), "Equity", __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Standard));
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + Math.round(lastReading[4]).toLocaleString(), "Liabilities", __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Standard));
        for (var i = finResult["History"].length - 1; i >= 0; i--) {
            if (lastReading[0] - finResult["History"][i][0] > 86400000 * 7) {
                break;
            }
        }
        i++;
        const prevEquity = finResult["History"][i][1] + finResult["History"][i][2] + finResult["History"][i][3] - finResult["History"][i][4];
        const profit = Math.round(lastEquity - prevEquity);
        const color = profit > 0 ? __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Success : __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Failure;
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + profit.toLocaleString(), "Profit", color));
        const breakdownHeader = document.createElement("h2");
        breakdownHeader.title = "Financial Breakdown";
        breakdownHeader.textContent = "Inventory Breakdown";
        breakdownHeader.classList.add("fin-title");
        tile.appendChild(breakdownHeader);
        const tbody = Object(__WEBPACK_IMPORTED_MODULE_0__util__["r" /* createTable */])(tile, ["Name", "Fixed Assets", "Current Assets", "Total Assets"]);
        locationsArray.forEach(inv => {
            const row = document.createElement("tr");
            tbody.appendChild(row);
            const firstTableElem = document.createElement("td");
            row.appendChild(firstTableElem);
            firstTableElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(inv[0]));
            inv.shift();
            for (let point of inv) {
                const tableElem = document.createElement("td");
                row.appendChild(tableElem);
                tableElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(point.toLocaleString(undefined, { maximumFractionDigits: 0 })));
            }
        });
    }
    else if (parameters[1].toLowerCase() == "chart" || parameters[1].toLowerCase() == "charts") {
        if (parameters[2]) {
            const graphDiv = document.createElement("div");
            graphDiv.style.margin = "5px";
            tile.appendChild(graphDiv);
            const graph = generateGraph(parameters[2], finResult, locationsArray, currency);
            if (!graph) {
                graphDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Error! Not a valid graph type!"));
                return;
            }
            graphDiv.appendChild(graph);
            return;
        }
        if (finResult["History"].length == 0) {
            return;
        }
        const lineHeader = document.createElement('h3');
        lineHeader.appendChild(document.createTextNode("Equity History"));
        lineHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(lineHeader);
        const historyDiv = document.createElement("div");
        historyDiv.style.margin = "5px";
        historyDiv.style.marginTop = "10px";
        tile.appendChild(historyDiv);
        const linePlot = generateGraph("history", finResult, locationsArray, currency);
        if (!linePlot) {
            return;
        }
        linePlot.style.cursor = "pointer";
        linePlot.addEventListener("click", function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["M" /* showBuffer */])("XIT FIN_CHART_HISTORY");
        });
        historyDiv.appendChild(linePlot);
        const pieHeader = document.createElement('h3');
        pieHeader.appendChild(document.createTextNode("Asset Breakdown"));
        pieHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(pieHeader);
        const pieDiv = document.createElement("div");
        pieDiv.style.margin = "5px";
        tile.appendChild(pieDiv);
        const pieCanvas = generateGraph("assetpie", finResult, locationsArray, currency);
        if (!pieCanvas) {
            return;
        }
        pieCanvas.style.cursor = "pointer";
        pieCanvas.style.marginRight = "-25px";
        pieCanvas.addEventListener("click", function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["M" /* showBuffer */])("XIT FIN_CHART_ASSETPIE");
        });
        pieDiv.appendChild(pieCanvas);
        const locPieCanvas = generateGraph("locationspie", finResult, locationsArray, currency);
        if (!locPieCanvas) {
            return;
        }
        locPieCanvas.style.cursor = "pointer";
        locPieCanvas.addEventListener("click", function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["M" /* showBuffer */])("XIT FIN_CHART_LOCATIONSPIE");
        });
        pieDiv.appendChild(locPieCanvas);
    }
    else if (parameters[1].toLowerCase() == "production" || parameters[1].toLowerCase() == "prox") {
        if (!userInfo["PMMG-User-Info"] || !userInfo["PMMG-User-Info"]["workforce"]) {
            tile.id = "pmmg-reload";
            return;
        }
        else {
            tile.textContent = "";
            tile.id = "pmmg-load-success";
        }
        const planets = [];
        userInfo["PMMG-User-Info"]["workforce"].forEach(workforce => {
            if (workforce.PlanetName && !planets.includes(workforce.PlanetName)) {
                planets.push(workforce.PlanetName);
            }
        });
        userInfo["PMMG-User-Info"]["production"].forEach(production => {
            if (production.PlanetName && !planets.includes(production.PlanetName)) {
                planets.push(production.PlanetName);
            }
        });
        const burnFinances = [];
        var totalProduced = 0;
        var totalConsumed = 0;
        const isCustom = pmmgSettings["PMMGExtended"]["pricing_scheme"] == "Custom (Spreadsheet)";
        planets.forEach(planet => {
            const planetProduction = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planet, userInfo["PMMG-User-Info"]["production"]);
            const planetWorkforce = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planet, userInfo["PMMG-User-Info"]["workforce"]);
            const planetFinances = [];
            planetFinances.push(planet);
            var produced = 0;
            var consumed = 0;
            if (planetWorkforce) {
                planetWorkforce.workforce.forEach(tier => {
                    tier.needs.forEach(need => {
                        consumed += getPrice(cxPrices, webData["custom_prices"], isCustom, need.material.ticker) * need.unitsPerInterval;
                    });
                });
            }
            var isRecurring = false;
            if (planetProduction && planetProduction.lines) {
                planetProduction.lines.forEach(line => {
                    line.orders.forEach(order => { if (order.recurring) {
                        isRecurring = true;
                    } });
                });
                planetProduction.lines.forEach(line => {
                    var totalDuration = 0;
                    line.orders.forEach(order => {
                        if (!order.started && (!isRecurring || order.recurring)) {
                            totalDuration += order.duration || Infinity;
                        }
                    });
                    line.orders.forEach(order => {
                        if (!order.started && (!isRecurring || order.recurring)) {
                            order.inputs.forEach(mat => {
                                consumed += getPrice(cxPrices, webData["custom_prices"], isCustom, mat.MaterialTicker) * mat.Amount * 86400000 * line.capacity / totalDuration;
                            });
                            order.outputs.forEach(mat => {
                                produced += getPrice(cxPrices, webData["custom_prices"], isCustom, mat.MaterialTicker) * mat.Amount * 86400000 * line.capacity / totalDuration;
                            });
                        }
                    });
                });
            }
            planetFinances.push(produced);
            planetFinances.push(consumed);
            totalProduced += produced;
            totalConsumed += consumed;
            burnFinances.push(planetFinances);
        });
        const tileHeader = document.createElement("h2");
        tileHeader.title = "Production Overview";
        tileHeader.textContent = "Production Overview";
        tileHeader.classList.add("fin-title");
        tile.appendChild(tileHeader);
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + totalProduced.toLocaleString(undefined, { "maximumFractionDigits": 0 }), "Daily Produced", __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Standard));
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + totalConsumed.toLocaleString(undefined, { "maximumFractionDigits": 0 }), "Daily Consumed", __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Standard));
        tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["j" /* createFinancialTextBox */])(currency + (totalProduced - totalConsumed).toLocaleString(undefined, { "maximumFractionDigits": 0 }), "Daily Profit", (totalProduced - totalConsumed) > 0 ? __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Success : __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Failure));
        const planetHeader = document.createElement("h2");
        planetHeader.title = "Planet Breakdown";
        planetHeader.textContent = "Planet Breakdown";
        planetHeader.classList.add("fin-title");
        tile.appendChild(planetHeader);
        const tbody = Object(__WEBPACK_IMPORTED_MODULE_0__util__["r" /* createTable */])(tile, ["Name", "Produced", "Consumed", "Profit"]);
        burnFinances.sort(burnProductionSort);
        burnFinances.forEach(inv => {
            if (inv[1] == 0 && inv[2] == 0) {
                return;
            }
            const row = document.createElement("tr");
            tbody.appendChild(row);
            const firstTableElem = document.createElement("td");
            row.appendChild(firstTableElem);
            firstTableElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(inv[0]));
            const producedElem = document.createElement("td");
            row.appendChild(producedElem);
            producedElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(inv[1].toLocaleString(undefined, { maximumFractionDigits: 0 })));
            const consumedElem = document.createElement("td");
            row.appendChild(consumedElem);
            consumedElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(inv[2].toLocaleString(undefined, { maximumFractionDigits: 0 })));
            const profitElem = document.createElement("td");
            row.appendChild(profitElem);
            profitElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])((inv[1] - inv[2]).toLocaleString(undefined, { maximumFractionDigits: 0 })));
            profitElem.style.color = inv[1] - inv[2] > 0 ? __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Success : __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Failure;
        });
    }
}
function drawGSTable(resultDiv, prices) {
    if (!prices) {
        resultDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Error! No Prices Found!"));
    }
    const tbody = Object(__WEBPACK_IMPORTED_MODULE_0__util__["r" /* createTable */])(resultDiv, ["Ticker", "Price"]);
    Object.keys(prices).forEach(mat => {
        const row = document.createElement("tr");
        const matElem = document.createElement("td");
        row.appendChild(matElem);
        matElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(mat));
        const priceElem = document.createElement("td");
        row.appendChild(priceElem);
        priceElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(prices[mat].toLocaleString(undefined, { "maximumFractionDigits": 2, "minimumFractionDigits": 2 })));
        tbody.appendChild(row);
    });
}
function generateGraph(graphType, finResult, locationsArray, currency) {
    switch (graphType.toLowerCase()) {
        case "history":
            const dateData = [];
            const finData = [];
            finResult["History"].forEach(entry => {
                dateData.push(entry[0]);
                finData.push(entry[1] + entry[2] + entry[3] - entry[4]);
            });
            const linePlot = Object(__WEBPACK_IMPORTED_MODULE_0__util__["w" /* drawLineChart */])(dateData, finData, 400, 200, "Date", "Equity", "#f7a600", true, currency);
            return linePlot;
        case "assetpie":
            const latestReport = finResult["History"][finResult["History"].length - 1];
            const pieCanvas = Object(__WEBPACK_IMPORTED_MODULE_0__util__["x" /* drawPieChart */])([latestReport[1], latestReport[2], latestReport[3]], 180, ["Fixed", "Current", "Liquid"]);
            return pieCanvas;
        case "locationspie":
            const locationNames = [];
            const locationValue = [];
            locationsArray.forEach(location => {
                locationNames.push(location[0]);
                locationValue.push(location[1] + location[2] + location[3]);
            });
            const locPieCanvas = Object(__WEBPACK_IMPORTED_MODULE_0__util__["x" /* drawPieChart */])(locationValue, 180, locationNames);
            return locPieCanvas;
    }
    return null;
}
function clearData(result) {
    if (result["PMMGExtended"]) {
        result["PMMGExtended"]["last_fin_recording"] = undefined;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
    }
    try {
        browser.storage.local.remove("PMMG-Finance");
    }
    catch (err) {
        chrome.storage.local.remove("PMMG-Finance");
    }
    return;
}
function getPrice(cxPrices, customPrices, isCustom, ticker) {
    return isCustom && customPrices && customPrices[ticker] ? customPrices[ticker] : (cxPrices[ticker] ? cxPrices[ticker] : 0);
}
const PricingSchemes = {
    "AI1 AVG": 0,
    "AI1 ASK": 1,
    "AI1 BID": 2,
    "CI1 AVG": 3,
    "CI1 ASK": 4,
    "CI1 BID": 5,
    "CI2 AVG": 6,
    "CI2 ASK": 7,
    "CI2 BID": 8,
    "IC1 AVG": 9,
    "IC1 ASK": 10,
    "IC1 BID": 11,
    "NC1 AVG": 12,
    "NC1 ASK": 13,
    "NC1 BID": 14,
    "NC2 AVG": 15,
    "NC2 ASK": 16,
    "NC2 BID": 17
};
const CustomSchemes = {
    "Custom (Spreadsheet)": 18
};
function calculateFinancials(webData, userInfo, result, loop) {
    if (loop) {
        if (userInfo["PMMG-User-Info"] && userInfo["PMMG-User-Info"]["cx_prices"]) {
            window.setTimeout(() => calculateFinancials(webData, userInfo, result, false), 100);
            return;
        }
        else {
            window.setTimeout(() => calculateFinancials(webData, userInfo, result, true), 50);
            return;
        }
    }
    result["PMMGExtended"]["last_fin_recording"] = Date.now();
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
    var CX = "AI1";
    var priceType = "Average";
    if (result["PMMGExtended"]["pricing_scheme"]) {
        const interpreted = interpretCX(result["PMMGExtended"]["pricing_scheme"], result);
        CX = interpreted[0];
        priceType = interpreted[1];
    }
    const cxPrices = userInfo["PMMG-User-Info"]["cx_prices"][CX][priceType];
    const isCustom = result["PMMGExtended"]["pricing_scheme"] == "Custom (Spreadsheet)";
    const finSnapshot = {};
    finSnapshot["Currencies"] = [];
    if (userInfo["PMMG-User-Info"]["currency"]) {
        userInfo["PMMG-User-Info"]["currency"].forEach(currency => {
            finSnapshot["Currencies"].push([currency["currency"], Math.round(currency["amount"] * 100) / 100]);
        });
    }
    finSnapshot["Inventory"] = [];
    finSnapshot["Buildings"] = [];
    if (userInfo["PMMG-User-Info"]["storage"]) {
        userInfo["PMMG-User-Info"]["storage"].forEach(location => {
            var value = 0;
            location["items"].forEach(mat => {
                value += getPrice(cxPrices, webData["custom_prices"], isCustom, mat.MaterialTicker) * mat.Amount;
            });
            var name;
            if (location.type == "STORE" || location.type == "WAREHOUSE_STORE") {
                name = location.PlanetName;
            }
            else {
                name = location.name;
            }
            if (value == 0) {
                return;
            }
            var isMatch = false;
            finSnapshot["Inventory"].forEach(inv => {
                if (inv[0] == name) {
                    isMatch = true;
                    inv[1] += Math.round(value * 100) / 100;
                }
            });
            if (!isMatch) {
                finSnapshot["Inventory"].push([name, Math.round(value * 100) / 100]);
            }
            return;
        });
    }
    if (userInfo["PMMG-User-Info"]["sites"]) {
        userInfo["PMMG-User-Info"]["sites"].forEach(location => {
            if (location.type != "BASE") {
                return;
            }
            var value = 0;
            location["buildings"].forEach(building => {
                building["reclaimableMaterials"].forEach(mat => {
                    value += getPrice(cxPrices, webData["custom_prices"], isCustom, mat.material.ticker) * mat.amount;
                });
            });
            if (value == 0) {
                return;
            }
            finSnapshot["Buildings"].push([location.PlanetName, Math.round(value * 100) / 100]);
        });
    }
    var contractValue = 0;
    var contractLiability = 0;
    if (userInfo["PMMG-User-Info"]["contracts"]) {
        let validContracts = userInfo["PMMG-User-Info"]["contracts"].filter(c => !invalidContractStatus.includes(c["status"]));
        validContracts.forEach(contract => {
            const party = contract["party"];
            contract["conditions"].forEach(condition => {
                if (condition["status"] == "FULFILLED") {
                    return;
                }
                if (condition["type"] == "DELIVERY" || condition["type"] == "PROVISION") {
                    if (condition["party"] == party) {
                        contractLiability += getPrice(cxPrices, webData["custom_prices"], isCustom, condition.quantity.material.ticker) * condition.quantity.amount;
                    }
                    else {
                        contractValue += getPrice(cxPrices, webData["custom_prices"], isCustom, condition.quantity.material.ticker) * condition.quantity.amount;
                    }
                }
                else if (condition["Type"] == "PAYMENT") {
                    if (condition["Party"] == party) {
                        contractLiability += condition.amount.amount;
                    }
                    else {
                        contractValue += condition.amount.amount;
                    }
                }
            });
        });
        finSnapshot["ContractValue"] = Math.round(contractValue * 100) / 100;
        finSnapshot["ContractLiability"] = Math.round(contractLiability * 100) / 100;
    }
    var cxBuyValue = 0;
    var cxSellValue = 0;
    if (userInfo["PMMG-User-Info"]["cxos"]) {
        userInfo["PMMG-User-Info"]["cxos"].forEach(order => {
            if (order["status"] == "FILLED") {
                return;
            }
            if (order["type"] == "SELLING") {
                cxSellValue += getPrice(cxPrices, webData["custom_prices"], isCustom, order.material.ticker) * order.amount;
            }
            else {
                cxBuyValue += order.limit.amount * order.amount;
            }
        });
    }
    var fxBuyValue = 0;
    var fxSellValue = 0;
    if (userInfo["PMMG-User-Info"]["fxos"]) {
        userInfo["PMMG-User-Info"]["fxos"].forEach(order => {
            if (order["status"] == "FILLED") {
                return;
            }
            if (order["type"] == "SELLING") {
                fxSellValue += order.initialAmount.amount;
            }
            else {
                fxBuyValue += order.limit.rate * order.initialAmount.amount;
            }
        });
    }
    finSnapshot["CXBuy"] = Math.round(cxBuyValue * 100) / 100;
    finSnapshot["CXSell"] = Math.round(cxSellValue * 100) / 100;
    finSnapshot["FXBuy"] = Math.round(fxBuyValue * 100) / 100;
    finSnapshot["FXSell"] = Math.round(fxSellValue * 100) / 100;
    var liquid = 0;
    finSnapshot["Currencies"].forEach(currency => {
        liquid += currency[1];
    });
    liquid += cxBuyValue + fxBuyValue + fxSellValue;
    var fixed = 0;
    finSnapshot["Buildings"].forEach(inv => {
        fixed += inv[1];
    });
    var current = cxSellValue + contractValue;
    finSnapshot["Inventory"].forEach(inv => {
        current += inv[1];
    });
    var liabilities = contractLiability;
    finSnapshot["History"] = [Date.now(), Math.round(fixed * 100) / 100, Math.round(current * 100) / 100, Math.round(liquid * 100) / 100, Math.round(liabilities * 100) / 100];
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Finance", writeFinancials, finSnapshot);
}
function writeFinancials(result, finSnapshot) {
    var history = [];
    if (result["PMMG-Finance"] && result["PMMG-Finance"]["History"]) {
        history = result["PMMG-Finance"]["History"];
    }
    history.push(finSnapshot["History"]);
    finSnapshot["History"] = history;
    result["PMMG-Finance"] = finSnapshot;
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
}
const invalidContractStatus = [
    "FULFILLED",
    "BREACHED",
    "TERMINATED",
    "CANCELLED",
    "REJECTED"
];
function financialSort(a, b) {
    return a[3] < b[3] ? 1 : -1;
}
function burnProductionSort(a, b) {
    return a[1] - a[2] < b[1] - b[2] ? 1 : -1;
}
function interpretCX(CXString, result) {
    var CX = "AI1";
    var priceType = "Average";
    switch (CXString) {
        case "Custom (Manual)":
            break;
        case "Custom (Spreadsheet)":
            if (result["PMMGExtended"]["backup_pricing_scheme"]) {
                const data = interpretCX(result["PMMGExtended"]["backup_pricing_scheme"], result);
                CX = data[0];
                priceType = data[1];
            }
            break;
        default:
            const info = CXString.split(" ");
            CX = info[0];
            switch (info[1]) {
                case "AVG":
                    priceType = "Average";
                    break;
                case "ASK":
                    priceType = "AskPrice";
                    break;
                case "BID":
                    priceType = "BidPrice";
                    break;
            }
    }
    return [CX, priceType];
}


/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__FlightETAs__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__LocalMarketAds__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ModuleRunner__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__OrderETAs__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ConsumableTimers__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__FleetETAs__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__PostLM__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ShippingAds__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__QueueLoad__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Notifications__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__BackgroundRunner__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Style__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ScreenUnpack__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__Sidebar__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__CommandCorrecter__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__CalculatorButton__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ImageCreator__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__InventoryOrganizer__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__HeaderMinimizer__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__PendingContracts__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__CompactUI__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__XIT_Finances__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__FormulaEvaluator__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__AdvancedMode__ = __webpack_require__(44);
























function AddScriptToDOM(script_name) {
    var browser = typeof browser === "undefined" ? chrome : browser;
    var s = document.createElement('script');
    s.src = browser.runtime.getURL(script_name);
    s.onload = function () {
        s.remove();
    };
    (document.head || document.documentElement).appendChild(s);
}
AddScriptToDOM("page_script.js");
try {
    browser.storage.local.get("PMMGExtended").then(mainRun, onError);
    console.log("FireFox detected");
}
catch (ex) {
    console.log("Chromium detected");
    chrome.storage.local.get(["PMMGExtended"], function (result) {
        mainRun(result, "chromium");
    });
}
function mainRun(result, browser) {
    if (!result["PMMGExtended"]) {
        result["PMMGExtended"] = {};
    }
    if (!result["PMMGExtended"]["loaded_before"]) {
        console.log("First Time Loading PMMG");
    }
    const style = document.createElement("style");
    style.type = "text/css";
    style.id = "pmmg-style";
    style.textContent = __WEBPACK_IMPORTED_MODULE_11__Style__["f" /* PMMGStyle */];
    const doc = document.querySelector("html");
    if (doc) {
        doc.appendChild(style);
    }
    if (!result["PMMGExtended"]["disabled"]) {
        result["PMMGExtended"]["disabled"] = ["ScreenUnpack"];
    }
    if (result["PMMGExtended"]["color_scheme"] == "enhanced" || !result["PMMGExtended"]["color_scheme"]) {
        const colors = document.createElement("style");
        colors.type = "text/css";
        colors.id = "pmmg-enhanced-colors";
        colors.textContent = __WEBPACK_IMPORTED_MODULE_11__Style__["d" /* EnhancedColors */];
        if (doc) {
            doc.appendChild(colors);
        }
    }
    else if (result["PMMGExtended"]["color_scheme"] == "icons") {
        const colors = document.createElement("style");
        colors.type = "text/css";
        colors.id = "pmmg-icon-colors";
        colors.textContent = __WEBPACK_IMPORTED_MODULE_11__Style__["e" /* IconStyle */];
        if (doc) {
            doc.appendChild(colors);
        }
    }
    if (result["PMMGExtended"]["advanced_mode"] && doc) {
        const advancedStyle = document.createElement("style");
        advancedStyle.type = "text/css";
        advancedStyle.id = "pmmg-advanced";
        advancedStyle.textContent = __WEBPACK_IMPORTED_MODULE_11__Style__["a" /* AdvancedStyle */];
        doc.appendChild(advancedStyle);
    }
    const userInfo = {};
    const webData = {};
    window.setTimeout(() => Object(__WEBPACK_IMPORTED_MODULE_10__BackgroundRunner__["b" /* getPrices */])(webData, result["PMMGExtended"]["fin_spreadsheet"], result["PMMGExtended"]["fin_sheet_name"]), 1000);
    window.setTimeout(() => Object(__WEBPACK_IMPORTED_MODULE_10__BackgroundRunner__["a" /* getCXPrices */])(userInfo), 1000);
    if (result["PMMGExtended"]["recording_financials"] != false && (!result["PMMGExtended"]["last_fin_recording"] || Date.now() - result["PMMGExtended"]["last_fin_recording"] > 64800000)) {
        window.setTimeout(() => Object(__WEBPACK_IMPORTED_MODULE_21__XIT_Finances__["b" /* calculateFinancials */])(webData, userInfo, result, true), 1000);
    }
    const runner = new __WEBPACK_IMPORTED_MODULE_2__ModuleRunner__["a" /* ModuleRunner */]([
        new __WEBPACK_IMPORTED_MODULE_7__ShippingAds__["a" /* ShippingAds */](),
        new __WEBPACK_IMPORTED_MODULE_1__LocalMarketAds__["a" /* LocalMarketAds */](),
        new __WEBPACK_IMPORTED_MODULE_6__PostLM__["a" /* PostLM */](webData),
        new __WEBPACK_IMPORTED_MODULE_3__OrderETAs__["a" /* OrderETAs */](),
        new __WEBPACK_IMPORTED_MODULE_0__FlightETAs__["a" /* FlightETAs */](),
        new __WEBPACK_IMPORTED_MODULE_5__FleetETAs__["a" /* FleetETAs */](),
        new __WEBPACK_IMPORTED_MODULE_8__QueueLoad__["a" /* QueueLoad */](),
        new __WEBPACK_IMPORTED_MODULE_4__ConsumableTimers__["a" /* ConsumableTimers */](result["PMMGExtended"]["burn_thresholds"], userInfo),
        new __WEBPACK_IMPORTED_MODULE_17__InventoryOrganizer__["a" /* InventoryOrganizer */](userInfo, result),
        new __WEBPACK_IMPORTED_MODULE_9__Notifications__["a" /* Notifications */](),
        new __WEBPACK_IMPORTED_MODULE_16__ImageCreator__["a" /* ImageCreator */](),
        new __WEBPACK_IMPORTED_MODULE_12__ScreenUnpack__["a" /* ScreenUnpack */](result["PMMGExtended"]["unpack_exceptions"]),
        new __WEBPACK_IMPORTED_MODULE_18__HeaderMinimizer__["a" /* HeaderMinimizer */](result["PMMGExtended"]["minimize_by_default"]),
        new __WEBPACK_IMPORTED_MODULE_23__AdvancedMode__["a" /* AdvancedMode */](result["PMMGExtended"]["advanced_mode"]),
        new __WEBPACK_IMPORTED_MODULE_14__CommandCorrecter__["a" /* CommandCorrecter */](),
        new __WEBPACK_IMPORTED_MODULE_15__CalculatorButton__["a" /* CalculatorButton */](),
        new __WEBPACK_IMPORTED_MODULE_13__Sidebar__["a" /* Sidebar */](result["PMMGExtended"]["sidebar"]),
        new __WEBPACK_IMPORTED_MODULE_19__PendingContracts__["a" /* PendingContracts */](userInfo),
        new __WEBPACK_IMPORTED_MODULE_20__CompactUI__["a" /* CompactUI */](result),
        new __WEBPACK_IMPORTED_MODULE_22__FormulaEvaluator__["a" /* FormulaReplacer */]()
    ], result, webData, userInfo, browser);
    (function () {
        runner.loop();
        runner.loopUserInfo();
    })();
}
function onError(err) {
    console.log(err);
}


/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

class FlightETAs {
    constructor() {
        this.tag = "pb-sfc-eta";
    }
    cleanup() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        const buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("SFC ");
        if (buffers == undefined)
            return;
        buffers.forEach(buffer => {
            const elements = Array.from(buffer.querySelectorAll("table > tbody > tr"));
            var currentTime = 0;
            for (var i = 1; i < elements.length; i++) {
                const targetRow = elements[i];
                const etaData = targetRow.children[3];
                if (etaData.textContent != "") {
                    const duration = Object(__WEBPACK_IMPORTED_MODULE_0__util__["H" /* parseDuration */])(etaData.textContent);
                    const eta = Object(__WEBPACK_IMPORTED_MODULE_0__util__["h" /* convertDurationToETA */])(duration + currentTime);
                    etaData.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(` (${eta})`, this.tag));
                    currentTime += duration;
                }
            }
            const firstRow = elements[0];
            if (!firstRow) {
                return;
            }
            const firstEtaData = firstRow.children[3];
            if (!firstEtaData) {
                return;
            }
            if (firstEtaData.textContent != "") {
                const totalEta = Object(__WEBPACK_IMPORTED_MODULE_0__util__["h" /* convertDurationToETA */])(currentTime);
                firstEtaData.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(` (${totalEta})`, this.tag));
            }
        });
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FlightETAs;



/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(0);


class LocalMarketAds {
    constructor() {
        this.tag = "pb-lm-ads";
    }
    cleanup() {
        Object(__WEBPACK_IMPORTED_MODULE_1__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        const elements = document.querySelectorAll(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].LMCommodityAdText);
        for (let i = 0; i < elements.length; i++) {
            const element = elements[i];
            const text = element.textContent;
            const matches = text && text.match(/(BUYING|SELLING|CORP)\s(\d+)\s.*\s@\s([\d,.]+)\s[A-Z]+\sfor/);
            if (matches && matches.length > 3) {
                const count = parseInt(matches[2]);
                const totalCents = parseInt(matches[3].replace(/[,.]/g, ''));
                const priceSpan = element.querySelector(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].LMCommodityAdPriceSpan);
                const perItem = (totalCents / count / 100).toLocaleString(undefined, { maximumFractionDigits: 2 });
                priceSpan.appendChild(Object(__WEBPACK_IMPORTED_MODULE_1__util__["t" /* createTextSpan */])(` (${perItem} ea)`, this.tag));
            }
        }
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = LocalMarketAds;



/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__XITHandler__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GameProperties__ = __webpack_require__(3);



class ModuleRunner {
    constructor(modules, result, webData, userInfo, browser) {
        this.modules = modules.map(m => this.moduleToME(m));
        this.xit = new __WEBPACK_IMPORTED_MODULE_0__XITHandler__["a" /* XITHandler */](result, userInfo, webData, this.modules, browser);
        this.result = result;
        this.userInfo = userInfo;
        this.updateActiveModules(result);
    }
    updateActiveModules(result) {
        if (result["PMMGExtended"]["disabled"] == undefined) {
            return;
        }
        this.modules.forEach(mp => {
            if (result["PMMGExtended"]["disabled"] && result["PMMGExtended"]["disabled"].includes(mp.name)) {
                mp.enabled = false;
            }
        });
    }
    moduleToME(module) {
        return {
            module,
            name: module.constructor.name,
            friendlyName: __WEBPACK_IMPORTED_MODULE_2__GameProperties__["d" /* FriendlyNames */][module.constructor.name] || module.constructor.name,
            enabled: true,
            count: 0,
            cleanupTime: 0,
            runTime: 0
        };
    }
    loop() {
        this.xit.run();
        if (!this.result["PMMGExtended"]["loaded_before"]) {
            this.result["PMMGExtended"]["loaded_before"] = Object(__WEBPACK_IMPORTED_MODULE_1__util__["M" /* showBuffer */])("XIT START");
            if (this.result["PMMGExtended"]["loaded_before"]) {
                Object(__WEBPACK_IMPORTED_MODULE_1__util__["L" /* setSettings */])(this.result);
            }
        }
        this.modules.map(entry => {
            if (entry.enabled) {
                const t0 = performance.now();
                entry.module.cleanup();
                const cleanupTime = performance.now() - t0;
                const t1 = performance.now();
                entry.module.run();
                const runTime = performance.now() - t1;
                entry.count++;
                entry.cleanupTime += cleanupTime;
                entry.runTime += runTime;
            }
        });
        window.setTimeout(() => this.loop(), 250);
    }
    loopUserInfo() {
        Object(__WEBPACK_IMPORTED_MODULE_1__util__["C" /* getLocalStorage */])("PMMG-User-Info", updateUserInfo, this.userInfo);
        window.setTimeout(() => this.loopUserInfo(), 1000);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ModuleRunner;

function updateUserInfo(result, userInfo) {
    userInfo["PMMG-User-Info"] = result["PMMG-User-Info"] || {};
    const planets = {};
    if (!userInfo["PMMG-User-Info"] || !userInfo["PMMG-User-Info"]["sites"] || !userInfo["PMMG-User-Info"]["storage"]) {
        return;
    }
    userInfo["PMMG-User-Info"]["sites"].forEach(site => {
        planets[site.siteId] = [site.PlanetName, site.PlanetNaturalId];
    });
    userInfo["PMMG-User-Info"]["storage"].forEach(store => {
        if (planets[store.addressableId]) {
            store.PlanetName = planets[store.addressableId][0];
            store.PlanetNaturalId = planets[store.addressableId][1];
        }
    });
}


/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__XIT_Inventory__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__XIT_Chat__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__XIT_Calculator__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__XIT_DataHealth__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__XIT_Burn__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__XIT_Contracts__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__XIT_CommandLists__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__XIT_Debug__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__XIT_Finances__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__XIT_Help__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__XIT_Repairs__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__XIT_Settings__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__XIT_Sort__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__XIT_Start__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__XIT_Web__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__XIT_Checklists__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__XIT_Notes__ = __webpack_require__(25);



















class XITModule {
}
/* unused harmony export XITModule */

const XITClasses = {
    "INV": __WEBPACK_IMPORTED_MODULE_2__XIT_Inventory__["a" /* FIOInventory */],
    "CALCULATOR": __WEBPACK_IMPORTED_MODULE_4__XIT_Calculator__["a" /* Calculator */],
    "CALC": __WEBPACK_IMPORTED_MODULE_4__XIT_Calculator__["a" /* Calculator */],
    "CHAT": __WEBPACK_IMPORTED_MODULE_3__XIT_Chat__["a" /* FIOChat */],
    "HEALTH": __WEBPACK_IMPORTED_MODULE_5__XIT_DataHealth__["a" /* DataHealth */],
    "BURN": __WEBPACK_IMPORTED_MODULE_6__XIT_Burn__["a" /* Burn */],
    "CONTS": __WEBPACK_IMPORTED_MODULE_7__XIT_Contracts__["a" /* Contracts */],
    "CONTRACTS": __WEBPACK_IMPORTED_MODULE_7__XIT_Contracts__["a" /* Contracts */],
    "LIST": __WEBPACK_IMPORTED_MODULE_8__XIT_CommandLists__["a" /* CommandLists */],
    "LISTS": __WEBPACK_IMPORTED_MODULE_8__XIT_CommandLists__["a" /* CommandLists */],
    "DEBUG": __WEBPACK_IMPORTED_MODULE_9__XIT_Debug__["a" /* Debug */],
    "FIN": __WEBPACK_IMPORTED_MODULE_10__XIT_Finances__["a" /* Finances */],
    "FINANCE": __WEBPACK_IMPORTED_MODULE_10__XIT_Finances__["a" /* Finances */],
    "FINANCES": __WEBPACK_IMPORTED_MODULE_10__XIT_Finances__["a" /* Finances */],
    "HELP": __WEBPACK_IMPORTED_MODULE_11__XIT_Help__["a" /* Help */],
    "REPAIRS": __WEBPACK_IMPORTED_MODULE_12__XIT_Repairs__["a" /* Repairs */],
    "SET": __WEBPACK_IMPORTED_MODULE_13__XIT_Settings__["a" /* Settings */],
    "SETTINGS": __WEBPACK_IMPORTED_MODULE_13__XIT_Settings__["a" /* Settings */],
    "SORT": __WEBPACK_IMPORTED_MODULE_14__XIT_Sort__["a" /* Sort */],
    "START": __WEBPACK_IMPORTED_MODULE_15__XIT_Start__["a" /* Start */],
    "PRUN": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["b" /* PrUN */],
    "PROSPERITY": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["c" /* Prosperity */],
    "SHEET": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["e" /* Sheets */],
    "SHEETS": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["e" /* Sheets */],
    "WIKI": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["f" /* Wiki */],
    "PLANNER": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["d" /* PrunPlanner */],
    "PLAN": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["d" /* PrunPlanner */],
    "PRUNPLANNER": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["d" /* PrunPlanner */],
    "FIO": __WEBPACK_IMPORTED_MODULE_16__XIT_Web__["a" /* FIO */],
    "CHECK": __WEBPACK_IMPORTED_MODULE_17__XIT_Checklists__["a" /* Checklists */],
    "CHECKLIST": __WEBPACK_IMPORTED_MODULE_17__XIT_Checklists__["a" /* Checklists */],
    "CHECKLISTS": __WEBPACK_IMPORTED_MODULE_17__XIT_Checklists__["a" /* Checklists */],
    "NOTE": __WEBPACK_IMPORTED_MODULE_18__XIT_Notes__["a" /* Notes */],
    "NOTES": __WEBPACK_IMPORTED_MODULE_18__XIT_Notes__["a" /* Notes */]
};
class XITHandler {
    constructor(pmmgSettings, userInfo, webData, modules, browser) {
        this.tag = "pb-xit";
        this.userInfo = userInfo;
        this.webData = webData;
        this.modules = modules;
        this.pmmgSettings = pmmgSettings;
        this.browser = browser;
    }
    cleanup() {
    }
    run() {
        const buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("XIT");
        if (!buffers)
            return;
        buffers.forEach(buffer => {
            const tile = (buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].XITTile));
            if (!tile) {
                return;
            }
            if (tile.firstChild && (tile.firstChild.id == "pmmg-load-success" || tile.firstChild.id == "pmmg-no-match")) {
                return;
            }
            const parametersRaw = Array.from(buffer.getElementsByClassName(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferHeader))[0].textContent;
            if (!parametersRaw)
                return;
            var parameters = [];
            if (parametersRaw.charAt(4) == "1") {
                const keyValues = parametersRaw.slice(4).split(" ");
                keyValues.forEach(key => {
                    parameters.push(key.slice(2));
                    return;
                });
            }
            else {
                parameters = parametersRaw.slice(4).split("_");
            }
            if (!parameters)
                return;
            for (var i = 0; i < parameters.length; i++) {
                parameters[i] = parameters[i].trim();
            }
            tile.classList.add("xit-tile");
            if (tile.firstChild) {
                tile.firstChild.style.backgroundColor = "#222222";
            }
            const refreshButton = document.createElement("div");
            if (!tile.firstChild || (tile.firstChild && (tile.firstChild.id != "pmmg-no-match"))) {
                if (buffer.getElementsByClassName("refresh").length == 0) {
                    refreshButton.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("âŸ³"));
                    refreshButton.classList.add("button-upper-right");
                    refreshButton.classList.add(this.tag);
                    refreshButton.style.fontSize = "16px";
                    refreshButton.style.paddingTop = this.browser == "chromium" ? "12px" : "7px";
                    refreshButton.classList.add("refresh");
                    (buffer.children[3] || buffer.children[2]).insertBefore(refreshButton, (buffer.children[3] || buffer.children[2]).firstChild);
                }
            }
            const contentDiv = document.createElement("div");
            contentDiv.style.height = "100%";
            contentDiv.style.flexGrow = "1";
            tile.appendChild(contentDiv);
            if (!XITClasses[parameters[0].toUpperCase()]) {
                tile.textContent = "Error! No Matching Function!";
                if (!tile.firstChild) {
                    return;
                }
                tile.firstChild.id = "pmmg-no-match";
            }
            else {
                tile.firstChild.id = "pmmg-load-success";
                const XITObj = new XITClasses[parameters[0].toUpperCase()](contentDiv, parameters, this.pmmgSettings, this.userInfo, this.webData, this.modules);
                refreshButton.addEventListener("click", function () { XITObj.create_buffer(); });
                buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferTitle).textContent = XITObj.name;
                XITObj.create_buffer();
            }
            return;
        });
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = XITHandler;



/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GameProperties__ = __webpack_require__(3);


class FIOInventory {
    constructor(tile, parameters, pmmgSettings) {
        this.name = "FIO INVENTORY";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        const apikey = this.pmmgSettings["PMMGExtended"]["apikey"];
        if (this.parameters.length < 2) {
            this.tile.textContent = "Error! Not Enough Parameters!";
            return;
        }
        if (this.parameters.length == 2) {
            this.parameters.push(apikey);
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["c" /* XITWebRequest */])(this.tile, this.parameters, FIOInv_getAllStorages, "https://rest.fnar.net/auth/group/" + this.parameters[1], "GET", ["Authorization", apikey], undefined);
        }
        else {
            for (var i = 3; i < this.parameters.length; i++) {
                this.parameters[2] += " " + this.parameters[i];
            }
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["c" /* XITWebRequest */])(this.tile, this.parameters, FIOInv_post, "https://rest.fnar.net/storage/" + this.parameters[1] + "/" + this.parameters[2], "GET", ["Authorization", apikey], undefined);
        }
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FIOInventory;

function FIOInv_post(tile, parameters, jsondata) {
    const tag = "FIO";
    if (jsondata == undefined || jsondata == null) {
        return;
    }
    var inventoryData;
    try {
        inventoryData = JSON.parse(jsondata);
    }
    catch (SyntaxError) {
        tile.textContent = "Error! Could Not Load Data!";
        return;
    }
    if (!inventoryData) {
        return;
    }
    const volumeUsed = inventoryData["VolumeLoad"];
    const volumeTotal = inventoryData["VolumeCapacity"];
    const weightUsed = inventoryData["WeightLoad"];
    const weightTotal = inventoryData["WeightCapacity"];
    const header = document.createElement("div");
    header.classList.add("inv-header");
    header.id = "header";
    header.classList.add(tag);
    tile.appendChild(header);
    const body = document.createElement("div");
    tile.appendChild(body);
    body.classList.add(tag);
    body.classList.add("inv-body");
    body.id = "body";
    header.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(parameters[2], tag));
    header.appendChild(document.createElement("br"));
    const userElem = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(parameters[1], tag);
    userElem.style.paddingLeft = "8px";
    header.appendChild(userElem);
    const volumeLine = document.createElement("div");
    volumeLine.id = "volume-line";
    volumeLine.style.padding = "2px 8px";
    volumeLine.style.color = "#999999";
    volumeLine.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Volume ", tag));
    const volumeBar = document.createElement("progress");
    volumeBar.id = "volume-bar";
    volumeBar.classList.add(tag);
    volumeBar.classList.add("progress-bar");
    volumeBar.max = 1;
    volumeBar.value = volumeUsed / volumeTotal;
    volumeLine.appendChild(volumeBar);
    volumeLine.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(volumeUsed.toLocaleString(undefined, { maximumFractionDigits: 2, minimumFractionDigits: 2 }) + " / " + volumeTotal.toLocaleString(undefined, { maximumFractionDigits: 0, minimumFractionDigits: 0 }) + " mÂ³", tag));
    header.appendChild(volumeLine);
    const weightLine = document.createElement("div");
    weightLine.id = "weight-line";
    weightLine.style.padding = "2px 8px";
    weightLine.style.color = "#999999";
    weightLine.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Weight ", tag));
    const weightBar = document.createElement("progress");
    weightBar.id = "weight-bar";
    weightBar.classList.add(tag);
    weightBar.classList.add("progress-bar");
    weightBar.max = 1;
    weightBar.value = weightUsed / weightTotal;
    weightLine.appendChild(weightBar);
    weightLine.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(weightUsed.toLocaleString(undefined, { maximumFractionDigits: 2, minimumFractionDigits: 2 }) + " / " + weightTotal.toLocaleString(undefined, { maximumFractionDigits: 0, minimumFractionDigits: 0 }) + " t", tag));
    header.appendChild(weightLine);
    inventoryData["StorageItems"].sort(fioMatsAlphabetSort);
    for (let item of inventoryData["StorageItems"]) {
        const mat = Object(__WEBPACK_IMPORTED_MODULE_0__util__["l" /* createMaterialElement */])(item["MaterialTicker"], tag, item["MaterialAmount"], true);
        if (mat) {
            body.appendChild(mat);
        }
    }
    return;
}
function FIOInv_getAllStorages(tile, parameters, jsondata) {
    var userJSON;
    try {
        userJSON = JSON.parse(jsondata);
    }
    catch (SyntaxError) {
        tile.textContent = "Error! Bad Data from FIO!";
    }
    var usernames = [];
    userJSON["GroupUsers"].forEach(user => {
        usernames.push(user["GroupUserName"]);
        return;
    });
    parameters.push(userJSON["GroupName"]);
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["c" /* XITWebRequest */])(tile, parameters, FIOInv_allDisplay, "https://rest.fnar.net/fioweb/grouphub", "POST", ["Authorization", parameters[2]], JSON.stringify(usernames));
    return;
}
function FIOInv_allDisplay(tile, parameters, jsondata) {
    var groupData = [];
    try {
        groupData = JSON.parse(jsondata);
    }
    catch (SyntaxError) {
        tile.textContent = "Error! Bad Data from FIO!";
    }
    const titleDiv = document.createElement("div");
    titleDiv.classList.add("title");
    titleDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(parameters[3] + " Inventories"));
    tile.appendChild(titleDiv);
    const bodyDiv = document.createElement("div");
    tile.appendChild(bodyDiv);
    bodyDiv.classList.add("flex-table");
    if (groupData["PlayerModels"] == undefined) {
        tile.textContent = "Error! Bad Data!";
        return;
    }
    groupData["PlayerModels"].forEach(player => {
        if (player["Locations"].length == 0) {
            return;
        }
        const playerDiv = document.createElement("div");
        playerDiv.classList.add("list");
        playerDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(player["UserName"]));
        playerDiv.firstChild.style.fontWeight = "bold";
        player["Locations"].forEach(location => {
            playerDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(location["LocationName"], "XIT INV_" + player["UserName"] + "_" + location["LocationName"].replace(/ /, "_")));
            return;
        });
        bodyDiv.appendChild(playerDiv);
        return;
    });
    parameters.pop();
    parameters.pop();
    return;
}
function fioMatsAlphabetSort(a, b) {
    if (!a["MaterialTicker"] || !b["MaterialTicker"] || !__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][a["MaterialTicker"]] || !__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][b["MaterialTicker"]]) {
        return 0;
    }
    if (__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][a["MaterialTicker"]][1] == __WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][b["MaterialTicker"]][1]) {
        return a["MaterialTicker"].localeCompare(b["MaterialTicker"]);
    }
    return __WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][a["MaterialTicker"]][1].localeCompare(__WEBPACK_IMPORTED_MODULE_1__GameProperties__["e" /* MaterialNames */][b["MaterialTicker"]][1]);
}


/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

class FIOChat {
    constructor(tile, parameters) {
        this.name = "FIO Chat";
        this.tile = tile;
        this.parameters = parameters;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        if (this.parameters.length < 2) {
            this.tile.textContent = "Error! Not Enough Parameters!";
        }
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["c" /* XITWebRequest */])(this.tile, this.parameters, Chat_post, "https://rest.fnar.net/chat/display/" + this.parameters[1], "GET", undefined, undefined);
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FIOChat;

function Chat_post(chatDiv, parameters, jsondata) {
    if (jsondata == undefined || jsondata == null) {
        return;
    }
    var chatData;
    try {
        chatData = JSON.parse(jsondata);
    }
    catch (SyntaxError) {
        chatDiv.textContent = "Error! Could Not Load Data!";
        return;
    }
    const titleDiv = document.createElement("div");
    titleDiv.textContent = parameters[1] + " Global Site Owners";
    titleDiv.classList.add("title");
    chatDiv.appendChild(titleDiv);
    chatData.forEach(chat => {
        const chatLine = document.createElement("div");
        chatLine.classList.add("chat-line");
        chatDiv.appendChild(chatLine);
        const timeDateDiv = document.createElement("div");
        const dateDiv = document.createElement("div");
        timeDateDiv.appendChild(dateDiv);
        dateDiv.textContent = (new Date(chat["MessageTimestamp"])).toLocaleDateString(undefined, { month: "2-digit", day: "2-digit" });
        dateDiv.classList.add("time-date");
        const timeDiv = document.createElement("div");
        timeDateDiv.appendChild(timeDiv);
        timeDiv.textContent = (new Date(chat["MessageTimestamp"])).toLocaleTimeString(undefined, { hour: "2-digit", minute: "2-digit" });
        timeDiv.classList.add("time-date");
        timeDiv.style.color = "#999999";
        chatLine.appendChild(timeDateDiv);
        const nameDiv = document.createElement("div");
        chatLine.appendChild(nameDiv);
        nameDiv.classList.add("chat-name");
        const messageDiv = document.createElement("div");
        chatLine.appendChild(messageDiv);
        messageDiv.classList.add("chat-message");
        switch (chat["MessageType"]) {
            case "CHAT":
                nameDiv.textContent = chat["UserName"];
                messageDiv.textContent = chat["MessageText"];
                break;
            case "JOINED":
                messageDiv.textContent = chat["UserName"] + " joined.";
                messageDiv.style.fontStyle = "italic";
                break;
            case "LEFT":
                messageDiv.textContent = chat["UserName"] + " left.";
                messageDiv.style.fontStyle = "italic";
                break;
        }
        return;
    });
    return;
}


/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

class Calculator {
    constructor(tile) {
        this.name = "CALCULATOR";
        this.tile = tile;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        const calcDiv = document.createElement("div");
        this.tile.appendChild(calcDiv);
        this.tile.style.display = "flex";
        this.tile.style.flexDirection = "row";
        calcDiv.style.maxHeight = "400px";
        const output = document.createElement("input");
        output.classList.add("input-text");
        output.style.fontSize = "20px";
        output.readOnly = true;
        output.style.textAlign = "right";
        calcDiv.style.display = "flex";
        calcDiv.style.flexDirection = "column";
        calcDiv.style.alignItems = "center";
        calcDiv.style.width = "60%";
        calcDiv.style.minWidth = "180px";
        const historyDiv = document.createElement("div");
        this.tile.appendChild(historyDiv);
        historyDiv.style.width = "35%";
        historyDiv.style.marginTop = "10px";
        historyDiv.style.display = "block";
        historyDiv.style.maxHeight = "195px";
        historyDiv.style.backgroundColor = "rgb(35, 40, 43)";
        historyDiv.style.borderColor = "rgb(43,72,90)";
        historyDiv.style.borderWidth = "1px";
        historyDiv.style.borderStyle = "solid";
        const historyTable = document.createElement("table");
        historyDiv.appendChild(historyTable);
        const historyTableBody = document.createElement("tbody");
        historyTable.appendChild(historyTableBody);
        output.style.display = "block";
        output.style.width = "90%";
        output.style.height = "36px";
        output.style.margin = "10px";
        output.style.cursor = "default";
        calcDiv.appendChild(output);
        var currentString = "";
        var prevValue = null;
        var currentOperation = null;
        var clearOnNext = false;
        var doubleClear = false;
        const keypad = document.createElement("div");
        calcDiv.appendChild(keypad);
        keypad.style.width = "95%";
        keypad.style.display = "grid";
        keypad.style.gridTemplateColumns = "repeat(4, 1fr)";
        const layout = [[7, null], [8, null], [9, null], ["Ã·", "#3fa2de"], [4, null], [5, null], [6, null], ["x", "#3fa2de"], [1, null], [2, null], [3, null], ["-", "#3fa2de"], [0, null], [".", null], ["Â±", null], ["+", "#3fa2de"]];
        layout.forEach(opt => {
            const button = document.createElement("button");
            button.classList.add("refresh-button");
            button.style.fontSize = "20px";
            button.textContent = (opt[0] == 0 ? "0" : opt[0] || "").toString();
            if (opt[1] != null) {
                button.style.backgroundColor = opt[1];
            }
            keypad.appendChild(button);
            button.onclick = function () {
                if (opt[0] == "+" || opt[0] == "-" || opt[0] == "x" || opt[0] == "Ã·") {
                    if (currentOperation != null) {
                        currentString = calculate(prevValue, currentString, currentOperation);
                        currentOperation = null;
                        prevValue = null;
                    }
                    currentOperation = opt[0];
                    clearOnNext = true;
                    output.value = parseFloat(currentString).toLocaleString(undefined, { maximumFractionDigits: 12 });
                }
                else if (opt[0] == "Â±") {
                    if (currentString.toString().charAt(0) == "-") {
                        currentString = currentString.substring(1);
                    }
                    else {
                        currentString = "-" + currentString;
                    }
                    output.value = parseFloat(currentString).toLocaleString(undefined, { maximumFractionDigits: 12 });
                }
                else {
                    if (clearOnNext) {
                        prevValue = parseFloat(currentString);
                        currentString = "";
                        clearOnNext = false;
                    }
                    currentString += (opt[0] == 0 ? "0" : opt[0] || "").toString();
                    output.value = parseFloat(currentString).toLocaleString(undefined, { maximumFractionDigits: 12 });
                }
                doubleClear = false;
            };
            return;
        });
        const bottomDiv = document.createElement("div");
        calcDiv.appendChild(bottomDiv);
        bottomDiv.style.width = "95%";
        bottomDiv.style.display = "grid";
        bottomDiv.style.gridTemplateColumns = "repeat(2, 1fr)";
        const clear = document.createElement("button");
        bottomDiv.appendChild(clear);
        clear.textContent = "Clear";
        clear.classList.add("refresh-button");
        clear.style.fontSize = "20px";
        clear.style.backgroundColor = "rgb(217, 83, 79)";
        clear.onclick = function () {
            currentString = "";
            output.value = currentString;
            currentOperation = null;
            prevValue = null;
            clearOnNext = false;
            if (doubleClear) {
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(historyTableBody);
            }
            doubleClear = true;
        };
        const enter = document.createElement("button");
        enter.onclick = function () {
            if (currentOperation != null) {
                currentString = calculate(prevValue, currentString, currentOperation);
                currentOperation = null;
                prevValue = null;
            }
            output.value = parseFloat(currentString).toLocaleString(undefined, { maximumFractionDigits: 12 });
            const tr = document.createElement("tr");
            const td = document.createElement("td");
            td.textContent = output.value;
            tr.appendChild(td);
            if (historyTableBody.children.length > 11) {
                historyTableBody.removeChild(historyTableBody.children[historyTableBody.children.length - 1]);
            }
            if (historyTableBody.children.length > 0) {
                historyTableBody.insertBefore(tr, historyTableBody.firstChild);
            }
            else {
                historyTableBody.appendChild(tr);
            }
            doubleClear = false;
        };
        bottomDiv.appendChild(enter);
        enter.textContent = "Enter";
        enter.classList.add("refresh-button");
        enter.style.fontSize = "20px";
        enter.style.backgroundColor = "#5cb85c";
        this.tile.addEventListener("keydown", (e) => {
            if (e.key === "1" || e.key === "2" || e.key === "3" || e.key === "4" || e.key === "5" || e.key === "6" || e.key === "7" || e.key === "8" || e.key === "9" || e.key === "0" || e.key === ".") {
                if (clearOnNext) {
                    prevValue = parseFloat(currentString);
                    currentString = "";
                    clearOnNext = false;
                }
                currentString += e.key;
                output.value = parseFloat(currentString).toLocaleString(undefined, { maximumFractionDigits: 12 });
            }
            else if (e.key === "+" || e.key === "-" || e.key === "x" || e.key === "*" || e.key === "/") {
                if (currentOperation != null) {
                    currentString = calculate(prevValue, currentString, currentOperation);
                    currentOperation = null;
                    prevValue = null;
                }
                currentOperation = e.key;
                clearOnNext = true;
                output.value = parseFloat(currentString).toLocaleString(undefined, { maximumFractionDigits: 12 });
            }
            else if (e.key === "Enter" || e.key === "=") {
                if (currentOperation != null) {
                    currentString = calculate(prevValue, currentString, currentOperation);
                    currentOperation = null;
                    prevValue = null;
                }
                output.value = parseFloat(currentString).toLocaleString(undefined, { maximumFractionDigits: 12 });
                const tr = document.createElement("tr");
                const td = document.createElement("td");
                td.textContent = output.value;
                tr.appendChild(td);
                if (historyTableBody.children.length > 11) {
                    historyTableBody.removeChild(historyTableBody.children[historyTableBody.children.length - 1]);
                }
                if (historyTableBody.children.length > 0) {
                    historyTableBody.insertBefore(tr, historyTableBody.firstChild);
                }
                else {
                    historyTableBody.appendChild(tr);
                }
                doubleClear = false;
            }
            else if (e.key === "Escape") {
                currentString = "";
                output.value = currentString;
                currentOperation = null;
                prevValue = null;
                clearOnNext = false;
                if (doubleClear) {
                    Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(historyTableBody);
                }
                doubleClear = true;
            }
            else if (e.key === "Backspace") {
                if (currentString.length > 0) {
                    currentString = currentString.slice(0, -1);
                    output.value = parseFloat(currentString).toLocaleString(undefined, { maximumFractionDigits: 12 });
                }
            }
        });
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Calculator;

function calculate(prevValue, currentString, currentOperation) {
    currentString = parseFloat(currentString);
    if (currentOperation == "+") {
        return prevValue + currentString;
    }
    else if (currentOperation == "-") {
        return prevValue - currentString;
    }
    else if (currentOperation == "x" || currentOperation == "*") {
        return prevValue * currentString;
    }
    else if (currentOperation == "Ã·" || currentOperation == "/") {
        return prevValue / currentString;
    }
    else {
        return 0;
    }
}


/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);


class DataHealth {
    constructor(tile, parameters, pmmgSettings, userInfo) {
        this.name = "DATA HEALTH";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
        this.userInfo = userInfo;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        const baseTitle = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Bases");
        baseTitle.classList.add("title");
        this.tile.appendChild(baseTitle);
        const baseBody = Object(__WEBPACK_IMPORTED_MODULE_0__util__["r" /* createTable */])(this.tile, ["Planet", "Workforce", "Production", "Storage"]);
        const baseInfo = {};
        if (!this.userInfo["PMMG-User-Info"]) {
            this.tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("No collected data is present. Refresh the buffer. If the problem persists, contact Pi314 on Discord."));
            return;
        }
        this.userInfo["PMMG-User-Info"]["workforce"].forEach(workforce => {
            if (workforce.PlanetName && !baseInfo[workforce.PlanetName]) {
                baseInfo[workforce.PlanetName] = [true, false, false];
            }
        });
        this.userInfo["PMMG-User-Info"]["production"].forEach(production => {
            if (production.PlanetName && !baseInfo[production.PlanetName]) {
                baseInfo[production.PlanetName] = [false, true, false];
            }
            else if (production.PlanetName) {
                baseInfo[production.PlanetName][1] = true;
            }
        });
        this.userInfo["PMMG-User-Info"]["storage"].forEach(storage => {
            if (storage.PlanetName && storage.type == "STORE" && !baseInfo[storage.PlanetName]) {
                baseInfo[storage.PlanetName] = [false, false, true];
            }
            else if (storage.PlanetName && storage.type == "STORE") {
                baseInfo[storage.PlanetName][2] = true;
            }
        });
        Object.keys(baseInfo).forEach(planet => {
            const row = document.createElement("tr");
            baseBody.appendChild(row);
            const planetElem = document.createElement("td");
            planetElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(planet));
            row.appendChild(planetElem);
            baseInfo[planet].forEach(present => {
                const textElem = document.createElement("td");
                textElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(present ? "âœ“" : "X"));
                textElem.style.color = present ? __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Success : __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Failure;
                row.appendChild(textElem);
            });
        });
        const otherTitle = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Other Data");
        otherTitle.classList.add("title");
        otherTitle.style.paddingTop = "10px";
        this.tile.appendChild(otherTitle);
        const otherTable = Object(__WEBPACK_IMPORTED_MODULE_0__util__["r" /* createTable */])(this.tile, ["Parameter", "Value"]);
        const numBaseSites = this.userInfo["PMMG-User-Info"]["sites"].filter(item => item.type === "BASE").length;
        otherTable.appendChild(createTableRow("Base Sites", numBaseSites));
        const numWarehouseSites = this.userInfo["PMMG-User-Info"]["sites"].filter(item => item.type !== "BASE").length;
        otherTable.appendChild(createTableRow("Warehouse Sites", numWarehouseSites));
        const numBaseStores = this.userInfo["PMMG-User-Info"]["storage"].filter(item => item.type === "STORE").length;
        otherTable.appendChild(createTableRow("Base Stores", numBaseStores));
        const numWarehouseStores = this.userInfo["PMMG-User-Info"]["storage"].filter(item => item.type === "WAREHOUSE_STORE").length;
        otherTable.appendChild(createTableRow("Warehouse Stores", numWarehouseStores));
        const numShipStores = this.userInfo["PMMG-User-Info"]["storage"].filter(item => item.type === "SHIP_STORE").length;
        otherTable.appendChild(createTableRow("Ship Stores", numShipStores));
        const numWorkforces = this.userInfo["PMMG-User-Info"]["workforce"].length;
        otherTable.appendChild(createTableRow("Workforces", numWorkforces));
        const numProduction = this.userInfo["PMMG-User-Info"]["production"].length;
        otherTable.appendChild(createTableRow("Production Sites", numProduction));
        const contracts = this.userInfo["PMMG-User-Info"]["contracts"].length;
        otherTable.appendChild(createTableRow("Contracts", contracts));
        const cxos = this.userInfo["PMMG-User-Info"]["cxos"].length;
        otherTable.appendChild(createTableRow("CXOS", cxos));
        const fxos = this.userInfo["PMMG-User-Info"]["fxos"].length;
        otherTable.appendChild(createTableRow("FXOS", fxos));
        otherTable.appendChild(createTableRow("Currency", this.userInfo["PMMG-User-Info"]["currency"][0] != undefined));
        const cxPriceAge = this.userInfo["PMMG-User-Info"]["cx_prices"] ? ((Date.now() - this.userInfo["PMMG-User-Info"]["cx_prices"]["Age"]) / 3600000).toLocaleString(undefined, { maximumFractionDigits: 0 }) + "h" : false;
        otherTable.appendChild(createTableRow("CX Price Age", cxPriceAge));
        const clearButton = document.createElement("button");
        clearButton.textContent = "Clear User Data";
        clearButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
        clearButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
        clearButton.style.margin = "4px";
        clearButton.style.display = "block";
        clearButton.addEventListener("click", function () {
            try {
                browser.storage.local.remove("PMMG-User-Info");
            }
            catch (err) {
                chrome.storage.local.remove("PMMG-User-Info");
            }
        });
        this.tile.appendChild(clearButton);
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DataHealth;

function createTableRow(parameter, value) {
    const row = document.createElement("tr");
    const paramElem = document.createElement("td");
    paramElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(parameter));
    row.appendChild(paramElem);
    const valueElem = document.createElement("td");
    if (value === true) {
        valueElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("âœ“"));
        valueElem.style.color = __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Success;
    }
    else if (value === false) {
        valueElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("X"));
        valueElem.style.color = __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Failure;
    }
    else {
        valueElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(value));
    }
    row.appendChild(valueElem);
    return row;
}


/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__GameProperties__ = __webpack_require__(3);




class Burn {
    constructor(tile, parameters, pmmgSettings, userInfo) {
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
        this.userInfo = userInfo;
        this.alive = true;
        this.name = "ENHANCED BURN" + (parameters[1] ? " - " + parameters[1].toUpperCase() : "");
    }
    create_buffer() {
        const parameters = this.parameters;
        const pmmgSettings = this.pmmgSettings;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        var planet;
        if (this.parameters[1]) {
            planet = this.parameters[1];
        }
        else {
            this.tile.textContent = "Error! Enter a planet name after XIT BURN (XIT BURN_UV-351a)";
            return;
        }
        if (!this.userInfo["PMMG-User-Info"] || !this.userInfo["PMMG-User-Info"]["workforce"]) {
            this.tile.textContent = "Loading Burn Data...";
            this.tile.id = "pmmg-reload";
            return;
        }
        this.tile.id = "pmmg-load-success";
        var planetBurn;
        var settings;
        const planetProduction = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planet, this.userInfo["PMMG-User-Info"]["production"]);
        const planetWorkforce = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planet, this.userInfo["PMMG-User-Info"]["workforce"]);
        const planetInv = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planet, this.userInfo["PMMG-User-Info"]["storage"], true);
        planetBurn = Object(__WEBPACK_IMPORTED_MODULE_0__util__["d" /* calculateBurn */])(planetProduction, planetWorkforce, planetInv);
        if (!planetBurn) {
            return;
        }
        const screenNameElem = document.querySelector(__WEBPACK_IMPORTED_MODULE_2__Selector__["a" /* Selector */].ScreenName);
        const screenName = screenNameElem ? screenNameElem.textContent : "";
        if (!this.pmmgSettings["PMMGExtended"]["burn_display_settings"]) {
            this.pmmgSettings["PMMGExtended"]["burn_display_settings"] = [];
        }
        var settingsIndex = FindBurnSettings(this.pmmgSettings["PMMGExtended"]["burn_display_settings"], screenName + this.parameters[1]);
        const dispSettings = settingsIndex == -1 ? [1, 1, 1, 1] : this.pmmgSettings["PMMGExtended"]["burn_display_settings"][settingsIndex][1];
        const table = document.createElement("table");
        const bufferHeader = document.createElement("div");
        bufferHeader.style.display = "flex";
        this.tile.appendChild(bufferHeader);
        const settingsDiv = document.createElement("div");
        settingsDiv.style.display = "flex";
        bufferHeader.appendChild(settingsDiv);
        settingsDiv.appendChild(createSettingsButton("RED", 22.025, dispSettings[0], function () {
            dispSettings[0] = dispSettings[0] ? 0 : 1;
            UpdateBurn(table, dispSettings);
            if (settingsIndex == -1) {
                pmmgSettings["PMMGExtended"]["burn_display_settings"].push([screenName + parameters[1], dispSettings]);
                settingsIndex = pmmgSettings["PMMGExtended"]["burn_display_settings"].length - 1;
            }
            else {
                pmmgSettings["PMMGExtended"]["burn_display_settings"][settingsIndex][1] = dispSettings;
            }
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        }));
        settingsDiv.appendChild(createSettingsButton("YELLOW", 40.483, dispSettings[1], function () {
            dispSettings[1] = dispSettings[1] ? 0 : 1;
            UpdateBurn(table, dispSettings);
            if (settingsIndex == -1) {
                pmmgSettings["PMMGExtended"]["burn_display_settings"].push([screenName + parameters[1], dispSettings]);
                settingsIndex = pmmgSettings["PMMGExtended"]["burn_display_settings"].length - 1;
            }
            else {
                pmmgSettings["PMMGExtended"]["burn_display_settings"][settingsIndex][1] = dispSettings;
            }
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        }));
        settingsDiv.appendChild(createSettingsButton("GREEN", 34.65, dispSettings[2], function () {
            dispSettings[2] = dispSettings[2] ? 0 : 1;
            UpdateBurn(table, dispSettings);
            if (settingsIndex == -1) {
                pmmgSettings["PMMGExtended"]["burn_display_settings"].push([screenName + parameters[1], dispSettings]);
                settingsIndex = pmmgSettings["PMMGExtended"]["burn_display_settings"].length - 1;
            }
            else {
                pmmgSettings["PMMGExtended"]["burn_display_settings"][settingsIndex][1] = dispSettings;
            }
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        }));
        settingsDiv.appendChild(createSettingsButton("INF", 19.6, dispSettings[3], function () {
            dispSettings[3] = dispSettings[3] ? 0 : 1;
            UpdateBurn(table, dispSettings);
            if (settingsIndex == -1) {
                pmmgSettings["PMMGExtended"]["burn_display_settings"].push([screenName + parameters[1], dispSettings]);
                settingsIndex = pmmgSettings["PMMGExtended"]["burn_display_settings"].length - 1;
            }
            else {
                pmmgSettings["PMMGExtended"]["burn_display_settings"][settingsIndex][1] = dispSettings;
            }
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        }));
        const head = document.createElement("thead");
        const headRow = document.createElement("tr");
        head.appendChild(headRow);
        table.appendChild(head);
        for (let title of ["Needs", "Production", "Inv", "Amt. Needed", "Burn"]) {
            const header = document.createElement("th");
            header.textContent = title;
            header.style.paddingTop = "0";
            headRow.appendChild(header);
        }
        headRow.firstChild.colSpan = 2;
        const body = document.createElement("tbody");
        table.appendChild(body);
        var burnMaterials = Object.keys(planetBurn);
        burnMaterials.sort(__WEBPACK_IMPORTED_MODULE_0__util__["a" /* CategorySort */]);
        for (let material of burnMaterials) {
            var included = true;
            if (settings != undefined && this.parameters[1].toLowerCase() != "group") {
                settings["MaterialExclusions"].forEach((mat) => {
                    if (mat["MaterialTicker"] == material) {
                        included = false;
                        return;
                    }
                    return;
                });
            }
            if (!included) {
                continue;
            }
            const row = document.createElement("tr");
            body.appendChild(row);
            const materialColumn = document.createElement("td");
            materialColumn.style.width = "32px";
            materialColumn.style.paddingRight = "0px";
            materialColumn.style.paddingLeft = "0px";
            const matElem = Object(__WEBPACK_IMPORTED_MODULE_0__util__["l" /* createMaterialElement */])(material, "prun-remove-js", "none", false, true);
            if (matElem) {
                materialColumn.appendChild(matElem);
            }
            row.appendChild(materialColumn);
            const nameSpan = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(__WEBPACK_IMPORTED_MODULE_3__GameProperties__["e" /* MaterialNames */][material][0]);
            nameSpan.style.fontWeight = "bold";
            const nameColumn = document.createElement("td");
            nameColumn.appendChild(nameSpan);
            row.appendChild(nameColumn);
            const consColumn = document.createElement("td");
            consColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(planetBurn[material]["DailyAmount"].toLocaleString(undefined, { maximumFractionDigits: 1 }) + " / Day"));
            row.appendChild(consColumn);
            const invColumn = document.createElement("td");
            const invAmount = planetBurn[material]["Inventory"] == undefined ? 0 : planetBurn[material]["Inventory"];
            invColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(invAmount.toLocaleString(undefined)));
            row.appendChild(invColumn);
            const burn = planetBurn[material]["DaysLeft"];
            const burnColumn = document.createElement("td");
            burnColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(((burn != "âˆž" && burn < 500 && planetBurn[material]["DailyAmount"] < 0) ? Math.floor(burn).toLocaleString(undefined, { maximumFractionDigits: 0 }) : "âˆž") + " Days"));
            if (planetBurn[material]["DailyAmount"] >= 0) {
                burnColumn.classList.add("burn-green");
                burnColumn.classList.add("burn-infinite");
            }
            else if (burn <= (this.pmmgSettings["PMMGExtended"]["burn_thresholds"] || [3, 7])[0]) {
                burnColumn.classList.add("burn-red");
            }
            else if (burn <= (this.pmmgSettings["PMMGExtended"]["burn_thresholds"] || [3, 7])[1]) {
                burnColumn.classList.add("burn-yellow");
            }
            else {
                burnColumn.classList.add("burn-green");
            }
            const needColumn = document.createElement("td");
            const needAmt = burn > (this.pmmgSettings["PMMGExtended"]["burn_thresholds"] || [3, 7])[1] || planetBurn[material]["DailyAmount"] > 0 ? 0 : (burn - (this.pmmgSettings["PMMGExtended"]["burn_thresholds"] || [3, 7])[1]) * planetBurn[material]["DailyAmount"];
            needColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(needAmt.toLocaleString(undefined, { maximumFractionDigits: 0 })));
            row.appendChild(needColumn);
            row.appendChild(burnColumn);
        }
        UpdateBurn(table, dispSettings);
        this.tile.appendChild(table);
        this.update_buffer();
        return;
    }
    update_buffer() {
        this.alive = document.body.contains(this.tile);
        if (this.alive) {
            window.setTimeout(() => this.create_buffer(), 3000);
        }
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Burn;

function FindBurnSettings(array, matchString) {
    for (var i = 0; i < array.length; i++) {
        if (matchString == array[i][0]) {
            return i;
        }
    }
    return -1;
}
function UpdateBurn(table, dispSettings) {
    Array.from(table.children[1].children).forEach(row => {
        if (row.children[5].classList.contains("burn-infinite")) {
            row.style.display = dispSettings[3] ? "table-row" : "none";
            row.style.visibility = dispSettings[3] ? "visible" : "hidden";
            row.style.width = dispSettings[3] ? "auto" : "0px";
            row.style.height = dispSettings[3] ? "auto" : "0px";
        }
        else if (row.children[5].classList.contains("burn-green")) {
            row.style.display = dispSettings[2] ? "table-row" : "none";
            row.style.visibility = dispSettings[2] ? "visible" : "hidden";
            row.style.width = dispSettings[2] ? "auto" : "0px";
            row.style.height = dispSettings[2] ? "auto" : "0px";
        }
        else if (row.children[5].classList.contains("burn-yellow")) {
            row.style.display = dispSettings[1] ? "table-row" : "none";
            row.style.visibility = dispSettings[1] ? "visible" : "hidden";
            row.style.width = dispSettings[1] ? "auto" : "0px";
            row.style.height = dispSettings[1] ? "auto" : "0px";
        }
        else if (row.children[5].classList.contains("burn-red")) {
            row.style.display = dispSettings[0] ? "table-row" : "none";
            row.style.visibility = dispSettings[0] ? "visible" : "hidden";
            row.style.width = dispSettings[0] ? "auto" : "0px";
            row.style.height = dispSettings[0] ? "auto" : "0px";
        }
        return;
    });
    return;
}
function createSettingsButton(text, width, toggled, f) {
    const button = document.createElement("span");
    const bar = document.createElement("div");
    if (toggled) {
        bar.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SettingsBarToggled);
    }
    else {
        bar.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SettingsBarUntoggled);
    }
    const textBox = document.createElement("div");
    textBox.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SettingsText);
    textBox.textContent = text;
    button.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SettingsButton);
    bar.style.width = width + "px";
    bar.style.maxWidth = width + "px";
    bar.style.height = "2px";
    button.appendChild(bar);
    button.appendChild(textBox);
    button.addEventListener("click", function () {
        if (toggled) {
            bar.classList.remove(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SettingsBarToggled);
            bar.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SettingsBarUntoggled);
            toggled = false;
        }
        else {
            bar.classList.remove(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SettingsBarUntoggled);
            bar.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SettingsBarToggled);
            toggled = true;
        }
        f();
    });
    return button;
}


/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GameProperties__ = __webpack_require__(3);



class Contracts {
    constructor(tile, parameters, pmmgSettings, userInfo) {
        this.name = "CONTRACTS";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
        this.userInfo = userInfo;
        this.alive = true;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        if (!this.userInfo["PMMG-User-Info"] || !this.userInfo["PMMG-User-Info"]["contracts"]) {
            this.tile.textContent = "Loading Contract Data...";
            this.tile.id = "pmmg-reload";
            return;
        }
        const contractData = this.userInfo["PMMG-User-Info"]["contracts"];
        let validContracts = contractData.filter(c => !invalidContractStatus.includes(c["status"]));
        validContracts.map(contract => {
            contract["IsFaction"] = false;
            contract["materialConditions"] = [];
            let selfConditions = [];
            let partnerConditions = [];
            contract.conditions.map((condition) => {
                if (condition["type"] === "REPUTATION")
                    contract["IsFaction"] = true;
                if (condition["quantity"] !== null && materialFulfilmentType.includes(condition["type"]))
                    contract["materialConditions"].push(condition);
                if (condition["party"] === contract["party"])
                    selfConditions.push(condition);
                else
                    partnerConditions.push(condition);
            });
            selfConditions.sort(conditionSort);
            partnerConditions.sort(conditionSort);
            contract.FilteredConditions = {};
            contract.FilteredConditions["self"] = selfConditions;
            contract.FilteredConditions["partner"] = partnerConditions;
        });
        validContracts.sort(ContractSort);
        const table = Object(__WEBPACK_IMPORTED_MODULE_0__util__["r" /* createTable */])(this.tile, ["Contract ID", "Material", "Partner's Conditions", "My Conditions"]);
        if (validContracts.length === 0) {
            const row = createNoContractsRow(4);
            table.appendChild(row);
        }
        else {
            validContracts.forEach(contract => {
                const row = createContractRow(contract);
                table.appendChild(row);
            });
        }
        this.update_buffer();
        return;
    }
    update_buffer() {
        this.alive = document.body.contains(this.tile);
        if (this.alive) {
            window.setTimeout(() => this.create_buffer(), 3000);
        }
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Contracts;

const invalidContractStatus = [
    "FULFILLED",
    "BREACHED",
    "TERMINATED",
    "CANCELLED",
    "REJECTED"
];
function createContractRow(contract) {
    var row = document.createElement("tr");
    let contractLink = Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(contract["name"] || contract["localId"], "CONT " + contract["localId"]);
    const contractIdColumn = document.createElement("td");
    contractIdColumn.appendChild(contract["IsFaction"] ? factionContract(contractLink) : contractLink);
    row.appendChild(contractIdColumn);
    const materialColumn = document.createElement("td");
    materialColumn.style.width = "32px";
    materialColumn.style.paddingLeft = "10px";
    const materialDiv = document.createElement("div");
    materialColumn.appendChild(materialDiv);
    if (contract["materialConditions"].length > 0) {
        contract["materialConditions"].forEach(materialCondition => {
            if (!materialCondition.quantity || !materialCondition.quantity.material) {
                return;
            }
            const materialElement = Object(__WEBPACK_IMPORTED_MODULE_0__util__["l" /* createMaterialElement */])(materialCondition.quantity.material.ticker, "prun-remove-js", materialCondition.quantity.amount, false, true);
            if (materialElement) {
                materialElement.style.marginBottom = "4px";
                materialDiv.appendChild(materialElement);
            }
            return;
        });
    }
    row.appendChild(materialColumn);
    const partnerColumn = document.createElement("td");
    var faction;
    if (contract["IsFaction"]) {
        Object.keys(__WEBPACK_IMPORTED_MODULE_2__GameProperties__["c" /* FactionHeaders */]).forEach(factionName => {
            if (contract.partner.name.includes(factionName)) {
                faction = __WEBPACK_IMPORTED_MODULE_2__GameProperties__["c" /* FactionHeaders */][factionName];
            }
            return;
        });
    }
    if (!faction) {
        let partnerLink = Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(contract.partner.name, "CO " + contract.partner.code);
        partnerColumn.appendChild(partnerLink);
    }
    else {
        let partnerLink = Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(contract.partner.name, "FA " + faction);
        partnerColumn.appendChild(partnerLink);
    }
    for (let condition of contract.FilteredConditions["partner"])
        partnerColumn.appendChild(conditionStatus(condition));
    row.appendChild(partnerColumn);
    const selfColumn = document.createElement("td");
    for (let condition of contract.FilteredConditions["self"])
        selfColumn.appendChild(conditionStatus(condition));
    row.appendChild(selfColumn);
    return row;
}
;
function createNoContractsRow(colspan) {
    var line = document.createElement("tr");
    const textColumn = document.createElement("td");
    textColumn.setAttribute('colspan', `${colspan}`);
    textColumn.textContent = "No contracts";
    line.appendChild(textColumn);
    return line;
}
function conditionSort(a, b) {
    return a["index"] > b["index"] ? 1 : -1;
}
function ContractSort(a, b) {
    return (a["date"] ? a["date"]["timestamp"] : 0) > (b["date"] ? b["date"]["timestamp"] : 0) ? 1 : -1;
}
function factionContract(link) {
    let conditionDiv = Object(__WEBPACK_IMPORTED_MODULE_0__util__["s" /* createTextDiv */])("");
    let marker = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(" â˜…");
    marker.style.color = __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Yellow;
    marker.style.fontWeight = "bold";
    marker.style.cursor = "default";
    marker.title = "Faction Contract";
    link.style.display = "inline";
    conditionDiv.appendChild(link);
    conditionDiv.appendChild(marker);
    return conditionDiv;
}
function conditionStatus(condition) {
    let conditionDiv = Object(__WEBPACK_IMPORTED_MODULE_0__util__["s" /* createTextDiv */])("");
    let marker = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(condition["status"] === "FULFILLED" ? "âœ“" : "X");
    marker.style.color = condition["status"] === "FULFILLED" ? __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Success : __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Failure;
    marker.style.fontWeight = "bold";
    let text = friendlyConditionText[condition.type] ? friendlyConditionText[condition.type] : condition.type;
    let textSpan = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(" " + text);
    conditionDiv.appendChild(marker);
    conditionDiv.appendChild(textSpan);
    return conditionDiv;
}
const friendlyConditionText = {
    COMEX_PURCHASE_PICKUP: "Material Pickup",
    DELIVERY: "Delivery",
    DELIVERY_SHIPMENT: "Deliver Shipment",
    EXPLORATION: "Exploration",
    REPUTATION: "Reputation",
    PAYMENT: "Payment",
    PICKUP_SHIPMENT: "Pickup Shipment",
    PROVISION_SHIPMENT: "Provision",
    PROVISION: "Provision",
    LOAN_PAYOUT: "Loan Payout",
    LOAN_INSTALLMENT: "Loan Installment"
};
const materialFulfilmentType = [
    "DELIVERY",
    "DELIVERY_SHIPMENT",
    "PROVISION_SHIPMENT",
    "COMEX_PURCHASE_PICKUP"
];


/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);


class CommandLists {
    constructor(tile, parameters) {
        this.name = "COMMAND LIST";
        this.tile = tile;
        this.parameters = parameters;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        if (this.parameters.length == 1) {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Lists", generateListTable, this.tile);
        }
        else {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Lists", dispStoredList, [this.tile, this.parameters, this]);
        }
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = CommandLists;

function generateListTable(result, tile) {
    const table = document.createElement("table");
    tile.appendChild(table);
    const head = document.createElement("thead");
    const headRow = document.createElement("tr");
    head.appendChild(headRow);
    table.appendChild(head);
    for (let title of ["Name", "Length", "Delete"]) {
        const header = document.createElement("th");
        header.textContent = title;
        header.style.paddingTop = "0";
        headRow.appendChild(header);
    }
    const body = document.createElement("tbody");
    table.appendChild(body);
    if (!result["PMMG-Lists"]) {
        result["PMMG-Lists"] = {};
    }
    const names = Array.from(Object.keys(result["PMMG-Lists"]));
    names.forEach(name => {
        const row = document.createElement("tr");
        const nameColumn = document.createElement("td");
        const lengthColumn = document.createElement("td");
        const deleteColumn = document.createElement("td");
        row.appendChild(nameColumn);
        row.appendChild(lengthColumn);
        row.appendChild(deleteColumn);
        body.appendChild(row);
        nameColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(name, "XIT LIST_" + name));
        lengthColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(result["PMMG-Lists"][name].length.toLocaleString()));
        const deleteButton = document.createElement("button");
        deleteButton.classList.add("delete-button");
        deleteButton.textContent = "DELETE";
        deleteColumn.appendChild(deleteButton);
        deleteButton.addEventListener("click", function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["N" /* showWarningDialog */])(tile, "Are you sure you want to delete " + name + "?", "Confirm", function () {
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Lists", updateThenStoreList, [name, ""]);
                row.style.display = "none";
                return;
            });
            return;
        });
    });
    if (names.length == 0) {
        var line = document.createElement("tr");
        const textColumn = document.createElement("td");
        textColumn.colSpan = 3;
        textColumn.textContent = "No Command Lists.";
        line.appendChild(textColumn);
        body.appendChild(line);
    }
    return;
}
function updateThenStoreList(result, params) {
    if (!params || !params[0]) {
        return;
    }
    const noteName = params[0];
    const noteText = params[1];
    if (!result["PMMG-Lists"]) {
        result["PMMG-Lists"] = {};
    }
    result["PMMG-Lists"][noteName] = noteText.length == 0 ? undefined : noteText;
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
    return;
}
function dispStoredList(result, param) {
    const tile = param[0];
    const parameters = param[1];
    const listObj = param[2];
    const listName = (parameters.slice(1)).join("_");
    const nameDiv = document.createElement("div");
    nameDiv.classList.add("title");
    nameDiv.textContent = listName;
    tile.appendChild(nameDiv);
    if (!result["PMMG-Lists"]) {
        result["PMMG-Lists"] = {};
    }
    const table = document.createElement("table");
    tile.appendChild(table);
    const head = document.createElement("thead");
    const headRow = document.createElement("tr");
    head.appendChild(headRow);
    table.appendChild(head);
    for (let title of [""]) {
        const header = document.createElement("th");
        header.textContent = title;
        header.style.paddingTop = "0";
        headRow.appendChild(header);
    }
    const body = document.createElement("tbody");
    table.appendChild(body);
    if (result["PMMG-Lists"][listName] && result["PMMG-Lists"][listName].length > 0) {
        result["PMMG-Lists"][listName].forEach(linkInfo => {
            if (!linkInfo[0] || !linkInfo[1]) {
                return;
            }
            var line = document.createElement("tr");
            const textColumn = document.createElement("td");
            textColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(linkInfo[0], linkInfo[1]));
            line.appendChild(textColumn);
            body.appendChild(line);
            return;
        });
    }
    else {
        var line = document.createElement("tr");
        const textColumn = document.createElement("td");
        textColumn.colSpan = 1;
        textColumn.textContent = "No Commands.";
        line.appendChild(textColumn);
        body.appendChild(line);
    }
    const addButton = document.createElement("button");
    addButton.textContent = "Edit";
    tile.appendChild(addButton);
    addButton.style.marginLeft = "5px";
    addButton.style.marginTop = "5px";
    addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    addButton.addEventListener("click", function () {
        createEditInterface(tile, result, parameters, result["PMMG-Lists"][listName] || [], listObj);
        return;
    });
}
function createEditInterface(tile, result, parameters, settings = [], listObj) {
    const prefilled = settings.length != 0;
    const listName = (parameters.slice(1)).join("_");
    const overlapDiv = document.createElement("div");
    overlapDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].OverlappingDiv);
    const greyStripes = document.createElement("div");
    greyStripes.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].GreyStripes);
    overlapDiv.appendChild(greyStripes);
    tile.insertBefore(overlapDiv, tile.firstChild);
    greyStripes.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["F" /* makePopupSpacer */])(tile, overlapDiv));
    const addInterfaceWrapper = document.createElement("div");
    addInterfaceWrapper.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].CenterInterface);
    greyStripes.appendChild(addInterfaceWrapper);
    const addInterface = document.createElement("div");
    addInterface.classList.add("DraftConditionEditor__form___fF72bJM");
    addInterfaceWrapper.appendChild(addInterface);
    const addHeader = document.createElement('h3');
    addHeader.appendChild(document.createTextNode("Command List Editor"));
    addHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
    addInterface.appendChild(addHeader);
    addHeader.style.margin = "0.5em 0 0.5em";
    const form = document.createElement("div");
    addInterface.appendChild(form);
    if (prefilled) {
        for (var i = 0; i < settings.length; i++) {
            form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Link " + (i + 1) + " Label", settings[i][0], i == 0 ? "The label of the first link." : ""));
            form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Link " + (i + 1) + " Command", settings[i][1], i == 0 ? "The command opened by the first link (ex: CX NC1)" : ""));
        }
    }
    else {
        form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Link 1 Label", "", "The label of the first link."));
        form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Link 1 Command", "", "The command opened by the first link (ex: CX NC1)"));
    }
    const addRow = document.createElement("div");
    addRow.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveRow);
    form.appendChild(addRow);
    const addLabel = document.createElement("label");
    addLabel.textContent = "Add Link";
    addLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveLabel);
    addRow.appendChild(addLabel);
    const addInputDiv = document.createElement("div");
    addInputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveInput);
    addRow.appendChild(addInputDiv);
    const addButton = document.createElement("button");
    addButton.textContent = "ADD LINK";
    addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    addInputDiv.appendChild(addButton);
    addButton.addEventListener("click", function () {
        const catNumber = (form.children.length) / 2;
        form.insertBefore(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Link " + catNumber + " Label"), form.children[form.children.length - 2]);
        form.insertBefore(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Link " + catNumber + " Command"), form.children[form.children.length - 2]);
    });
    const saveRow = document.createElement("div");
    saveRow.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveRow);
    form.appendChild(saveRow);
    const saveLabel = document.createElement("label");
    saveLabel.textContent = "CMD";
    saveLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveLabel);
    saveRow.appendChild(saveLabel);
    const saveInputDiv = document.createElement("div");
    saveInputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveInput);
    saveRow.appendChild(saveInputDiv);
    const saveButton = document.createElement("button");
    saveButton.textContent = "SAVE";
    saveButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    saveButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    saveInputDiv.appendChild(saveButton);
    saveButton.addEventListener("click", function () {
        const commandInfo = [];
        for (var i = 0; i < form.children.length - 2; i += 2) {
            if (!form.children[i] || !form.children[i + 1]) {
                break;
            }
            if (Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.children[i]) == "" || Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.children[i + 1]) == "") {
                continue;
            }
            commandInfo.push([Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.children[i]), Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.children[i + 1])]);
        }
        tile.removeChild(overlapDiv);
        result["PMMG-Lists"][listName] = commandInfo;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
        listObj.create_buffer();
        return;
    });
    greyStripes.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["F" /* makePopupSpacer */])(tile, overlapDiv));
    return;
}


/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);


class Debug {
    constructor(tile, parameters, pmmgSettings, userInfo, webData) {
        this.name = "DEBUG";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
        this.userInfo = userInfo;
        this.webData = webData;
    }
    create_buffer() {
        const tile = this.tile;
        const parameters = this.parameters;
        const pmmgSettings = this.pmmgSettings;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        const downloadButtons = document.createElement("div");
        this.tile.appendChild(downloadButtons);
        downloadButtons.appendChild(createDownloadButton(this.pmmgSettings["PMMGExtended"], "Download Full Settings", "pmmg-settings" + Date.now().toString() + ".json"));
        downloadButtons.appendChild(createDownloadButton(this.webData, "Download All Web Data", "pmmg-web-data" + Date.now().toString() + ".json"));
        downloadButtons.appendChild(createDownloadButton(this.userInfo, "Download All Collected Data", "pmmg-user-info" + Date.now().toString() + ".json"));
        const endpointLabel = document.createElement("div");
        endpointLabel.textContent = "Get FIO Endpoint (ex: /infrastructure/Proxion)";
        endpointLabel.style.display = "block";
        endpointLabel.style.marginLeft = "4px";
        downloadButtons.appendChild(endpointLabel);
        const endpointInput = document.createElement("input");
        endpointInput.classList.add("input-text");
        endpointInput.style.display = "block";
        downloadButtons.appendChild(endpointInput);
        const endpointButton = document.createElement("button");
        endpointButton.textContent = "Download FIO Endpoint";
        endpointButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
        endpointButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
        endpointButton.style.marginLeft = "4px";
        endpointButton.style.marginBottom = "4px";
        endpointButton.style.display = "block";
        endpointButton.addEventListener("click", function () {
            const url = "https://rest.fnar.net" + (endpointInput.value.charAt(0) == "/" ? "" : "/") + endpointInput.value;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["c" /* XITWebRequest */])(tile, parameters, Debug_post, url, "GET", ["Authorization", pmmgSettings["PMMGExtended"]["apikey"]], null);
        });
        downloadButtons.appendChild(endpointButton);
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Debug;

function Debug_post(tile, parameters, jsondata) {
    try {
        console.log(JSON.parse(jsondata));
    }
    catch (ex) { }
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["v" /* downloadFile */])(jsondata, "fio-endpoint" + Date.now().toString() + ".json", false);
    return [tile, parameters];
}
function createDownloadButton(data, buttonName, fileName) {
    const downloadButton = document.createElement("button");
    downloadButton.textContent = buttonName;
    downloadButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    downloadButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    downloadButton.style.marginLeft = "4px";
    downloadButton.style.marginBottom = "4px";
    downloadButton.style.display = "block";
    downloadButton.addEventListener("click", function () {
        console.log(data);
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["v" /* downloadFile */])(data, fileName);
    });
    return downloadButton;
}


/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);


class Help {
    constructor(tile) {
        this.name = "HELP";
        this.tile = tile;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        const featureHeader = document.createElement('h3');
        featureHeader.appendChild(document.createTextNode("Features"));
        featureHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        this.tile.appendChild(featureHeader);
        var table = document.createElement("table");
        this.tile.appendChild(table);
        var head = document.createElement("thead");
        var headRow = document.createElement("tr");
        head.appendChild(headRow);
        table.appendChild(head);
        for (let title of ["Name", "Description"]) {
            const header = document.createElement("th");
            header.textContent = title;
            header.style.paddingTop = "0";
            headRow.appendChild(header);
        }
        var body = document.createElement("tbody");
        table.appendChild(body);
        createTableRow(body, ["LM Unit Prices", "Displays per unit prices on the local market."]);
        createTableRow(body, ["LM Posting Unit Prices", "Displaces per unit prices when posting ads."]);
        createTableRow(body, ["Contract Drafts", "Displays per unit prices when creating CONTD."]);
        createTableRow(body, ["Order ETAs", "Displays the date and time when production orders are complete."]);
        createTableRow(body, ["Flight ETAs", "Displays the arrival time when planning a flight."]);
        createTableRow(body, ["Fleet ETAs", "Displays the arrival time of your fleet."]);
        createTableRow(body, ["Queue Load", "Queue Percent Display."]);
        createTableRow(body, ["Consumable Timers", "Adds the number of days of consumables left to WF buffers."]);
        createTableRow(body, ["Notifications", "Shortens and color codes notifications."]);
        createTableRow(body, ["Screen Unpack", "Unpacks the list of screens to the top bar."]);
        createTableRow(body, ["Image Creator", "Loads images and GIFs into chats."]);
        createTableRow(body, ["Inventory Organizer", "Allows for custom sorting of inventories."]);
        createTableRow(body, ["Command Correcter", "Allows for planet names in stock commands (Montem, Promitor, etc.)"]);
        createTableRow(body, ["Sidebar", "Allows the user to customize the left sidebar in XIT SETTINGS."]);
        createTableRow(body, ["Pending Contracts", "Displays the name of the other party in pending contracts."]);
        createTableRow(body, ["Compacted UI", "Minimizes unused portions of the UI"]);
        createTableRow(body, ["Header Minimizer", "Allows minimizing contract and CX headers"]);
        createTableRow(body, ["Color Schemes", "Changes the colors used on material icons. Set in XIT SETTINGS."]);
        const xitHeader = document.createElement('h3');
        xitHeader.appendChild(document.createTextNode("XIT Commands"));
        xitHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        this.tile.appendChild(xitHeader);
        table = document.createElement("table");
        this.tile.appendChild(table);
        head = document.createElement("thead");
        headRow = document.createElement("tr");
        head.appendChild(headRow);
        table.appendChild(head);
        for (let title of ["Name", "Command", "Parameters", "Description"]) {
            const header = document.createElement("th");
            header.textContent = title;
            header.style.paddingTop = "0";
            headRow.appendChild(header);
        }
        body = document.createElement("tbody");
        table.appendChild(body);
        createTableRow(body, ["Burn", "XIT BURN", "Planet", "Shows the number of days of consumables left."]);
        createTableRow(body, ["Repairs", "XIT REPAIRS", "Planet (optional)", "Shows the materials to repair buildings."]);
        createTableRow(body, ["Contracts", "XIT CONTRACTS", "None", "Shows pending contracts."]);
        createTableRow(body, ["Finances", "XIT FIN", "None", "Shows financial information."]);
        createTableRow(body, ["FIO Inventory", "XIT INV", "Username, Planet", "Shows the inventory of another FIO user."]);
        createTableRow(body, ["Notes", "XIT NOTES", "Note Name (optional)", "Provides a text area to type a note in."]);
        createTableRow(body, ["Checklists", "XIT CHECKLIST", "Checklist Name (optional)", "Provides checklist you can add items to."]);
        createTableRow(body, ["Command Lists", "XIT LIST", "List Name (optional)", "Provides a customizable list of command links."]);
        createTableRow(body, ["Settings", "XIT SETTINGS", "None", "Open PMMG settings."]);
        createTableRow(body, ["Calculator", "XIT CALC", "None", "Provides an ingame calculator."]);
        createTableRow(body, ["Chat", "XIT CHAT", "Planet", "Provides read-only access to a planet chat."]);
        createTableRow(body, ["Debug", "XIT DEBUG", "None", "Debugging menu."]);
        createTableRow(body, ["Start", "XIT START", "None", "First time user popup."]);
        createTableRow(body, ["PrUN Planner", "XIT PLANNER", "Specific Page (optional)", "Links to PrUN Planner."]);
        createTableRow(body, ["Wiki", "XIT WIKI", "None", "Links PrUN wiki."]);
        createTableRow(body, ["FIO", "XIT FIO", "None", "Links to FIO Web."]);
        createTableRow(body, ["Discord", "XIT DISCORD", "Server ID/Name, Channel ID", "Allows you to chat in Discord."]);
        createTableRow(body, ["Sheets", "XIT SHEETS", "Sheet ID", "Connects to Google Sheets."]);
        createTableRow(body, ["Prosperity", "XIT PROSPERITY", "None", "Accesses the Prosperity map tool."]);
        createTableRow(body, ["PrUN", "XIT PRUN", "None", "Opens PrUN... in PrUN!"]);
        const bugHeader = document.createElement('h3');
        bugHeader.appendChild(document.createTextNode("Common Issues"));
        bugHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        this.tile.appendChild(bugHeader);
        table = document.createElement("table");
        this.tile.appendChild(table);
        head = document.createElement("thead");
        headRow = document.createElement("tr");
        head.appendChild(headRow);
        table.appendChild(head);
        for (let title of ["Description", "Explanation", "Solution"]) {
            const header = document.createElement("th");
            header.textContent = title;
            header.style.paddingTop = "0";
            headRow.appendChild(header);
        }
        body = document.createElement("tbody");
        table.appendChild(body);
        createTableRow(body, ["Seeing green buffers", "PMMG is crashing", "Contact PiBoy314 on Discord"]);
        createTableRow(body, ["Data not scanning in", "PMMG's listener is becoming detached.", "Close Prosperous Universe and reopen it. Check your data in XIT HEALTH."]);
        createTableRow(body, ["Want to clear data", "N/A", "Click on extension icon in upper right, click \"Clear Settings\""]);
        createTableRow(body, ["Something else", "N/A", "Ask on Discord, ping PiBoy314."]);
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Help;

function createTableRow(body, contents) {
    const row = document.createElement("tr");
    contents.forEach(text => {
        const td = document.createElement("td");
        td.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(text));
        row.appendChild(td);
        return;
    });
    body.appendChild(row);
    return;
}


/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GameProperties__ = __webpack_require__(3);


class Repairs {
    constructor(tile, parameters, pmmgSettings, userInfo) {
        this.name = "REPAIRS";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
        this.userInfo = userInfo;
    }
    create_buffer() {
        const pmmgSettings = this.pmmgSettings;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        if (!this.userInfo["PMMG-User-Info"] || !this.userInfo["PMMG-User-Info"]["sites"]) {
            this.tile.textContent = "Loading Repair Data...";
            this.tile.id = "pmmg-reload";
            return;
        }
        if (this.parameters.length < 2) {
            const title = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("All Repairs");
            title.classList.add("title");
            this.tile.appendChild(title);
            const thresholdDiv = document.createElement("div");
            this.tile.appendChild(thresholdDiv);
            const thresholdInput = document.createElement("input");
            thresholdInput.classList.add("input-text");
            const thresholdText = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Age Threshold:");
            thresholdText.style.paddingLeft = "5px";
            thresholdInput.type = "number";
            thresholdInput.value = this.pmmgSettings["PMMGExtended"]["repair_threshold"] ? this.pmmgSettings["PMMGExtended"]["repair_threshold"] : "70";
            thresholdInput.style.width = "60px";
            thresholdDiv.appendChild(thresholdText);
            thresholdDiv.appendChild(thresholdInput);
            const matTitle = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Shopping Cart");
            matTitle.classList.add("title");
            matTitle.style.paddingBottom = "2px";
            this.tile.appendChild(matTitle);
            const matDiv = document.createElement("div");
            this.tile.appendChild(matDiv);
            const buiTitle = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Buildings");
            buiTitle.classList.add("title");
            buiTitle.style.paddingTop = "5px";
            buiTitle.style.paddingBottom = "2px";
            this.tile.appendChild(buiTitle);
            const table = document.createElement("table");
            const head = document.createElement("thead");
            const hr = document.createElement("tr");
            head.appendChild(hr);
            table.appendChild(head);
            this.tile.appendChild(table);
            for (let t of ["Ticker", "Planet", "Age", "Condition"]) {
                const header = document.createElement("th");
                header.textContent = t;
                header.style.paddingTop = "0";
                hr.appendChild(header);
            }
            var buildings = [];
            this.userInfo["PMMG-User-Info"]["sites"].forEach(site => {
                if (site.type != "BASE") {
                    return;
                }
                site.buildings.forEach(build => {
                    buildings.push([site["PlanetName"], build]);
                    return;
                });
                return;
            });
            buildings.sort(globalBuildingSort);
            const body = document.createElement("tbody");
            table.appendChild(body);
            generateGeneralRepairScreen(body, matDiv, buildings, thresholdInput);
            thresholdInput.addEventListener("input", function () {
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(body);
                generateGeneralRepairScreen(body, matDiv, buildings, thresholdInput);
                pmmgSettings["PMMGExtended"]["repair_threshold"] = thresholdInput.value || "70";
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
            });
        }
        else {
            const title = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(this.parameters[1] + " Repairs");
            title.classList.add("title");
            this.tile.appendChild(title);
            var siteData = undefined;
            this.userInfo["PMMG-User-Info"]["sites"].forEach(site => {
                if (site.type == "BASE" && (site["PlanetName"].toUpperCase() == this.parameters[1].toUpperCase() || site["PlanetNaturalId"].toUpperCase() == this.parameters[1].toUpperCase())) {
                    siteData = site;
                }
                return;
            });
            if (!siteData) {
                return;
            }
            const thresholdDiv = document.createElement("div");
            this.tile.appendChild(thresholdDiv);
            const thresholdInput = document.createElement("input");
            thresholdInput.classList.add("input-text");
            const thresholdText = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Age Threshold:");
            thresholdText.style.paddingLeft = "5px";
            thresholdInput.type = "number";
            thresholdInput.value = this.pmmgSettings["PMMGExtended"]["repair_threshold"] ? this.pmmgSettings["PMMGExtended"]["repair_threshold"] : "70";
            thresholdInput.style.width = "60px";
            thresholdDiv.appendChild(thresholdText);
            thresholdDiv.appendChild(thresholdInput);
            const matTitle = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Shopping Cart");
            matTitle.classList.add("title");
            matTitle.style.paddingBottom = "2px";
            this.tile.appendChild(matTitle);
            const matDiv = document.createElement("div");
            this.tile.appendChild(matDiv);
            const buiTitle = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Buildings");
            buiTitle.classList.add("title");
            buiTitle.style.paddingTop = "5px";
            buiTitle.style.paddingBottom = "2px";
            this.tile.appendChild(buiTitle);
            const table = document.createElement("table");
            const head = document.createElement("thead");
            const hr = document.createElement("tr");
            head.appendChild(hr);
            table.appendChild(head);
            this.tile.appendChild(table);
            for (let t of ["Ticker", "Age", "Condition"]) {
                const header = document.createElement("th");
                header.textContent = t;
                header.style.paddingTop = "0";
                hr.appendChild(header);
            }
            if (!siteData["buildings"]) {
                return;
            }
            siteData["buildings"].sort(buildingSort);
            const body = document.createElement("tbody");
            table.appendChild(body);
            generateRepairScreen(body, matDiv, siteData, thresholdInput);
            thresholdInput.addEventListener("input", function () {
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(body);
                generateRepairScreen(body, matDiv, siteData, thresholdInput);
                pmmgSettings["PMMGExtended"]["repair_threshold"] = thresholdInput.value || "70";
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
            });
        }
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Repairs;

function generateRepairScreen(body, matDiv, siteData, thresholdInput) {
    const materials = {};
    siteData["buildings"].forEach(building => {
        const row = document.createElement("tr");
        body.appendChild(row);
        if (__WEBPACK_IMPORTED_MODULE_1__GameProperties__["g" /* NonProductionBuildings */].includes(building["buildingTicker"])) {
            return;
        }
        const date = (((new Date()).getTime() - building.lastRepair) / 86400000);
        if (date < parseFloat(thresholdInput.value)) {
            return;
        }
        building.repairMaterials.forEach(mat => {
            if (materials[mat.material.ticker] == undefined) {
                materials[mat.material.ticker] = mat.amount;
            }
            else {
                materials[mat.material.ticker] += mat.amount;
            }
            return;
        });
        var rowData = [building["buildingTicker"], date.toLocaleString(undefined, { maximumFractionDigits: 1 }), (building["condition"] * 100).toLocaleString(undefined, { maximumFractionDigits: 1 }) + "%"];
        for (let point of rowData) {
            const tableElem = document.createElement("td");
            row.appendChild(tableElem);
            tableElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(point));
        }
        return;
    });
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(matDiv);
    matDiv.style.maxWidth = "200px";
    const table = document.createElement("table");
    matDiv.appendChild(table);
    const head = document.createElement("thead");
    const hr = document.createElement("tr");
    head.appendChild(hr);
    table.appendChild(head);
    for (let t of ["Material", "Amount"]) {
        const header = document.createElement("th");
        header.textContent = t;
        header.style.paddingTop = "0";
        hr.appendChild(header);
    }
    const mbody = document.createElement("tbody");
    table.appendChild(mbody);
    Object.keys(materials).sort().forEach(mat => {
        const row = document.createElement("tr");
        mbody.appendChild(row);
        var rowData = [mat, materials[mat].toLocaleString(undefined)];
        for (let point of rowData) {
            const tableElem = document.createElement("td");
            row.appendChild(tableElem);
            tableElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(point));
        }
        return;
    });
    return;
}
function generateGeneralRepairScreen(body, matDiv, buildings, thresholdInput) {
    const NonProductionBuildings = ["CM", "HB1", "HB2", "HB3", "HB4", "HB5", "HBB", "HBC", "HBL", "HBM", "STO"];
    const materials = {};
    buildings.forEach(building => {
        const row = document.createElement("tr");
        body.appendChild(row);
        if (NonProductionBuildings.includes(building[1]["buildingTicker"])) {
            return;
        }
        const date = (((new Date()).getTime() - building[1].lastRepair) / 86400000);
        if (date < parseFloat(thresholdInput.value)) {
            return;
        }
        building[1].repairMaterials.forEach(mat => {
            if (materials[mat.material.ticker] == undefined) {
                materials[mat.material.ticker] = mat.amount;
            }
            else {
                materials[mat.material.ticker] += mat.amount;
            }
        });
        var rowData = [building[1]["buildingTicker"], building[0], date.toLocaleString(undefined, { maximumFractionDigits: 1 }), (building[1]["condition"] * 100).toLocaleString(undefined, { maximumFractionDigits: 1 }) + "%"];
        for (let point of rowData) {
            const tableElem = document.createElement("td");
            row.appendChild(tableElem);
            tableElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(point));
        }
        return;
    });
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(matDiv);
    matDiv.style.maxWidth = "200px";
    const table = document.createElement("table");
    matDiv.appendChild(table);
    const head = document.createElement("thead");
    const hr = document.createElement("tr");
    head.appendChild(hr);
    table.appendChild(head);
    for (let t of ["Material", "Amount"]) {
        const header = document.createElement("th");
        header.textContent = t;
        header.style.paddingTop = "0";
        hr.appendChild(header);
    }
    const mbody = document.createElement("tbody");
    table.appendChild(mbody);
    Object.keys(materials).sort().forEach(mat => {
        const row = document.createElement("tr");
        mbody.appendChild(row);
        var rowData = [mat, materials[mat].toLocaleString(undefined)];
        for (let point of rowData) {
            const tableElem = document.createElement("td");
            row.appendChild(tableElem);
            tableElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(point));
        }
        return;
    });
    return;
}
function buildingSort(a, b) {
    return a["condition"] > b["condition"] ? 1 : -1;
}
function globalBuildingSort(a, b) {
    return a[1]["condition"] > b[1]["condition"] ? 1 : -1;
}


/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);


class Settings {
    constructor(tile, parameters, pmmgSettings, userInfo, webData, modules) {
        this.name = "PMMG SETTINGS";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
        this.userInfo = userInfo;
        this.webData = webData;
        this.modules = modules;
    }
    create_buffer() {
        const tile = this.tile;
        const pmmgSettings = this.pmmgSettings;
        const modules = this.modules;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(tile);
        const warningDiv = document.createElement("div");
        tile.appendChild(warningDiv);
        warningDiv.style.marginTop = "4px";
        warningDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Changes require a refresh to take effect."));
        const helpDiv = document.createElement("div");
        tile.appendChild(helpDiv);
        helpDiv.style.marginTop = "4px";
        helpDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("See a full list of features on "));
        const websiteLink = document.createElement("a");
        websiteLink.href = "https://sites.google.com/view/pmmgextended/features?authuser=0";
        websiteLink.target = "_blank";
        websiteLink.style.display = "inline-block";
        websiteLink.classList.add("link");
        websiteLink.textContent = "PMMG's Website";
        helpDiv.appendChild(websiteLink);
        const enhancedColorHeader = document.createElement('h3');
        enhancedColorHeader.appendChild(document.createTextNode("Color Scheme"));
        enhancedColorHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Select a color scheme to customize material icons.", "right"));
        enhancedColorHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(enhancedColorHeader);
        const colorDiv = document.createElement("div");
        const colorLabel = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Color Scheme:");
        colorLabel.style.marginBottom = "4px";
        colorDiv.appendChild(colorLabel);
        const colorSelect = document.createElement("select");
        colorSelect.name = "colors-select";
        colorSelect.id = "colors-select";
        colorSelect.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["p" /* createSelectOption */])("Enhanced", "enhanced"));
        colorSelect.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["p" /* createSelectOption */])("Icons", "icons"));
        colorSelect.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["p" /* createSelectOption */])("Default", "default"));
        colorSelect.classList.add("select");
        colorSelect.style.marginLeft = "4px";
        if (pmmgSettings["PMMGExtended"]["color_scheme"] == "enhanced" || !pmmgSettings["PMMGExtended"]["color_scheme"]) {
            colorSelect.children[0].selected = true;
        }
        else if (pmmgSettings["PMMGExtended"]["color_scheme"] == "icons") {
            colorSelect.children[1].selected = true;
        }
        else {
            colorSelect.children[2].selected = true;
        }
        colorSelect.style.display = "inline-block";
        colorSelect.addEventListener("change", function () {
            pmmgSettings["PMMGExtended"]["color_scheme"] = colorSelect.selectedOptions[0].value || undefined;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        colorDiv.appendChild(colorSelect);
        tile.appendChild(colorDiv);
        const finDiv = document.createElement("div");
        const finLabel = document.createElement('h3');
        finLabel.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Enable Financial Recording"));
        finLabel.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Record financial info daily. Open XIT FIN for more info.", "right"));
        finLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        finLabel.style.marginBottom = "4px";
        finDiv.appendChild(finLabel);
        const finCheckbox = document.createElement("input");
        finCheckbox.type = "checkbox";
        finCheckbox.checked = pmmgSettings["PMMGExtended"]["recording_financials"] == false ? false : true;
        finDiv.appendChild(finCheckbox);
        tile.appendChild(finDiv);
        finCheckbox.addEventListener("click", function () {
            pmmgSettings["PMMGExtended"]["recording_financials"] = finCheckbox.checked;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        const minDiv = document.createElement("div");
        const minLabel = document.createElement('h3');
        minLabel.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Minimize Headers by Default"));
        minLabel.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Minimized contract and CX headers by default.", "right"));
        minLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        minLabel.style.marginBottom = "4px";
        minDiv.appendChild(minLabel);
        const minCheckbox = document.createElement("input");
        minCheckbox.type = "checkbox";
        minCheckbox.checked = pmmgSettings["PMMGExtended"]["minimize_by_default"];
        minDiv.appendChild(minCheckbox);
        tile.appendChild(minDiv);
        minCheckbox.addEventListener("click", function () {
            pmmgSettings["PMMGExtended"]["minimize_by_default"] = minCheckbox.checked;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        const advDiv = document.createElement("div");
        const advLabel = document.createElement('h3');
        advLabel.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Advanced Minimalist Mode"));
        advLabel.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Removes redundant information from most buffers. Not recommended for players unfamiliar with the interface.", "right"));
        advLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        advLabel.style.marginBottom = "4px";
        advDiv.appendChild(advLabel);
        const advCheckbox = document.createElement("input");
        advCheckbox.type = "checkbox";
        advCheckbox.checked = pmmgSettings["PMMGExtended"]["advanced_mode"];
        advDiv.appendChild(advCheckbox);
        tile.appendChild(advDiv);
        advCheckbox.addEventListener("click", function () {
            pmmgSettings["PMMGExtended"]["advanced_mode"] = advCheckbox.checked;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        const burnDiv = document.createElement("div");
        const burnLabel = document.createElement('h3');
        burnLabel.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Burn Settings"));
        burnLabel.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Set the thresholds for yellow and red consumable levels in burn tiles (in days).", "right"));
        burnLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        burnLabel.style.marginBottom = "4px";
        burnDiv.appendChild(burnLabel);
        if (!pmmgSettings["PMMGExtended"]["burn_thresholds"]) {
            pmmgSettings["PMMGExtended"]["burn_thresholds"] = [3, 7];
        }
        const setDiv = document.createElement("div");
        burnDiv.appendChild(setDiv);
        setDiv.style.display = "flex";
        const redDiv = document.createElement("div");
        setDiv.appendChild(redDiv);
        redDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Red Threshold: "));
        const redIn = document.createElement("input");
        redIn.type = "number";
        redIn.value = (pmmgSettings["PMMGExtended"]["burn_thresholds"] || [3])[0].toLocaleString(undefined, { maximumFractionDigits: 0 });
        redDiv.appendChild(redIn);
        redIn.classList.add("input-text");
        redIn.style.width = "50px";
        redIn.addEventListener("input", function () {
            pmmgSettings["PMMGExtended"]["burn_thresholds"][0] = parseFloat(redIn.value);
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        const yelDiv = document.createElement("div");
        setDiv.appendChild(yelDiv);
        yelDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Yellow Threshold: "));
        const yelIn = document.createElement("input");
        yelIn.type = "number";
        yelIn.value = (pmmgSettings["PMMGExtended"]["burn_thresholds"] || [3, 7])[1].toLocaleString(undefined, { maximumFractionDigits: 0 });
        yelDiv.appendChild(yelIn);
        yelIn.classList.add("input-text");
        yelIn.style.width = "50px";
        yelIn.addEventListener("input", function () {
            pmmgSettings["PMMGExtended"]["burn_thresholds"][1] = parseFloat(yelIn.value);
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        tile.appendChild(burnDiv);
        const hotkeyHeader = document.createElement('h3');
        hotkeyHeader.appendChild(document.createTextNode("Left Sidebar Buttons"));
        hotkeyHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Create hotkeys on the left sidebar. The first value is what will be displayed, the second is the command.", "right"));
        hotkeyHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(hotkeyHeader);
        const hotkeyInputDiv = document.createElement("div");
        tile.appendChild(hotkeyInputDiv);
        if (!pmmgSettings["PMMGExtended"]["sidebar"]) {
            pmmgSettings["PMMGExtended"]["sidebar"] = [["BS", "BS"], ["CONT", "CONTS"], ["COM", "COM"], ["CORP", "CORP"], ["CXL", "CXL"], ["FIN", "FIN"], ["FLT", "FLT"], ["INV", "INV"], ["MAP", "MAP"], ["PROD", "PROD"], ["CMDS", "CMDS"], ["SET", "XIT SETTINGS"]];
        }
        pmmgSettings["PMMGExtended"]["sidebar"].forEach(hotkey => {
            const div = createInputPair(hotkey, pmmgSettings, hotkeyInputDiv);
            if (div != null) {
                hotkeyInputDiv.appendChild(div);
            }
            return;
        });
        const addButton = makePushButton("+", function () {
            const div = createInputPair([[], []], pmmgSettings, hotkeyInputDiv);
            if (div != null) {
                hotkeyInputDiv.appendChild(div);
            }
        }, __WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonSuccess);
        addButton.style.marginLeft = "4px";
        addButton.style.marginBottom = "4px";
        tile.appendChild(addButton);
        const authenticationHeader = document.createElement('h3');
        authenticationHeader.appendChild(document.createTextNode("Authentication Settings"));
        authenticationHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Enter your FIO username and API key", "right"));
        authenticationHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(authenticationHeader);
        const usernameDiv = document.createElement("div");
        const usernameLabel = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("FIO Username: ");
        const usernameInput = document.createElement("input");
        usernameInput.value = pmmgSettings["PMMGExtended"]["username"] || "";
        usernameInput.addEventListener("input", function () {
            pmmgSettings["PMMGExtended"]["username"] = !usernameInput.value || usernameInput.value == "" ? undefined : usernameInput.value;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        usernameInput.classList.add("input-text");
        usernameDiv.appendChild(usernameLabel);
        usernameDiv.appendChild(usernameInput);
        tile.appendChild(usernameDiv);
        const apiDiv = document.createElement("div");
        const apiLabel = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("FIO API Key: ");
        apiLabel.style.minWidth = "77px";
        apiLabel.style.display = "inline-block";
        const apiInput = document.createElement("input");
        apiInput.value = pmmgSettings["PMMGExtended"]["apikey"] || "";
        apiInput.addEventListener("input", function () {
            pmmgSettings["PMMGExtended"]["apikey"] = !apiInput.value || apiInput.value == "" ? undefined : apiInput.value;
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        apiInput.classList.add("input-text");
        apiInput.type = "password";
        apiDiv.appendChild(apiLabel);
        apiDiv.appendChild(apiInput);
        tile.appendChild(apiDiv);
        const screenUnpackHeader = document.createElement('h3');
        screenUnpackHeader.appendChild(document.createTextNode("Screen Unpack Exclusions"));
        screenUnpackHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("List screens to be excluded from screen unpack. Separate screens with a comma.", "right"));
        screenUnpackHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(screenUnpackHeader);
        const notifDiv = document.createElement("div");
        tile.appendChild(notifDiv);
        notifDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("List screen names separated by commas, no spaces."));
        const exclusionInput = document.createElement("input");
        exclusionInput.classList.add("input-text");
        exclusionInput.value = pmmgSettings["PMMGExtended"]["unpack_exceptions"] == undefined ? "" : pmmgSettings["PMMGExtended"]["unpack_exceptions"].join(",");
        exclusionInput.addEventListener("input", function () {
            pmmgSettings["PMMGExtended"]["unpack_exceptions"] = exclusionInput.value.split(",");
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        });
        tile.appendChild(exclusionInput);
        const moduleSettingsHeader = document.createElement('h3');
        moduleSettingsHeader.appendChild(document.createTextNode("Toggle Features"));
        moduleSettingsHeader.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["u" /* createToolTip */])("Toggle features on and off. The yellow X cleans up any stray elements.", "right"));
        moduleSettingsHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(moduleSettingsHeader);
        const content = document.createElement("div");
        content.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionContent);
        tile.appendChild(content);
        modules.forEach(mp => {
            const line = document.createElement('div');
            line.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_1__Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarLine, __WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FontsRegular));
            content.appendChild(line);
            line.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(mp.friendlyName));
            content.appendChild(line);
            const right = document.createElement("span");
            right.style.flexGrow = "1";
            right.style.textAlign = "right";
            line.appendChild(right);
            if (pmmgSettings["PMMGExtended"]["disabled"] == undefined) {
                pmmgSettings["PMMGExtended"]["disabled"] = [];
            }
            const toggle = makeToggleButton("On", "Off", () => {
                mp.enabled = !mp.enabled;
                if (pmmgSettings["PMMGExtended"]["disabled"].includes(mp.name)) {
                    if (mp.enabled) {
                        for (var i = 0; i < pmmgSettings["PMMGExtended"]["disabled"].length; i++) {
                            if (pmmgSettings["PMMGExtended"]["disabled"][i] == mp.name) {
                                pmmgSettings["PMMGExtended"]["disabled"].splice(i, 1);
                                i--;
                            }
                        }
                    }
                }
                else {
                    if (!mp.enabled) {
                        pmmgSettings["PMMGExtended"]["disabled"].push(mp.name);
                    }
                }
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
            }, mp.enabled);
            if (pmmgSettings["PMMGExtended"]["disabled"].includes(mp.name)) {
                toggle.setAttribute("data-state", "false");
                mp.enabled = false;
                toggle.classList.remove(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonSuccess);
                toggle.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
                toggle.innerText = "Off";
            }
            right.appendChild(toggle);
            const cleanup = makePushButton("x", () => mp.module.cleanup(true));
            cleanup.style.marginRight = "8px";
            right.appendChild(cleanup);
            return;
        });
        const importHeader = document.createElement('h3');
        importHeader.appendChild(document.createTextNode("Import/Export Settings"));
        importHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
        tile.appendChild(importHeader);
        tile.appendChild(createImportExportButton("Settings", function (e, errorTextBox) {
            if (!e || !e.target) {
                return;
            }
            try {
                const fileOutput = JSON.parse(e.target.pmmgSettings);
                const exclude = ["username", "apikey", "webappid"];
                Object.keys(fileOutput).forEach(key => {
                    if (!exclude.includes(key)) {
                        pmmgSettings["PMMGExtended"][key] = fileOutput[key];
                    }
                });
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
                errorTextBox.style.display = "none";
            }
            catch (ex) {
                console.log("PMMG: Error encountered processing file!");
                errorTextBox.style.display = "inline-block";
            }
        }, function () {
            const output = {};
            const exclude = ["username", "apikey", "webappid"];
            Object.keys(pmmgSettings["PMMGExtended"]).forEach(key => {
                if (!exclude.includes(key)) {
                    output[key] = pmmgSettings["PMMGExtended"][key];
                }
            });
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["v" /* downloadFile */])(output, "pmmg-settings" + Date.now().toString() + ".json");
        }));
        tile.appendChild(createImportExportButton("Notes", function (e, errorTextBox) {
            if (!e || !e.target) {
                return;
            }
            try {
                const fileOutput = JSON.parse(e.target.pmmgSettings);
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(fileOutput);
                errorTextBox.style.display = "none";
            }
            catch (ex) {
                console.log("PMMG: Error encountered processing file!");
                errorTextBox.style.display = "inline-block";
            }
        }, function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Notes", __WEBPACK_IMPORTED_MODULE_0__util__["v" /* downloadFile */], "pmmg-notes" + Date.now().toString() + ".json");
        }));
        tile.appendChild(createImportExportButton("Lists", function (e, errorTextBox) {
            if (!e || !e.target) {
                return;
            }
            try {
                const fileOutput = JSON.parse(e.target.pmmgSettings);
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(fileOutput);
                errorTextBox.style.display = "none";
            }
            catch (ex) {
                console.log("PMMG: Error encountered processing file!");
                errorTextBox.style.display = "inline-block";
            }
        }, function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Lists", __WEBPACK_IMPORTED_MODULE_0__util__["v" /* downloadFile */], "pmmg-lists" + Date.now().toString() + ".json");
        }));
        tile.appendChild(createImportExportButton("Finances", function (e, errorTextBox) {
            if (!e || !e.target) {
                return;
            }
            try {
                const fileOutput = JSON.parse(e.target.pmmgSettings);
                const finResult = {};
                Object.keys(fileOutput).forEach(key => {
                    finResult[key] = fileOutput[key];
                    return;
                });
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])({ "PMMG-Finance": finResult });
                errorTextBox.style.display = "none";
            }
            catch (ex) {
                console.log("PMMG: Error encountered processing file!");
                errorTextBox.style.display = "inline-block";
            }
        }, function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Finance", parseFinThenDownload);
        }));
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Settings;

function parseFinThenDownload(pmmgSettings) {
    const output = {};
    Object.keys(pmmgSettings["PMMG-Finance"]).forEach(key => {
        output[key] = pmmgSettings["PMMG-Finance"][key];
    });
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["v" /* downloadFile */])(output, "pmmg-finance" + Date.now().toString() + ".json");
    return;
}
function createImportExportButton(label, importFunction, exportFunction) {
    const buttonDiv = document.createElement("div");
    const importButton = document.createElement("button");
    importButton.textContent = "Import " + label;
    importButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    importButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    importButton.style.marginLeft = "4px";
    importButton.style.marginBottom = "4px";
    buttonDiv.appendChild(importButton);
    const importFileInput = document.createElement("input");
    importFileInput.type = "file";
    importFileInput.accept = ".json";
    importFileInput.style.display = "none";
    buttonDiv.appendChild(importFileInput);
    importButton.addEventListener("click", function () {
        importFileInput.click();
        return;
    });
    const errorTextBox = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Error Loading File!");
    errorTextBox.style.display = "none";
    buttonDiv.appendChild(errorTextBox);
    importFileInput.addEventListener("change", function () {
        if (!this.files) {
            return;
        }
        const file = this.files[0];
        if (!file) {
            return;
        }
        const reader = new FileReader();
        reader.onload = function (e) {
            importFunction(e, errorTextBox);
        };
        reader.readAsText(file);
        return;
    });
    const exportButton = document.createElement("button");
    exportButton.textContent = "Export " + label;
    exportButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    exportButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    exportButton.style.marginLeft = "4px";
    exportButton.style.marginBottom = "4px";
    buttonDiv.appendChild(exportButton);
    exportButton.addEventListener("click", function () {
        exportFunction();
    });
    return buttonDiv;
}
function createInputPair(hotkey, pmmgSettings, fullDiv) {
    if (hotkey.length != 2) {
        return null;
    }
    const div = document.createElement("div");
    const displayedValue = document.createElement("input");
    displayedValue.classList.add("input-text");
    displayedValue.style.display = "inline-block";
    div.appendChild(displayedValue);
    const command = document.createElement("input");
    command.classList.add("input-text");
    command.style.display = "inline-block";
    div.appendChild(command);
    const remove = makePushButton("X", function () {
        displayedValue.value = "";
        command.value = "";
        displayedValue.dispatchEvent(new Event("input"));
        Array.from(div.children).forEach(elem => { div.removeChild(elem); return; });
    }, __WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonDanger);
    remove.style.display = "inline-block";
    div.appendChild(remove);
    displayedValue.value = hotkey[0];
    command.value = hotkey[1];
    displayedValue.addEventListener("input", function () {
        var hotkeys = [];
        Array.from(fullDiv.children).forEach(option => {
            if (option.children[0] != undefined && option.children[1] != undefined && option.children[0].value != "" && option.children[0].value != undefined && option.children[1].value != "" && option.children[1].value != undefined) {
                hotkeys.push([option.children[0].value, option.children[1].value]);
            }
            return;
        });
        pmmgSettings["PMMGExtended"]["sidebar"] = hotkeys;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
    });
    command.addEventListener("input", function () {
        var hotkeys = [];
        Array.from(fullDiv.children).forEach(option => {
            if (option.children[0] != undefined && option.children[1] != undefined && option.children[0].value != "" && option.children[0].value != undefined && option.children[1].value != "" && option.children[1].value != undefined) {
                hotkeys.push([option.children[0].value, option.children[1].value]);
            }
            return;
        });
        pmmgSettings["PMMGExtended"]["sidebar"] = hotkeys;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
    });
    return div;
}
function makePushButton(text, f, style = __WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary) {
    const button = document.createElement('button');
    button.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    button.classList.add(...style);
    button.onclick = f;
    button.innerText = text;
    return button;
}
function makeToggleButton(on, off, f, state = false) {
    const toggle = document.createElement('button');
    toggle.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    const setLook = (s) => {
        toggle.innerText = s ? on : off;
        if (s) {
            toggle.classList.remove(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
            toggle.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonSuccess);
        }
        else {
            toggle.classList.remove(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonSuccess);
            toggle.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
        }
    };
    toggle.setAttribute("data-state", String(state));
    setLook(state);
    toggle.onclick = () => {
        const newState = !(toggle.getAttribute("data-state") === "true");
        toggle.setAttribute("data-state", String(newState));
        setLook(newState);
        f();
    };
    toggle.style.width = "40px";
    return toggle;
}


/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);


class Sort {
    constructor(tile, parameters, pmmgSettings) {
        this.name = "SORTING OPTIONS";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgSettings = pmmgSettings;
    }
    create_buffer() {
        const tile = this.tile;
        const parameters = this.parameters;
        const pmmgSettings = this.pmmgSettings;
        const sortObj = this;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(tile);
        if (!parameters[1]) {
            tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Add a planet name to the end of the command!"));
            return;
        }
        if (!pmmgSettings["PMMGExtended"]["sorting"]) {
            pmmgSettings["PMMGExtended"]["sorting"] = [];
        }
        const table = document.createElement("table");
        tile.appendChild(table);
        const head = document.createElement("thead");
        const headRow = document.createElement("tr");
        head.appendChild(headRow);
        table.appendChild(head);
        for (let title of ["Abbreviation", "Categories", "Modify"]) {
            const header = document.createElement("th");
            header.textContent = title;
            header.style.paddingTop = "0";
            headRow.appendChild(header);
        }
        const body = document.createElement("tbody");
        table.appendChild(body);
        const addButton = document.createElement("button");
        addButton.textContent = "Add New";
        tile.appendChild(addButton);
        addButton.style.marginLeft = "5px";
        addButton.style.marginTop = "5px";
        addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
        addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonSuccess);
        addButton.addEventListener("click", function () {
            createAddInterface(sortObj, tile, pmmgSettings, parameters);
        });
        var isSorting = false;
        pmmgSettings["PMMGExtended"]["sorting"].forEach(settings => {
            if (!settings[0] || !settings[1] || !settings[2]) {
                return;
            }
            if (settings[1].toUpperCase() != parameters[1].toUpperCase()) {
                return;
            }
            isSorting = true;
            const row = document.createElement("tr");
            const nameColumn = document.createElement("td");
            const catColumn = document.createElement("td");
            const modifyColumn = document.createElement("td");
            row.appendChild(nameColumn);
            row.appendChild(catColumn);
            row.appendChild(modifyColumn);
            body.appendChild(row);
            nameColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(settings[0]));
            var categories = "";
            settings[2].forEach(category => {
                if (!category[0]) {
                    return;
                }
                categories += category[0] + ", ";
                return;
            });
            categories = categories.slice(0, -2);
            catColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(categories));
            modifyColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["q" /* createSmallButton */])("edit", createAddInterface, [sortObj, tile, pmmgSettings, parameters, settings]));
            modifyColumn.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["q" /* createSmallButton */])("delete", function (pmmgSettings, row, settings) {
                for (var i = 0; i < pmmgSettings["PMMGExtended"]["sorting"].length; i++) {
                    if (pmmgSettings["PMMGExtended"]["sorting"][i] == settings) {
                        pmmgSettings["PMMGExtended"]["sorting"].splice(i, 1);
                        row.style.display = "none";
                        Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
                        break;
                    }
                }
            }, [pmmgSettings, row, settings]));
            return;
        });
        if (!isSorting) {
            var line = document.createElement("tr");
            const textColumn = document.createElement("td");
            textColumn.colSpan = 3;
            textColumn.textContent = "No Sorting Options";
            line.appendChild(textColumn);
            body.appendChild(line);
        }
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Sort;

function createAddInterface(sortObj, tile, pmmgSettings, parameters, settings = []) {
    const prefilled = settings.length != 0;
    const overlapDiv = document.createElement("div");
    overlapDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].OverlappingDiv);
    const greyStripes = document.createElement("div");
    greyStripes.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].GreyStripes);
    overlapDiv.appendChild(greyStripes);
    tile.insertBefore(overlapDiv, tile.firstChild);
    greyStripes.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["F" /* makePopupSpacer */])(tile, overlapDiv));
    const addInterfaceWrapper = document.createElement("div");
    addInterfaceWrapper.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].CenterInterface);
    greyStripes.appendChild(addInterfaceWrapper);
    const addInterface = document.createElement("div");
    addInterface.classList.add("NLOrH7hF5fbKIesqW3uSkA==");
    addInterfaceWrapper.appendChild(addInterface);
    const addHeader = document.createElement('h3');
    addHeader.appendChild(document.createTextNode("Sorting Options Editor"));
    addHeader.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSectionHead);
    addInterface.appendChild(addHeader);
    addHeader.style.margin = "0.5em 0 0.5em";
    const form = document.createElement("div");
    addInterface.appendChild(form);
    form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Abbreviation", prefilled ? settings[0] : "", "The abbreviation showing at the top of the inventory (ABC, CAT, etc.)"));
    if (prefilled) {
        for (var i = 0; i < settings[2].length; i++) {
            form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Category " + (i + 1) + " Name", prefilled ? settings[2][i][0] : "", i == 0 ? "The name of the first category for materials" : ""));
            form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Category " + (i + 1) + " MATs", prefilled ? settings[2][i][1].join(", ") : "", i == 0 ? "A list of materials in the first category. Separate tickers by a comma. (RAT, DW, etc.)" : ""));
        }
    }
    else {
        form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Category 1 Name", "", "The name of the first category for materials."));
        form.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Category 1 MATs", "", "A list of materials in the first category. Separate tickers by a comma. (RAT, DW, etc.)"));
    }
    const addRow = document.createElement("div");
    addRow.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveRow);
    form.appendChild(addRow);
    const addLabel = document.createElement("label");
    addLabel.textContent = "Add Category";
    addLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveLabel);
    addRow.appendChild(addLabel);
    const addInputDiv = document.createElement("div");
    addInputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveInput);
    addRow.appendChild(addInputDiv);
    const addButton = document.createElement("button");
    addButton.textContent = "ADD CATEGORY";
    addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    addInputDiv.appendChild(addButton);
    addButton.addEventListener("click", function () {
        const catNumber = (form.children.length - 3) / 2;
        form.insertBefore(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Category " + catNumber + " Name"), form.children[form.children.length - 4]);
        form.insertBefore(Object(__WEBPACK_IMPORTED_MODULE_0__util__["o" /* createPopupInputRow */])("Category " + catNumber + " MATs"), form.children[form.children.length - 4]);
    });
    const burnRow = Object(__WEBPACK_IMPORTED_MODULE_0__util__["n" /* createPopupCheckboxRow */])("Burn Sorting", settings[3] || false, "Add burn sorting as a secondary sorting method. Burn categories will show under the categories defined above.");
    form.appendChild(burnRow);
    const zeroRow = Object(__WEBPACK_IMPORTED_MODULE_0__util__["n" /* createPopupCheckboxRow */])("Show Zeros", settings[4] || false, "Show item icons that have zero quantity.");
    form.appendChild(zeroRow);
    const saveRow = document.createElement("div");
    saveRow.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveRow);
    form.appendChild(saveRow);
    const saveLabel = document.createElement("label");
    saveLabel.textContent = "CMD";
    saveLabel.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveLabel);
    saveRow.appendChild(saveLabel);
    const saveInputDiv = document.createElement("div");
    saveInputDiv.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].FormSaveInput);
    saveRow.appendChild(saveInputDiv);
    const saveButton = document.createElement("button");
    saveButton.textContent = "SAVE";
    saveButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    saveButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    saveInputDiv.appendChild(saveButton);
    saveButton.addEventListener("click", function () {
        const itemAbbreviation = Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.firstChild);
        const sortingInfo = [];
        for (var i = 1; i < form.children.length - 4; i += 2) {
            if (!form.children[i] || !form.children[i + 1]) {
                break;
            }
            if (Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.children[i]) == "" || Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.children[i + 1]) == "") {
                continue;
            }
            sortingInfo.push([Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.children[i]), Object(__WEBPACK_IMPORTED_MODULE_0__util__["E" /* getValueOfPopupRow */])(form.children[i + 1]).replace(/ /g, "").split(",")]);
        }
        tile.removeChild(overlapDiv);
        if (!itemAbbreviation) {
            return;
        }
        if (prefilled) {
            for (var i = 0; i < pmmgSettings["PMMGExtended"]["sorting"].length; i++) {
                if (pmmgSettings["PMMGExtended"]["sorting"][i] == settings) {
                    pmmgSettings["PMMGExtended"]["sorting"][i] = [itemAbbreviation, parameters[1], sortingInfo, Object(__WEBPACK_IMPORTED_MODULE_0__util__["B" /* getCheckOfPopupRow */])(burnRow), Object(__WEBPACK_IMPORTED_MODULE_0__util__["B" /* getCheckOfPopupRow */])(zeroRow)];
                    break;
                }
            }
        }
        else {
            pmmgSettings["PMMGExtended"]["sorting"].push([itemAbbreviation, parameters[1], sortingInfo, Object(__WEBPACK_IMPORTED_MODULE_0__util__["B" /* getCheckOfPopupRow */])(burnRow), Object(__WEBPACK_IMPORTED_MODULE_0__util__["B" /* getCheckOfPopupRow */])(zeroRow)]);
        }
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(pmmgSettings);
        sortObj.create_buffer();
        return;
    });
    greyStripes.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["F" /* makePopupSpacer */])(tile, overlapDiv));
}


/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

class Start {
    constructor(tile) {
        this.name = "PMMG INTRODUCTION";
        this.tile = tile;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        this.tile.style.fontSize = "12px";
        this.tile.style.paddingLeft = "2px";
        const welcome = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Thank you for using PMMG Extended!");
        welcome.classList.add("title");
        welcome.style.paddingLeft = "0";
        this.tile.appendChild(welcome);
        this.tile.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("This is a short tutorial on how to get the most out of the extension."));
        const websiteLinkDiv = document.createElement("div");
        websiteLinkDiv.style.paddingTop = "15px";
        this.tile.appendChild(websiteLinkDiv);
        websiteLinkDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Details on what PMMG offers can be found here: "));
        const websiteLink = document.createElement("a");
        websiteLink.href = "https://sites.google.com/view/pmmgextended/home?authuser=0";
        websiteLink.target = "_blank";
        websiteLink.style.display = "inline-block";
        websiteLink.classList.add("link");
        websiteLink.textContent = "PMMG Extended";
        websiteLinkDiv.appendChild(websiteLink);
        const helpDiv = document.createElement("div");
        this.tile.appendChild(helpDiv);
        helpDiv.style.paddingTop = "15px";
        helpDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("You can find a list of all of the PMMG commands using "));
        const helpLink = Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])("XIT HELP", "XIT HELP");
        helpLink.style.display = "inline-block";
        helpDiv.appendChild(helpLink);
        const settingsDiv = document.createElement("div");
        this.tile.appendChild(settingsDiv);
        settingsDiv.style.paddingTop = "15px";
        settingsDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("PMMG's settings can be accessed using "));
        const settingsLink = Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])("XIT SETTINGS", "XIT SETTINGS");
        settingsLink.style.display = "inline-block";
        settingsDiv.appendChild(settingsLink);
        const scanDiv = document.createElement("div");
        this.tile.appendChild(scanDiv);
        scanDiv.style.paddingTop = "15px";
        scanDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("To get PMMG to show you data about your space empire, you need to 'scan in' your bases by refreshing the page, then opening each of your production lines. You can check how much data has been scanned in using the XIT HEALTH buffer."));
        const finDiv = document.createElement("div");
        this.tile.appendChild(finDiv);
        finDiv.style.paddingTop = "15px";
        finDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Once you have scanned in your data, one of the biggest PMMG features is in the XIT FIN buffer. It tracks your finances more accurately than the in game FIN buffer."));
        const conclusionDiv = document.createElement("div");
        this.tile.appendChild(conclusionDiv);
        conclusionDiv.style.paddingTop = "15px";
        conclusionDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Contact PiBoy314 in game or on Discord if you have questions."));
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Start;



/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

class PrUN {
    constructor(tile) {
        this.name = "PRUN-CEPTION";
        this.tile = tile;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        const prun = document.createElement("iframe");
        prun.src = "https://apex.prosperousuniverse.com/#/";
        prun.width = "100%";
        prun.height = "100%";
        prun.style.borderWidth = "0";
        this.tile.appendChild(prun);
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["b"] = PrUN;

class Prosperity {
    constructor(tile, parameters) {
        this.name = "PROSPERITY";
        this.tile = tile;
        this.parameters = parameters;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        var url = "https://prosperity-prun.netlify.app/";
        if (this.parameters.length == 3) {
            url += "?from=" + this.parameters[1] + "&to=" + this.parameters[2];
        }
        const prosp = document.createElement("iframe");
        prosp.src = url;
        prosp.width = "100%";
        prosp.height = "100%";
        prosp.style.borderWidth = "0";
        this.tile.appendChild(prosp);
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["c"] = Prosperity;

class Sheets {
    constructor(tile, parameters) {
        this.name = "GOOGLE SHEETS";
        this.tile = tile;
        this.parameters = parameters;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        if (this.parameters.length < 2) {
            this.tile.textContent = "Error! Not Enough Parameters!";
            return;
        }
        for (var i = 2; i < this.parameters.length; i++) {
            this.parameters[1] += "_" + this.parameters[i];
        }
        const sheet = document.createElement("iframe");
        sheet.src = "https://docs.google.com/spreadsheets/d/" + this.parameters[1] + "/edit?usp=sharing";
        sheet.style.borderWidth = "0";
        sheet.style.height = "100%";
        sheet.style.width = "100%";
        this.tile.appendChild(sheet);
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["e"] = Sheets;

class Wiki {
    constructor(tile, parameters) {
        this.name = "PRUN WIKI";
        this.tile = tile;
        this.parameters = parameters;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        const frame = document.createElement("iframe");
        frame.src = this.parameters[1] && this.parameters[1].toLowerCase() == "resources" ? "https://handbook.apex.prosperousuniverse.com/wiki/community-resources/index.html" : "https://handbook.apex.prosperousuniverse.com/wiki/index.html";
        frame.style.borderWidth = "0";
        frame.style.height = "100%";
        frame.style.width = "100%";
        this.tile.appendChild(frame);
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["f"] = Wiki;

class PrunPlanner {
    constructor(tile, parameters) {
        this.name = "PRUN PLANNER";
        this.tile = tile;
        this.parameters = parameters;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        var link = "https://prunplanner.org";
        for (var i = 1; i < this.parameters.length; i++) {
            link += "/" + this.parameters[i];
        }
        const frame = document.createElement("iframe");
        frame.src = link;
        frame.style.borderWidth = "0";
        frame.style.height = "100%";
        frame.style.width = "100%";
        this.tile.appendChild(frame);
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["d"] = PrunPlanner;

class FIO {
    constructor(tile) {
        this.name = "FIO";
        this.tile = tile;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        const frame = document.createElement("iframe");
        frame.src = "https://fio.fnar.net/";
        frame.style.borderWidth = "0";
        frame.style.height = "100%";
        frame.style.width = "100%";
        this.tile.appendChild(frame);
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FIO;



/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GameProperties__ = __webpack_require__(3);



class Checklists {
    constructor(tile, parameters, pmmgResult, userInfo) {
        this.name = "CHECKLIST";
        this.tile = tile;
        this.parameters = parameters;
        this.pmmgResult = pmmgResult;
        this.userInfo = userInfo;
    }
    create_buffer() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(this.tile);
        if (this.parameters.length == 1) {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Checklists", generateCheckTable, this.tile);
        }
        else {
            const checkName = (this.parameters.slice(1)).join(" ");
            displayChecklist(this.tile, this.userInfo, checkName);
        }
        return;
    }
    update_buffer() {
    }
    destroy_buffer() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Checklists;

function generateCheckTable(result, tile) {
    if (!tile) {
        return;
    }
    if (!result["PMMG-Checklists"]) {
        result["PMMG-Checklists"] = {};
    }
    const tbody = Object(__WEBPACK_IMPORTED_MODULE_0__util__["r" /* createTable */])(tile, ["Name", "Incomplete", "Due Date", "Modify"]);
    if (Object.keys(result["PMMG-Checklists"]).length == 0) {
        const line = document.createElement("tr");
        const textColumn = document.createElement("td");
        textColumn.colSpan = 4;
        textColumn.textContent = "No Checklists";
        line.appendChild(textColumn);
        tbody.appendChild(line);
    }
    const checklistList = Object.entries(result["PMMG-Checklists"]);
    checklistList.sort(checklistDuedateSort);
    checklistList.forEach(obj => {
        const listName = obj[0];
        const checklist = obj[1];
        const row = document.createElement("tr");
        tbody.appendChild(row);
        const nameElem = document.createElement("td");
        nameElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(listName, "XIT CHECKLIST_" + listName.replace(/ /, "_")));
        row.appendChild(nameElem);
        var incomplete = 0;
        var duedate;
        checklist.forEach(condition => {
            if (!condition.completed) {
                incomplete++;
                if (condition.duedate && (!duedate || condition.duedate < duedate)) {
                    duedate = condition.duedate;
                }
            }
        });
        const incompleteElem = document.createElement("td");
        incompleteElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(incomplete.toLocaleString(undefined, { "maximumFractionDigits": 0 })));
        row.appendChild(incompleteElem);
        const duedateElem = document.createElement("td");
        duedateElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(duedate ? (new Date(duedate)).toLocaleDateString() : "--"));
        if (duedate && duedate < Date.now()) {
            duedateElem.style.color = __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Failure;
        }
        row.appendChild(duedateElem);
        const modifyElem = document.createElement("td");
        row.appendChild(modifyElem);
        const deleteButton = document.createElement("button");
        deleteButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
        deleteButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonDanger);
        modifyElem.appendChild(deleteButton);
        deleteButton.textContent = "delete";
        deleteButton.addEventListener("click", function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["N" /* showWarningDialog */])(tile, "Are you sure you want to delete this checklist?", "Confirm", function () {
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Checklists", deleteChecklist, [listName, tile]);
            });
        });
    });
    tile.style.minHeight = "auto";
    return;
}
function checklistDuedateSort(a, b) {
    const aDuedate = calculateDuedate(a[1]);
    const bDuedate = calculateDuedate(b[1]);
    if (aDuedate && bDuedate) {
        return aDuedate > bDuedate ? 1 : -1;
    }
    else if (aDuedate && !bDuedate) {
        return -1;
    }
    else {
        return 1;
    }
}
function calculateDuedate(checklist) {
    var duedate;
    checklist.forEach(condition => {
        if (!condition.completed) {
            if (condition.duedate && (!duedate || condition.duedate < duedate)) {
                duedate = condition.duedate;
            }
        }
    });
    return duedate;
}
function deleteChecklist(result, params) {
    if (!params[0] || !params[1]) {
        return;
    }
    const checklistName = params[0];
    const tile = params[1];
    if (!result["PMMG-Checklists"][checklistName]) {
        return;
    }
    delete result["PMMG-Checklists"][checklistName];
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(tile);
    generateCheckTable(result, tile);
}
function displayChecklist(tile, userInfo, checkName) {
    const nameDiv = document.createElement("div");
    nameDiv.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(checkName));
    nameDiv.classList.add("title");
    tile.appendChild(nameDiv);
    const checkDiv = document.createElement("div");
    tile.appendChild(checkDiv);
    const checklist = new Checklist(checkName, checkDiv, tile, userInfo);
    const addButton = document.createElement("button");
    addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].Button);
    addButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    tile.appendChild(addButton);
    addButton.style.margin = "5px";
    addButton.textContent = "ADD ITEM";
    addButton.addEventListener("click", function () {
        generateEditPopup(tile, checklist, userInfo);
    });
    return;
}
function generateEditPopup(tile, checklist, userInfo, info) {
    if (!info) {
        info = { "type": "Text", "completed": false, "id": generateRandomHexSequence(8), "created": Date.now() };
    }
    const popup = new __WEBPACK_IMPORTED_MODULE_0__util__["b" /* Popup */](tile, "Checklist Item Editor");
    popup.addPopupRow("dropdown", "Type", ["Text", "Resupply", "Repair", editPopupTypes[info.type]], "The type of checklist item being added.", updatePopupInfo, [popup, info, userInfo]);
    var date;
    if (info.duedate) {
        date = new Date(info.duedate);
        date.setMinutes(date.getMinutes() - date.getTimezoneOffset());
    }
    popup.addPopupRow("date", "Due Date", info.duedate ? date.toISOString().slice(0, 16) : undefined, undefined, updatePopupInfo, [popup, info, userInfo]);
    popup.addPopupRow("number", "Recurring Period", info.recurring, "How often the checklist item will be added back. Will not function without a due date.", updatePopupInfo, [popup, info, userInfo]);
    popup.addPopupRow("button", "CMD", "SAVE", "Save and add the checklist item.", addChecklistItem, [popup, info, checklist, userInfo]);
    popup.addPopupRow("button", "DELETE", "DELETE", "Delete the current checklist item.", deleteChecklistItem, [popup, info, checklist]);
    popup.getRowByName("DELETE").rowInput.classList.remove(__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonPrimary);
    popup.getRowByName("DELETE").rowInput.classList.add(__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].ButtonDanger);
    updatePopupInfo(null, [popup, info, userInfo, true]);
}
const editPopupTypes = {
    "Text": 0,
    "Resupply": 1,
    "Repair": 2
};
function updatePopupInfo(junk, params) {
    if (!params[0] || !params[1] || !params[2]) {
        return;
    }
    const popup = params[0];
    const info = params[1];
    const userInfo = params[2];
    const manuallyUpdate = params[3];
    const typeValue = popup.rows[0].rowInput.selectedOptions[0].value;
    if (info.type != typeValue || manuallyUpdate) {
        const numRows = popup.rows.length;
        for (var i = 3; i < numRows - 2; i++) {
            popup.removePopupRow(3);
        }
        if (typeValue == "Text") {
            popup.addPopupRow("text", "Text", info["name"], undefined, updatePopupInfo, [popup, info, userInfo]);
        }
        else if (typeValue == "Resupply") {
            var planetNames = [];
            if (userInfo["PMMG-User-Info"]["workforce"]) {
                planetNames = userInfo["PMMG-User-Info"]["workforce"].map(planet => planet.PlanetName);
            }
            if (info["planet"] && planetNames.includes(info["planet"]) && planetNames.length !== 1) {
                planetNames.push(planetNames.indexOf(info["planet"]));
            }
            popup.addPopupRow("dropdown", "Planet", planetNames, "The base to resupply.", updatePopupInfo, [popup, info, userInfo]);
            popup.addPopupRow("number", "Days", info["days"] ? info["days"].toString() : "0", "The number of days of supplies", updatePopupInfo, [popup, info, userInfo]);
        }
        else if (typeValue == "Repair") {
            var planetNames = [];
            if (userInfo["PMMG-User-Info"]["sites"]) {
                planetNames = userInfo["PMMG-User-Info"]["sites"].filter(site => site.type == "BASE").map(site => site.PlanetName);
            }
            if (info["planet"] && planetNames.includes(info["planet"]) && planetNames.length !== 1) {
                planetNames.push(planetNames.indexOf(info["planet"]));
            }
            popup.addPopupRow("dropdown", "Planet", planetNames, "The base to repair.", updatePopupInfo, [popup, info, userInfo]);
            popup.addPopupRow("number", "Threshold", info["days"] ? info["days"].toString() : "0", "The cutoff for the age of buildings displayed (in days)", updatePopupInfo, [popup, info, userInfo]);
        }
        popup.moveRowToBottom(3);
        popup.moveRowToBottom(3);
    }
    switch (typeValue) {
        case "Text":
            const textRow = popup.getRowByName("Text");
            if (textRow) {
                info["name"] = textRow.rowInput.value;
            }
            break;
        case "Resupply":
            var planetRow = popup.getRowByName("Planet");
            var daysRow = popup.getRowByName("Days");
            if (planetRow) {
                info["planet"] = planetRow.rowInput.selectedOptions[0].value;
            }
            if (daysRow) {
                info["days"] = daysRow.rowInput.value;
            }
            break;
        case "Repair":
            planetRow = popup.getRowByName("Planet");
            daysRow = popup.getRowByName("Threshold");
            if (planetRow) {
                info["planet"] = planetRow.rowInput.selectedOptions[0].value;
            }
            if (daysRow) {
                info["days"] = daysRow.rowInput.value;
            }
    }
    info["type"] = typeValue;
    info["duedate"] = popup.rows[1].rowInput.value == "" ? undefined : (new Date(popup.rows[1].rowInput.value)).getTime();
    info["recurring"] = popup.rows[2].rowInput.value == "" ? undefined : popup.rows[2].rowInput.value;
    return junk;
}
function deleteChecklistItem(params) {
    if (!params[0] || !params[1] || !params[2]) {
        return;
    }
    const popup = params[0];
    const info = params[1];
    const checklist = params[2];
    popup.destroy();
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Checklists", updateStoredChecklists, [info, checklist, true, false]);
    return;
}
function addChecklistItem(params) {
    if (!params[0] || !params[1] || !params[2] || !params[3]) {
        return;
    }
    const popup = params[0];
    const info = params[1];
    const checklist = params[2];
    const userInfo = params[3];
    switch (info.type) {
        case "Resupply":
            info.name = "Supply [[p:" + info["planet"] + "]] with " + info["days"] + " " + (info["days"] == "1" ? "day" : "days") + " of consumables.";
            const planetWorkforce = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(info["planet"], userInfo["PMMG-User-Info"]["workforce"]);
            const planetProduction = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(info["planet"], userInfo["PMMG-User-Info"]["production"]);
            const burn = Object(__WEBPACK_IMPORTED_MODULE_0__util__["d" /* calculateBurn */])(planetProduction, planetWorkforce, null);
            info["children"] = [];
            Object.keys(burn).forEach(mat => {
                if (burn[mat]["DailyAmount"] < 0) {
                    const amt = -burn[mat]["DailyAmount"] * parseFloat(info.days);
                    const child = {};
                    child.id = generateRandomHexSequence(8);
                    child.isChild = true;
                    child.name = amt.toLocaleString(undefined, { maximumFractionDigits: 0 }) + " [[m:" + mat + "]]";
                    info["children"].push(child);
                }
            });
            break;
        case "Repair":
            info.name = "Repair buildings on [[p:" + info["planet"] + "]] older than " + info["days"] + (info["days"] == "1" ? " day" : " days");
            const mats = {};
            const site = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(info["planet"], userInfo["PMMG-User-Info"]["sites"], true);
            info["children"] = [];
            if (site.buildings) {
                site.buildings.forEach(building => {
                    if (!__WEBPACK_IMPORTED_MODULE_2__GameProperties__["g" /* NonProductionBuildings */].includes(building.buildingTicker) && Date.now() - building.lastRepair > parseFloat(info.days) * 86400000) {
                        building.repairMaterials.forEach(mat => {
                            if (mats[mat.material.ticker]) {
                                mats[mat.material.ticker] += mat.amount;
                            }
                            else {
                                mats[mat.material.ticker] = mat.amount;
                            }
                        });
                    }
                });
            }
            Object.keys(mats).forEach(mat => {
                const child = {};
                child.id = generateRandomHexSequence(8);
                child.isChild = true;
                child.name = mats[mat].toLocaleString(undefined, { maximumFractionDigits: 0 }) + " [[m:" + mat + "]]";
                info["children"].push(child);
            });
            break;
    }
    popup.destroy();
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Checklists", updateStoredChecklists, [info, checklist]);
    return;
}
const generateRandomHexSequence = (length) => Array.from({ length }, () => '0123456789abcdef'[Math.floor(Math.random() * 16)]).join('');
function updateStoredChecklists(result, params) {
    if (!params[0] || !params[1]) {
        return;
    }
    const toUpdate = params[0];
    const checklist = params[1];
    const toDelete = params[2];
    const isChild = params[3];
    if (!result["PMMG-Checklists"]) {
        result["PMMG-Checklists"] = {};
    }
    if (!result["PMMG-Checklists"][checklist.name]) {
        result["PMMG-Checklists"][checklist.name] = [];
    }
    if (isChild) {
        const outerIndex = result["PMMG-Checklists"][checklist.name].findIndex(obj => obj.children && obj.children.findIndex(child => child.id == toUpdate.id) != -1);
        if (outerIndex == -1) {
            console.log("Bad Indexing in Checklist Children");
            return;
        }
        const innerIndex = result["PMMG-Checklists"][checklist.name][outerIndex].children.findIndex(child => child.id == toUpdate.id);
        if (innerIndex == -1 && !toDelete) {
            result["PMMG-Checklists"][checklist.name][outerIndex].children.push(toUpdate);
        }
        else if (innerIndex != -1) {
            if (toDelete) {
                result["PMMG-Checklists"][checklist.name][outerIndex].children.splice(innerIndex, 1);
            }
            else {
                result["PMMG-Checklists"][checklist.name][outerIndex].children[innerIndex] = toUpdate;
            }
        }
    }
    else {
        const index = result["PMMG-Checklists"][checklist.name].findIndex(obj => obj.id == toUpdate.id);
        if (index == -1 && !toDelete) {
            result["PMMG-Checklists"][checklist.name].push(toUpdate);
        }
        else if (index != -1) {
            if (toDelete) {
                result["PMMG-Checklists"][checklist.name].splice(index, 1);
            }
            else {
                result["PMMG-Checklists"][checklist.name][index] = toUpdate;
            }
        }
    }
    Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
    checklist.recreateCallback(result, checklist);
}
function createName(name) {
    name = name || "";
    const matches = [...name.matchAll(/\[\[([a-zA-Z]):([^:\]]+)\]\]/g)];
    const nameElem = document.createElement("span");
    var nameCopy = name;
    var cut = 0;
    matches.forEach(match => {
        nameElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(nameCopy.substring(0, match.index - cut)));
        var command;
        switch (match[1]) {
            case "m":
                command = "MAT " + match[2];
                break;
            case "p":
                command = "PLI " + match[2];
                break;
            default:
                nameElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(match[0]));
        }
        if (command) {
            const linkElem = Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(match[2], command);
            linkElem.style.display = "inline";
            nameElem.appendChild(linkElem);
        }
        nameCopy = nameCopy.slice(match.index + match[0].length - cut);
        cut = match.index + match[0].length;
    });
    nameElem.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(nameCopy));
    return nameElem;
}
class Checklist {
    constructor(name, checkDiv, tile, userInfo) {
        this.name = name;
        this.checkDiv = checkDiv;
        this.tile = tile;
        this.userInfo = userInfo;
        this.recreate();
    }
    recreate() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Checklists", this.recreateCallback, this);
    }
    recreateCallback(result, thisObject) {
        if (!result["PMMG-Checklists"]) {
            return;
        }
        const prevHeight = thisObject.checkDiv.getBoundingClientRect().height;
        thisObject.checkDiv.style.minHeight = prevHeight.toString() + "px";
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(thisObject.checkDiv);
        const checklistItems = [];
        if (result["PMMG-Checklists"][thisObject.name]) {
            result["PMMG-Checklists"][thisObject.name].forEach(checkInfo => {
                checklistItems.push(new CheckItem(checkInfo, thisObject));
            });
        }
        checklistItems.sort(checkSort);
        checklistItems.forEach(item => {
            thisObject.checkDiv.appendChild(item.item);
            if (item.children.length > 0) {
                item.children.forEach(child => {
                    thisObject.checkDiv.appendChild(child.item);
                });
            }
        });
        thisObject.checkDiv.style.minHeight = "auto";
    }
}
class CheckItem {
    constructor(checkInfo, checklist, isChild) {
        this.children = [];
        this.isChild = isChild;
        this.checkInfo = checkInfo;
        this.checklist = checklist;
        this.item = document.createElement("div");
        this.item.classList.add("check-item");
        this.item.style.marginTop = "5px";
        this.item.style.display = "flex";
        this.item.style.alignItems = "center";
        this.checkCircle = document.createElement("div");
        this.item.appendChild(this.checkCircle);
        this.checkCircle.innerHTML = checkInfo.completed ? filledCircle : unfilledCircle;
        this.checkCircle.style.marginRight = "5px";
        this.checkCircle.style.marginLeft = "5px";
        this.checkCircle.style.cursor = "pointer";
        if (isChild) {
            this.checkCircle.style.marginLeft = "20px";
        }
        const mainTextDiv = document.createElement("div");
        mainTextDiv.style.display = "flex";
        mainTextDiv.style.flexDirection = "column";
        mainTextDiv.style.flex = "1";
        this.checkText = createName(checkInfo.name);
        mainTextDiv.appendChild(this.checkText);
        if (checkInfo.duedate) {
            var dateText = (new Date(checkInfo.duedate)).toLocaleDateString();
            if (checkInfo.recurring) {
                dateText += " (every " + (checkInfo.recurring).toLocaleString(undefined, { maximumFractionDigits: 1 }) + " day" + (checkInfo.recurring == 1 ? ")" : "s)");
            }
            this.dateElem = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(dateText);
            this.dateElem.style.color = checkInfo.duedate < Date.now() && !checkInfo.completed ? __WEBPACK_IMPORTED_MODULE_1__Style__["h" /* TextColors */].Failure : "#787878";
            mainTextDiv.appendChild(this.dateElem);
        }
        else {
            this.checkText.style.marginTop = "-1px";
        }
        this.item.appendChild(mainTextDiv);
        const thisObject = this;
        if (!this.isChild) {
            this.editButton = document.createElement("button");
            this.editButton.textContent = "modify";
            this.editButton.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SmallButton);
            this.editButton.style.marginRight = "5px";
            this.item.appendChild(this.editButton);
            this.editButton.addEventListener("click", function () {
                generateEditPopup(checklist.tile, checklist, checklist.userInfo, thisObject.checkInfo);
            });
        }
        this.checkCircle.addEventListener('click', function () {
            thisObject.changeCheckedState();
        });
        if (checkInfo.children) {
            checkInfo.children.forEach(child => {
                if (child.invisible) {
                    return;
                }
                this.children.push(new CheckItem(child, checklist, true));
            });
        }
    }
    changeCheckedState() {
        this.checkInfo.completed = !this.checkInfo.completed;
        this.checkCircle.innerHTML = this.checkInfo.completed ? filledCircle : unfilledCircle;
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Checklists", updateStoredChecklists, [this.checkInfo, this.checklist, false, this.isChild]);
        const thisObject = this;
        setTimeout(function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Checklists", function (result) {
                if (!result["PMMG-Checklists"] || !result["PMMG-Checklists"][thisObject.checklist.name]) {
                    return;
                }
                var completed;
                if (thisObject.checkInfo.isChild) {
                    const parentIndex = result["PMMG-Checklists"][thisObject.checklist.name].findIndex(obj => obj.children && obj.children.findIndex(obj2 => obj2.id == thisObject.checkInfo.id) != -1);
                    const childIndex = parentIndex == -1 ? -1 : result["PMMG-Checklists"][thisObject.checklist.name][parentIndex].children.findIndex(obj => obj.id == thisObject.checkInfo.id);
                    completed = childIndex != -1 && result["PMMG-Checklists"][thisObject.checklist.name][parentIndex].children[childIndex].completed;
                }
                else {
                    const index = result["PMMG-Checklists"][thisObject.checklist.name].findIndex(obj => obj.id == thisObject.checkInfo.id);
                    completed = index != -1 && result["PMMG-Checklists"][thisObject.checklist.name][index].completed;
                }
                if (completed) {
                    var toDelete = true;
                    if (thisObject.checkInfo.isChild) {
                        thisObject.checkInfo.invisible = true;
                        toDelete = false;
                    }
                    else if (thisObject.checkInfo.recurring && thisObject.checkInfo.duedate) {
                        thisObject.checkInfo.duedate += thisObject.checkInfo.recurring * 86400000;
                        thisObject.checkInfo.completed = false;
                        toDelete = false;
                        if (thisObject.checkInfo.children) {
                            thisObject.checkInfo.children.forEach(child => {
                                child.invisible = false;
                                child.completed = false;
                            });
                        }
                    }
                    Object(__WEBPACK_IMPORTED_MODULE_0__util__["C" /* getLocalStorage */])("PMMG-Checklists", updateStoredChecklists, [thisObject.checkInfo, thisObject.checklist, toDelete, thisObject.isChild]);
                }
            });
        }, 2500);
    }
}
const unfilledCircle = `<svg width="15" height="15" viewBox = "10 10 80 80">
  <path d="M 50 10 A 40 40 0 1 0 50 90 A 40 40 0 1 0 50 10 Z M 50 20 A 30 30 0 1 1 50 80 A 30 30 0 1 1 50 20 Z" fill="#f7a600" stroke="none" stroke-width="0" />
</svg>`;
const filledCircle = `<svg width="15" height="15" viewBox = "10 10 80 80">
  <path d="M 50 10 A 40 40 0 1 0 50 90 A 40 40 0 1 0 50 10 Z M 50 20 A 30 30 0 1 1 50 80 A 30 30 0 1 1 50 20 Z" fill="#f7a600" stroke="none" stroke-width="0" /><circle cx="50" cy="50" r="20" fill="#f7a600" stroke="none" stroke-width="2" />
</svg>`;
function checkSort(a, b) {
    if (a.checkInfo.duedate && b.checkInfo.duedate) {
        return a.checkInfo.duedate > b.checkInfo.duedate ? 1 : -1;
    }
    else if (a.checkInfo.duedate && !b.checkInfo.duedate) {
        return -1;
    }
    else if (!a.checkInfo.duedate && b.checkInfo.duedate) {
        return 1;
    }
    else {
        return a.checkInfo.created > b.checkInfo.created ? 1 : -1;
    }
}


/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};

class Notes {
    constructor(tile, parameters) {
        this.name = "NOTE";
        this.tile = tile;
        this.parameters = parameters;
    }
    create_buffer() {
        CreateNotes(this.tile, this.parameters);
    }
    update_buffer() { }
    destroy_buffer() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Notes;

const StorageName = "PMMG-Notes";
function CreateNotes(tile, parameters) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!tile) {
            throw new Error("Parameter 'tile' is required.");
        }
        if (!parameters) {
            throw new Error("Parameter 'parameters' is required.");
        }
        if (!parameters[0]) {
            throw new Error("Parameter 'parameters' must contain one or more values.");
        }
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["g" /* clearChildren */])(tile);
        if (parameters.length == 1) {
            return yield displayNotesList(tile);
        }
        const noteName = parameters.slice(1).join("_");
        let nameDiv = document.createElement("div");
        nameDiv.classList.add("title", "note-title");
        nameDiv.textContent = noteName;
        nameDiv.style.paddingLeft = "10px";
        tile.append(nameDiv);
        const textbox = document.createElement("textarea");
        textbox.classList.add("pb-edit-div");
        textbox.contentEditable = "true";
        tile.appendChild(textbox);
        yield displayStoredNote(textbox, noteName);
    });
}
function displayNotesList(tile) {
    return __awaiter(this, void 0, void 0, function* () {
        return Object(__WEBPACK_IMPORTED_MODULE_0__util__["D" /* getLocalStoragePromise */])(StorageName)
            .then(value => {
            generateNotesTable(value[StorageName], tile);
        });
    });
}
function generateNotesTable(notesStorage, tile) {
    if (!tile) {
        throw new Error("Parameter 'tile' is required.");
    }
    const notesTable = document.createElement("table");
    const thead = document.createElement("thead");
    const tr = document.createElement("tr");
    thead.append(tr);
    notesTable.append(thead);
    for (const title of ["Name", "Length", "Delete"]) {
        const th = document.createElement("th");
        th.textContent = title;
        th.style.paddingTop = "0";
        tr.append(th);
    }
    const tbody = document.createElement("tbody");
    notesTable.append(tbody);
    if (!notesStorage) {
        const tr = document.createElement("tr");
        tbody.append(tr);
        const td = document.createElement("td");
        td.colSpan = 3;
        td.textContent = "No Notes";
        tr.append(td);
        return;
    }
    const names = Array.from(Object.keys(notesStorage));
    names.forEach(noteName => {
        const noteText = notesStorage[noteName];
        const row = document.createElement("tr");
        tbody.append(row);
        const nameColumn = document.createElement("td");
        const lengthColumn = document.createElement("td");
        const buttonsColumn = document.createElement("td");
        row.append(nameColumn, lengthColumn, buttonsColumn);
        const openNoteLink = Object(__WEBPACK_IMPORTED_MODULE_0__util__["k" /* createLink */])(noteName, "XIT NOTES_" + noteName);
        nameColumn.append(openNoteLink);
        const noteCounter = document.createElement("div");
        noteCounter.innerHTML = noteText;
        const innerText = noteCounter.textContent || "";
        let lengthText = `${innerText.length.toLocaleString()} character`;
        if (noteText.length != 1)
            lengthText += "s";
        lengthColumn.append(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(lengthText));
        const deleteButton = document.createElement("button");
        deleteButton.classList.add("delete-button");
        deleteButton.textContent = "DELETE";
        deleteButton.addEventListener("click", function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["N" /* showWarningDialog */])(tile, `Are you sure you want to delete the note "${noteName}"?`, "Confirm", function () {
                saveNote(noteName, null)
                    .then(() => {
                    row.remove();
                });
            });
        });
        buttonsColumn.append(deleteButton);
    });
    tile.append(notesTable);
}
function saveNote(noteName, noteText) {
    return __awaiter(this, void 0, void 0, function* () {
        let storage = yield Object(__WEBPACK_IMPORTED_MODULE_0__util__["D" /* getLocalStoragePromise */])(StorageName);
        if (!storage) {
            storage = {};
        }
        if (!noteText || noteText.length === 0) {
            storage[StorageName][noteName] = undefined;
        }
        else {
            storage[StorageName][noteName] = noteText;
        }
        return yield Object(__WEBPACK_IMPORTED_MODULE_0__util__["K" /* setLocalStoragePromise */])(storage);
    });
}
function displayStoredNote(textbox, noteName) {
    var _a;
    return __awaiter(this, void 0, void 0, function* () {
        let storageValue = yield Object(__WEBPACK_IMPORTED_MODULE_0__util__["D" /* getLocalStoragePromise */])(StorageName);
        let notesStorage = storageValue[StorageName];
        if (!notesStorage) {
            notesStorage = {};
        }
        var noteText = (_a = notesStorage[noteName]) !== null && _a !== void 0 ? _a : "";
        textbox.addEventListener("input", () => {
            noteText = textbox.value;
            saveNote(noteName, noteText)
                .catch(reason => {
                console.error("Failed to save note to local storage: %o", reason);
            });
            console.log(noteText);
        });
        renderNoteText(textbox, noteText);
    });
}
function renderNoteText(textbox, noteText) {
    textbox.value = noteText;
}


/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(0);


class OrderETAs {
    constructor() {
        this.tag = "pb-order-eta";
    }
    cleanup() {
        Object(__WEBPACK_IMPORTED_MODULE_1__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        this.beautifyOrders();
    }
    beautifyOrders() {
        const elements = Array.from(document.querySelectorAll(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].ProdQueue));
        elements.forEach(queue => {
            const prodSlots = Array.from(queue.children);
            var inQueue = false;
            var lineTimes = [];
            var timeElapsed = 0;
            prodSlots.forEach(prodItem => {
                if (prodItem.classList.contains(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].ProdItem)) {
                    try {
                        var duration;
                        if (inQueue) {
                            if (prodItem.children[0].children.length < 2) {
                                return;
                            }
                            lineTimes.sort(function (a, b) { return a - b; });
                            const minTime = lineTimes[0];
                            timeElapsed += minTime;
                            lineTimes.shift();
                            lineTimes = lineTimes.map(function (value) { return value - minTime; });
                            duration = Object(__WEBPACK_IMPORTED_MODULE_1__util__["H" /* parseDuration */])(prodItem.children[0].children[1].children[0].textContent);
                            lineTimes.push(duration);
                            if (!isNaN(duration + timeElapsed)) {
                                prodItem.children[0].children[1].appendChild(Object(__WEBPACK_IMPORTED_MODULE_1__util__["t" /* createTextSpan */])(` (${Object(__WEBPACK_IMPORTED_MODULE_1__util__["h" /* convertDurationToETA */])(duration + timeElapsed)})`, this.tag));
                            }
                        }
                        else {
                            duration = Object(__WEBPACK_IMPORTED_MODULE_1__util__["H" /* parseDuration */])(prodItem.children[1].children[1].children[0].textContent);
                            lineTimes.push(duration);
                            if (!isNaN(duration)) {
                                prodItem.children[1].children[1].appendChild(Object(__WEBPACK_IMPORTED_MODULE_1__util__["t" /* createTextSpan */])(` (${Object(__WEBPACK_IMPORTED_MODULE_1__util__["h" /* convertDurationToETA */])(duration)})`, this.tag));
                            }
                        }
                    }
                    catch (TypeError) {
                    }
                }
                else {
                    inQueue = true;
                }
            });
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = OrderETAs;



/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export generateBurns */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);


class ConsumableTimers {
    constructor(thresholds, userInfo) {
        this.thresholds = thresholds;
        this.userInfo = userInfo;
    }
    cleanup() {
        return;
    }
    run() {
        const buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("WF");
        if (!buffers) {
            return;
        }
        ;
        buffers.forEach(buffer => {
            generateBurns(buffer, this.thresholds || [3, 7], this.userInfo);
        });
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ConsumableTimers;

function generateBurns(buffer, thresholds, userInfo) {
    if (!userInfo["PMMG-User-Info"]) {
        return;
    }
    const workforce = userInfo["PMMG-User-Info"]["workforce"];
    const inventories = userInfo["PMMG-User-Info"]["storage"];
    if (buffer.classList.contains("pb-loaded")) {
        return;
    }
    const nameElem = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].WorkforceConsumptionTable);
    if (!nameElem || !nameElem.textContent)
        return;
    const name = Object(__WEBPACK_IMPORTED_MODULE_0__util__["G" /* parseBaseName */])(nameElem.textContent);
    if (!name) {
        return;
    }
    const headers = Array.from(buffer.querySelectorAll("table > thead > tr"));
    headers.forEach(header => {
        const totalHeader = header.children[2];
        const burnHeader = header.children[3];
        totalHeader.textContent = "Total";
        if (burnHeader.children != undefined && burnHeader.children[0] != undefined) {
            burnHeader.removeChild(burnHeader.children[0]);
        }
        burnHeader.textContent = "Burn";
    });
    const planetWorkforce = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(name, workforce);
    const planetInv = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(name, inventories, true);
    const planetBurn = Object(__WEBPACK_IMPORTED_MODULE_0__util__["d" /* calculateBurn */])(null, planetWorkforce, planetInv);
    const elements = Array.from(buffer.querySelectorAll("table > tbody > tr"));
    elements.forEach(targetRow => {
        if (targetRow.childElementCount < 5) {
            return;
        }
        const outputData = targetRow.children[4];
        const totalData = targetRow.children[3];
        if (outputData.textContent != "") {
            const ticker = targetRow.children[0].textContent;
            if (!ticker) {
                return;
            }
            const burnAmount = planetBurn[ticker] ? planetBurn[ticker]["DailyAmount"] : 0;
            var daysLeft = planetBurn[ticker] ? planetBurn[ticker]["DaysLeft"] : 0;
            if (burnAmount != 0) {
                if (daysLeft <= thresholds[0]) {
                    if (!outputData.classList.contains("burn-red"))
                        outputData.classList.add("burn-red");
                }
                else if (daysLeft <= thresholds[1]) {
                    if (!outputData.classList.contains("burn-yellow"))
                        outputData.classList.add("burn-yellow");
                }
                else if (daysLeft >= 500) {
                    if (!outputData.classList.contains("burn-green")) {
                        outputData.classList.add("burn-green");
                        daysLeft = "âˆž";
                    }
                }
                else {
                    if (!outputData.classList.contains("burn-green"))
                        outputData.classList.add("burn-green");
                }
                if (!isNaN(daysLeft)) {
                    daysLeft = daysLeft.toFixed(0);
                }
                if (daysLeft == 1) {
                    daysLeft += " Day";
                }
                else {
                    daysLeft += " Days";
                }
            }
            else {
                daysLeft = "";
            }
            var firstChild = outputData.firstChild;
            if (firstChild != null) {
                outputData.removeChild(firstChild);
            }
            outputData.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(daysLeft));
            firstChild = totalData.firstChild;
            if (firstChild != null) {
                totalData.removeChild(firstChild);
            }
            totalData.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(burnAmount == 0 ? "" : (-burnAmount).toFixed(2)));
        }
    });
    buffer.classList.add("pb-loaded");
    return;
}


/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

class FleetETAs {
    constructor() {
        this.tag = "pb-flt-eta";
    }
    cleanup() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        const buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("FLT");
        if (buffers == undefined)
            return;
        for (let buffer of buffers) {
            const elements = Array.from(buffer.querySelectorAll("table > tbody > tr"));
            elements.forEach(targetRow => {
                const etaData = targetRow.children[7];
                if (etaData.textContent != "") {
                    const eta = Object(__WEBPACK_IMPORTED_MODULE_0__util__["h" /* convertDurationToETA */])(Object(__WEBPACK_IMPORTED_MODULE_0__util__["H" /* parseDuration */])(etaData.textContent));
                    etaData.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(` (${eta})`, this.tag));
                }
            });
        }
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FleetETAs;



/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GameProperties__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util__ = __webpack_require__(0);



class PostLM {
    constructor(webData) {
        this.cleanups = [];
        this.tag = "pb-post-lm-price";
        this.webData = webData;
    }
    cleanup() {
        this.cleanups.forEach((f, i) => {
            f();
            delete this.cleanups[i];
        });
        Object(__WEBPACK_IMPORTED_MODULE_2__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        Array.from(document.querySelectorAll(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].LMPostForm)).forEach(form => {
            const type = Array.from(form.getElementsByClassName("StaticInput__static___Vpn1u0n forms__static___a4biDi4"));
            var shipping = false;
            for (let elem of type) {
                if (elem.textContent == "SHIPPING") {
                    shipping = true;
                    break;
                }
            }
            const commodity = document.evaluate("div[label/span[text()='Commodity']]//input", form, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
            const amountInput = document.evaluate("div[label/span[text()='Amount']]//input", form, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
            const totalPriceInput = document.evaluate("div[label/span[text()='Total price']]//input", form, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
            const currencyInput = document.evaluate("div[label/span[text()='Currency']]//select", form, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
            var displayElement = Object(__WEBPACK_IMPORTED_MODULE_2__util__["t" /* createTextSpan */])("--", this.tag);
            if (shipping && commodity.value != "") {
                totalPriceInput.parentNode.insertBefore(displayElement, totalPriceInput);
                const calculatePricePerUnit = () => {
                    const amount = parseInt(amountInput.value);
                    const total = parseFloat(totalPriceInput.value);
                    const matInfo = __WEBPACK_IMPORTED_MODULE_1__GameProperties__["f" /* Materials */][commodity.value];
                    const currency = currencyInput.value;
                    var currencySymbol;
                    if (currency != undefined) {
                        currencySymbol = __WEBPACK_IMPORTED_MODULE_1__GameProperties__["a" /* CurrencySymbols */][currency];
                    }
                    else {
                        currencySymbol = "";
                    }
                    if (currencySymbol == undefined) {
                        currencySymbol = "";
                    }
                    if (matInfo == undefined || matInfo == null) {
                        return;
                    }
                    const unit = matInfo[1] >= matInfo[2] ? "t" : "mÂ³";
                    const weightvolume = Math.max(matInfo[1], matInfo[2]);
                    if (isNaN(weightvolume) || isNaN(total)) {
                        displayElement.textContent = "-- t | " + currencySymbol + "-- / t";
                    }
                    else {
                        displayElement.textContent = (amount * weightvolume).toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 }) + " " + unit + " | " + currencySymbol + (total / (amount * weightvolume)).toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 }) + " / " + unit;
                    }
                };
                calculatePricePerUnit();
            }
            else if (!this.webData["custom_prices"] || Object.keys(this.webData["custom_prices"]).length == 0) {
                totalPriceInput.parentNode.insertBefore(displayElement, totalPriceInput);
                const calculatePricePerUnit = () => {
                    const amount = parseInt(amountInput.value);
                    const total = parseFloat(totalPriceInput.value);
                    const currency = currencyInput.value;
                    var currencySymbol;
                    if (currency) {
                        currencySymbol = __WEBPACK_IMPORTED_MODULE_1__GameProperties__["a" /* CurrencySymbols */][currency];
                    }
                    else {
                        currencySymbol = "";
                    }
                    if (!currencySymbol) {
                        currencySymbol = "";
                    }
                    if (isNaN(total) || isNaN(amount)) {
                        return;
                    }
                    displayElement.textContent = currencySymbol + (total / amount).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + " ea";
                    return;
                };
                calculatePricePerUnit();
            }
            else if (commodity.value && __WEBPACK_IMPORTED_MODULE_1__GameProperties__["f" /* Materials */][commodity.value]) {
                totalPriceInput.parentNode.insertBefore(displayElement, totalPriceInput);
                const calculatePricePerUnit = () => {
                    const amount = parseInt(amountInput.value);
                    const total = parseFloat(totalPriceInput.value);
                    const currency = currencyInput.value;
                    var currencySymbol;
                    if (!currency) {
                        currencySymbol = __WEBPACK_IMPORTED_MODULE_1__GameProperties__["a" /* CurrencySymbols */][currency] || "";
                    }
                    else {
                        currencySymbol = "";
                    }
                    var price = __WEBPACK_IMPORTED_MODULE_1__GameProperties__["f" /* Materials */][commodity.value] ? this.webData["custom_prices"][__WEBPACK_IMPORTED_MODULE_1__GameProperties__["f" /* Materials */][commodity.value][0]] : "";
                    if (!price) {
                        price = "";
                    }
                    else if (isNaN(amount)) {
                        price = "";
                    }
                    else {
                        price = " | " + (price * amount).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + " Total";
                    }
                    displayElement.textContent = currencySymbol + (total / amount).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + " ea" + (price);
                };
                calculatePricePerUnit();
            }
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PostLM;



/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(0);


class ShippingAds {
    constructor() {
        this.tag = "pb-shipping-ads";
    }
    cleanup() {
        Object(__WEBPACK_IMPORTED_MODULE_1__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        const elements = document.querySelectorAll(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].LMCommodityAdText);
        for (let i = 0; i < elements.length; i++) {
            const element = elements[i];
            const text = element.textContent;
            const matches = text && text.match(/(?:SHIPPING)\s([\d,.]+)t\s\/\s([\d,.]+)mÂ³\s@\s([\d,.]+)\s[A-Z]+\sfrom/);
            if (matches && matches.length > 3) {
                const totalCost = matches[3];
                const tonnage = parseFloat(matches[1].replace(/[,.]/g, '')) / 100;
                const size = parseFloat(matches[2].replace(/[,.]/g, '')) / 100;
                var unit;
                var count;
                if (tonnage > size) {
                    unit = 't';
                    count = tonnage;
                }
                else {
                    unit = 'mÂ³';
                    count = size;
                }
                const totalCents = parseInt(totalCost.replace(/[,.]/g, ''));
                const perItem = (totalCents / count / 100).toLocaleString(undefined, { maximumFractionDigits: 2 });
                const priceSpan = element.querySelector(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].LMCommodityAdPriceSpan);
                priceSpan.appendChild(Object(__WEBPACK_IMPORTED_MODULE_1__util__["t" /* createTextSpan */])(` (${perItem}/${unit})`, this.tag));
            }
        }
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ShippingAds;



/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(0);


class QueueLoad {
    constructor() {
        this.tag = "pb-queue-load";
    }
    cleanup() {
        Object(__WEBPACK_IMPORTED_MODULE_1__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        this.calculateQueueLoad();
    }
    getEtaFromRow(row) {
        const etaCell = row.querySelectorAll("td").item(5);
        if (etaCell) {
            const etaSpan = etaCell.querySelector("span");
            if (etaSpan) {
                const eta = Object(__WEBPACK_IMPORTED_MODULE_1__util__["H" /* parseDuration */])(etaSpan.textContent);
                return eta;
            }
        }
        return 0;
    }
    calculateQueueLoad() {
        const tables = Array.from(document.querySelectorAll(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].ProdQueueTable));
        tables.forEach(table => {
            const rows = Array.from(table.querySelectorAll("tbody:nth-of-type(2) > tr"));
            const totalTime = rows.reduce((total, row) => {
                const n = this.getEtaFromRow(row);
                return total + n;
            }, 0);
            if (totalTime > 0) {
                rows.forEach(row => {
                    const eta = this.getEtaFromRow(row);
                    const percent = (eta / totalTime * 100).toLocaleString(undefined, { maximumFractionDigits: 2 });
                    const textField = row.querySelectorAll("td").item(6);
                    if (textField && eta > 0) {
                        const span = Object(__WEBPACK_IMPORTED_MODULE_1__util__["t" /* createTextSpan */])(` ${percent}%`, this.tag);
                        textField.appendChild(span);
                    }
                });
            }
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = QueueLoad;



/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GameProperties__ = __webpack_require__(3);



class Notifications {
    constructor() {
        this.tag = "pb-nots";
    }
    cleanup(full = false) {
        full && Object(__WEBPACK_IMPORTED_MODULE_1__util__["z" /* genericCleanup */])(this.tag);
        return;
    }
    run() {
        const elements = document.querySelectorAll(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].Notification);
        elements.forEach(element => {
            if (element.firstChild && element.firstChild.classList.contains(this.tag)) {
                return;
            }
            const textContent = element.children[0].textContent;
            if (textContent == null) {
                return;
            }
            const text = textContent.toLowerCase();
            var foundType = false;
            Searchers.forEach(search => {
                if (foundType) {
                    return;
                }
                const match = text.match(new RegExp(search[0]));
                if (match != null) {
                    foundType = true;
                    const typeSpan = document.createElement("div");
                    typeSpan.textContent = search[1].toUpperCase();
                    typeSpan.classList.add(this.tag);
                    typeSpan.classList.add("notification");
                    typeSpan.style.color = search[2];
                    element.insertBefore(typeSpan, element.children[0]);
                    var matches;
                    var notText = element.children[1].textContent;
                    if (notText == null) {
                        return;
                    }
                    notText = notText.replace(/Chamber of Global Commerce/, "COGC");
                    switch (search[0]) {
                        case "produced":
                            notText = notText.replace(/at your base /, "");
                            notText = notText.replace(/One /, "1 ");
                            notText = notText.replace(/ have been/, "");
                            notText = notText.replace(/ unit[s]? of/, "");
                            matches = notText.match(/ ([A-z -]+) produced/);
                            if (matches != null && matches[1] != undefined && __WEBPACK_IMPORTED_MODULE_2__GameProperties__["f" /* Materials */][matches[1]] != undefined) {
                                notText = notText.replace(new RegExp(matches[1]), __WEBPACK_IMPORTED_MODULE_2__GameProperties__["f" /* Materials */][matches[1]][0]);
                            }
                            break;
                        case "trade":
                            matches = notText.match(/your ([A-z -]+) order/);
                            if (matches != null && matches[1] != undefined && __WEBPACK_IMPORTED_MODULE_2__GameProperties__["f" /* Materials */][matches[1]] != undefined) {
                                notText = notText.replace(new RegExp(matches[1]), __WEBPACK_IMPORTED_MODULE_2__GameProperties__["f" /* Materials */][matches[1]][0]);
                            }
                        case "order filled":
                            notText = notText.replace(/ Commodity Exchange/, "");
                            matches = notText.match(/([A-z -]+) order/);
                            if (matches != null && matches[1] != undefined && __WEBPACK_IMPORTED_MODULE_2__GameProperties__["f" /* Materials */][matches[1]] != undefined) {
                                notText = notText.replace(new RegExp(matches[1]), __WEBPACK_IMPORTED_MODULE_2__GameProperties__["f" /* Materials */][matches[1]][0]);
                            }
                            break;
                        case "accepted":
                            notText = notText.replace(/ the/, "");
                            notText = notText.replace(/ local market/, "");
                            break;
                        case "contract":
                            notText = notText.replace(/Your partner /, "");
                            break;
                        case "arrived at":
                            notText = notText.replace(/its destination /, "");
                            break;
                        case "cogc":
                        case "chamber of global commerce":
                            notText = notText.replace(/ a new economic program/, "");
                            notText = notText.replace(/ Advertising Campaign:/, "");
                            break;
                    }
                    element.children[1].textContent = notText;
                }
            });
        });
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Notifications;

const Searchers = [
    ["contract", "contract", "rgb(247, 166, 0)"],
    ["our corporation", "corp", "#8f52cc"],
    ["accepted our invitation", "corp", "#8f52cc"],
    ["produced", "produced", "#3fa2de"],
    ["accepted", "advert", "#449c57"],
    ["expired", "advert", "#449c57"],
    ["trade", "trade", "#008000"],
    ["order filled", "order", "#cc2929"],
    ["arrived at", "arrival", "#b336b3"],
    ["report", "report", "#00aa77"],
    ["election", "election", "#8f52cc"],
    ["governor", "governor", "#8f52cc"],
    ["rules", "rules", "#8f52cc"],
    ["cogc", "COGC", "#8f52cc"],
    ["chamber of global commerce", "COGC", "#8f52cc"],
    ["expert", "expert", "#ff8a00"],
    ["population infrastructure project", "POPI", "#8f52cc"],
    ["apex", "update", "#00aa77"],
    ["warehous", "war", "#cc2929"],
    ["shipbuilding project", "ship", "#8f52cc"],
    ["planetary project", "infra", "#8f52cc"],
    ["consumable supplies", "supplies", "#b37b32"]
];


/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["b"] = getPrices;
/* harmony export (immutable) */ __webpack_exports__["a"] = getCXPrices;
/* unused harmony export getBurn */
/* unused harmony export getGroupBurn */
/* unused harmony export getBurnSettings */
/* unused harmony export getCXOS */
/* unused harmony export getContracts */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

function getPrices(webData, sheetURL, sheetName) {
    if (!sheetURL || !sheetName) {
        return;
    }
    var xhr = new XMLHttpRequest();
    xhr.ontimeout = function () {
        console.log("PMMG: Custom Prices Timeout");
    };
    xhr.onreadystatechange = function () {
        if (xhr.readyState == XMLHttpRequest.DONE) {
            try {
                webData["custom_prices"] = {};
                console.log("PMMG: Retreived Custom Prices");
                var priceData = JSON.parse(xhr.responseText);
                if (priceData.error) {
                    console.log("PMMG: Custom Prices " + priceData.error);
                    return;
                }
                else if (!priceData.prices) {
                    console.log("PMMG: No Data from Custom Prices");
                }
                priceData.prices.forEach(price => {
                    webData["custom_prices"][price[0]] = price[1];
                });
                console.log(webData["custom_prices"]);
            }
            catch (SyntaxError) {
                console.log("PMMG: Bad Data from Custom Prices");
            }
        }
        return;
    };
    const sheetID = sheetURL.match(/\/d\/([^\/]+)/);
    if (!sheetID || !sheetID[1]) {
        return;
    }
    var address = "https://script.google.com/macros/s/AKfycbwdxGx-OBVslFeXSSv-F_d55X_BTPs20vTMNiT8D9eIAkbcckXh9XAkX9fdBMIv1XrY/exec?id=" + sheetID[1] + "&sheet=" + sheetName;
    xhr.timeout = 10000;
    xhr.open("GET", address, true);
    xhr.send(null);
    return;
}
function getCXPrices(userInfo) {
    var xhr = new XMLHttpRequest();
    xhr.ontimeout = function () {
        console.log("PMMG: CX Price Timeout");
    };
    xhr.onreadystatechange = function () {
        if (xhr.readyState == XMLHttpRequest.DONE) {
            try {
                console.log("PMMG: Retreived CX Prices");
                var priceData = JSON.parse(xhr.responseText);
                const wantedResults = ["AskPrice", "BidPrice", "Average", "AskAvail", "BidAvail"];
                const CXs = ["AI1", "CI1", "CI2", "IC1", "NC1", "NC2"];
                userInfo["PMMG-User-Info"]["cx_prices"] = {};
                CXs.forEach(CX => {
                    userInfo["PMMG-User-Info"]["cx_prices"][CX] = {};
                    wantedResults.forEach(wanted => {
                        userInfo["PMMG-User-Info"]["cx_prices"][CX][wanted] = {};
                        priceData.forEach(mat => {
                            userInfo["PMMG-User-Info"]["cx_prices"][CX][wanted][mat["Ticker"]] = mat[CX + "-" + wanted];
                        });
                    });
                });
                userInfo["PMMG-User-Info"]["cx_prices"]["Age"] = Date.now();
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(userInfo);
            }
            catch (SyntaxError) {
                console.log("PMMG: Bad Data from Rain Prices");
            }
        }
        return;
    };
    xhr.timeout = 10000;
    xhr.open("GET", "https://rest.fnar.net" + "/rain/prices", true);
    xhr.send(null);
    return;
}
function getBurn(webData, username, apikey) {
    if (!webData["burn"]) {
        webData["burn"] = {};
    }
    if (!apikey || !username) {
        return;
    }
    webData["burn"][username] = [];
    var xhr = new XMLHttpRequest();
    xhr.ontimeout = function () {
        console.log("PMMG: FIO Burn Timeout");
        webData["burn"][username] = undefined;
    };
    xhr.onreadystatechange = function () {
        if (xhr.readyState == XMLHttpRequest.DONE) {
            try {
                console.log("PMMG: Retreived Burn from FIO");
                var burnData = JSON.parse(xhr.responseText);
                burnData.forEach(data => {
                    webData["burn"][username].push(data);
                });
            }
            catch (SyntaxError) {
                console.log("PMMG: Bad Data from FIO");
                webData["burn"][username] = undefined;
            }
        }
        return;
    };
    xhr.timeout = 20000;
    var address = "https://rest.fnar.net" + "/fioweb/burn/user/" + username;
    xhr.open("GET", address, true);
    xhr.setRequestHeader("Authorization", apikey);
    xhr.send(null);
    return;
}
function getGroupBurn(webData, groupid, apikey) {
    if (!webData["burn"]) {
        webData["burn"] = {};
    }
    if (!apikey || !groupid) {
        return;
    }
    var xhr = new XMLHttpRequest();
    xhr.ontimeout = function () {
        console.log("PMMG: FIO Burn Timeout");
        webData["burn"][groupid] = undefined;
    };
    xhr.onreadystatechange = function () {
        if (xhr.readyState == XMLHttpRequest.DONE) {
            try {
                console.log("PMMG: Retreived Group Burn from FIO");
                var burnData = JSON.parse(xhr.responseText);
                webData["burn"][groupid] = [];
                burnData.forEach(data => {
                    webData["burn"][groupid].push(data);
                });
            }
            catch (SyntaxError) {
                console.log("PMMG: Bad Data from FIO");
                webData["burn"][groupid] = undefined;
            }
        }
        return;
    };
    xhr.timeout = 20000;
    var address = "https://rest.fnar.net" + "/fioweb/burn/group/" + groupid;
    xhr.open("GET", address, true);
    xhr.setRequestHeader("Authorization", apikey);
    xhr.send(null);
    return;
}
function getBurnSettings(webData, username, apikey) {
    webData["burn_settings"] = [];
    webData["burn_settings"].push("loading");
    if (!apikey || !username) {
        return;
    }
    var xhr = new XMLHttpRequest();
    xhr.ontimeout = function () {
        console.log("PMMG: FIO Burn Settings Timeout");
    };
    xhr.onreadystatechange = function () {
        if (xhr.readyState == XMLHttpRequest.DONE) {
            try {
                console.log("PMMG: Retreived Burn Settings from FIO");
                webData["burn_settings"][0] = "loaded";
                var burnData = JSON.parse(xhr.responseText);
                burnData.forEach(data => {
                    webData["burn_settings"].push(data);
                });
            }
            catch (SyntaxError) {
                console.log("PMMG: Bad Data from FIO");
            }
        }
        return;
    };
    xhr.timeout = 10000;
    var address = "https://rest.fnar.net" + "/usersettings/burnrate/" + username;
    xhr.open("GET", address, true);
    xhr.setRequestHeader("Authorization", apikey);
    xhr.send(null);
    return;
}
function getCXOS(webData, username, apikey) {
    if (!apikey || !username) {
        return;
    }
    var xhr = new XMLHttpRequest();
    xhr.ontimeout = function () {
        console.log("PMMG: FIO CXOS Timeout");
    };
    xhr.onreadystatechange = function () {
        if (xhr.readyState == XMLHttpRequest.DONE) {
            try {
                console.log("PMMG: Retreived CXOS from FIO");
                var cxosData = JSON.parse(xhr.responseText);
                webData["cxos"] = [];
                cxosData.forEach(data => {
                    webData["cxos"].push(data);
                });
            }
            catch (SyntaxError) {
                console.log("PMMG: Bad Data from FIO");
            }
        }
        return;
    };
    xhr.timeout = 10000;
    var address = "https://rest.fnar.net" + "/cxos/" + username;
    xhr.open("GET", address, true);
    xhr.setRequestHeader("Authorization", apikey);
    xhr.send(null);
    return;
}
function getContracts(webData, username, apikey) {
    if (!webData["contracts"]) {
        webData["contracts"] = {};
    }
    if (!apikey || !username) {
        return;
    }
    webData["contracts"][username] = [];
    var xhr = new XMLHttpRequest();
    xhr.ontimeout = function () {
        console.log("PMMG: FIO Contract Timeout");
        webData["contracts"][username] = undefined;
    };
    xhr.onreadystatechange = function () {
        if (xhr.readyState == XMLHttpRequest.DONE) {
            try {
                console.log("PMMG: Retreived Contracts from FIO");
                var burnData = JSON.parse(xhr.responseText);
                burnData.forEach(data => {
                    webData["contracts"][username].push(data);
                });
            }
            catch (SyntaxError) {
                console.log("PMMG: Bad Data from FIO");
                webData["contracts"][username] = undefined;
            }
        }
        return;
    };
    xhr.timeout = 20000;
    var address = "https://rest.fnar.net" + "/contract/allcontracts";
    xhr.open("GET", address);
    xhr.setRequestHeader("Authorization", apikey);
    xhr.send(null);
    return;
}


/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(0);


class ScreenUnpack {
    cleanup(full = false) {
        full && Object(__WEBPACK_IMPORTED_MODULE_1__util__["z" /* genericCleanup */])(this.tag);
    }
    constructor(exclusions) {
        this.tag = "pb-screens";
        exclusions = exclusions == undefined ? [] : exclusions;
        this.exclusions = [];
        exclusions.forEach(ex => { this.exclusions.push(ex.toUpperCase()); });
    }
    run() {
        const navbar = document.getElementById(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].ScreenControls);
        if (navbar == null) {
            return;
        }
        if (navbar.children[navbar.children.length - 1].classList.contains(this.tag)) {
            return;
        }
        const navbarItemClassList = navbar.children[2].classList;
        const nbitMainClassList = navbar.children[2].children[0].classList;
        const nbitUnderlineClassList = navbar.children[2].children[1].classList;
        const menu = navbar.children[1].children[1];
        var links = [];
        Array.from(menu.children).forEach((cn) => {
            if (cn.children.length == 4 && !this.exclusions.includes(String(cn.children[1].innerHTML).toUpperCase())) {
                links.push({ "Name": cn.children[1].innerHTML, "Link": cn.children[1].href });
            }
        });
        const spacerDiv = document.createElement("div");
        spacerDiv.classList.add(this.tag);
        spacerDiv.style.display = "inline-block";
        spacerDiv.style.width = "5px";
        navbar.appendChild(spacerDiv);
        links.forEach(link => {
            const button = `<div class="${navbarItemClassList}">
                          <a class="${nbitMainClassList}" style="color: inherit" href="${link.Link}">${link.Name}</a>
                          <div class="${nbitUnderlineClassList}"></div>
                      </div>`;
            const buttonElem = Object(__WEBPACK_IMPORTED_MODULE_1__util__["m" /* createNode */])(button);
            buttonElem.classList.add(this.tag);
            navbar.appendChild(buttonElem);
        });
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ScreenUnpack;



/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Style__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util__ = __webpack_require__(0);



class Sidebar {
    constructor(buttons) {
        this.tag = "pb-sidebar";
        this.defaultButtons = ["BS", "CONT", "COM", "CORP", "CXL", "FIN", "FLT", "INV", "MAP", "PROD", "LEAD", "CMDS"];
        this.buttons = buttons;
    }
    cleanup(full = false) {
        full && Object(__WEBPACK_IMPORTED_MODULE_2__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        const sidebar = document.getElementById(__WEBPACK_IMPORTED_MODULE_0__Selector__["a" /* Selector */].LeftSidebar);
        if (!this.buttons) {
            this.buttons = [["BS", "BS"], ["CONT", "CONTS"], ["COM", "COM"], ["CORP", "CORP"], ["CXL", "CXL"], ["FIN", "FIN"], ["FLT", "FLT"], ["INV", "INV"], ["MAP", "MAP"], ["PROD", "PROD"], ["LEAD", "LEAD"], ["CMDS", "CMDS"], ["SET", "XIT SETTINGS"], ["HELP", "XIT HELP"]];
        }
        if (!sidebar) {
            return;
        }
        this.defaultButtons.forEach(defaultButton => {
            var enabled = false;
            for (let option of this.buttons) {
                if (option[0].toUpperCase() === defaultButton) {
                    enabled = true;
                    break;
                }
            }
            if (!enabled) {
                Array.from(sidebar.children).forEach(child => {
                    if (child.firstChild != null && (child.firstChild.textContent || "").toUpperCase() === defaultButton) {
                        child.classList.add("hidden-element");
                        Array.from(child.children).forEach(childChild => { childChild.classList.add("hidden-element"); });
                    }
                });
            }
        });
        if (sidebar.children[sidebar.children.length - 1].classList.contains(this.tag)) {
            return;
        }
        this.buttons.forEach(buttonInfo => {
            if (this.defaultButtons.includes(buttonInfo[0].toUpperCase())) {
                return;
            }
            const button = document.createElement("div");
            const buttonText = Object(__WEBPACK_IMPORTED_MODULE_2__util__["t" /* createTextSpan */])(buttonInfo[0].toUpperCase(), this.tag);
            const sliver = document.createElement("div");
            button.classList.add(this.tag);
            sliver.classList.add(this.tag);
            button.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarButton);
            buttonText.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarText);
            sliver.classList.add(...__WEBPACK_IMPORTED_MODULE_1__Style__["g" /* Style */].SidebarSliver);
            button.appendChild(buttonText);
            button.appendChild(sliver);
            sidebar.appendChild(button);
            button.addEventListener("click", function () { Object(__WEBPACK_IMPORTED_MODULE_2__util__["M" /* showBuffer */])(buttonInfo[1]); });
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Sidebar;



/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__GameProperties__ = __webpack_require__(3);



class CommandCorrecter {
    cleanup() {
        return;
    }
    run() {
        Array.from(document.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferArea)).forEach(buffer => {
            if (buffer.children.length > 1) {
                const bufferField = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferTextField);
                if (bufferField == null) {
                    return;
                }
                var bufferText = bufferField.value.toUpperCase() || "";
                if (__WEBPACK_IMPORTED_MODULE_2__GameProperties__["h" /* PlanetCommands */].includes(bufferText.split(" ")[0])) {
                    var replaced = false;
                    Object.keys(__WEBPACK_IMPORTED_MODULE_2__GameProperties__["i" /* PlanetNames */]).forEach(name => {
                        if (bufferText.includes(" " + name)) {
                            bufferText = bufferText.replace(" " + name, " " + __WEBPACK_IMPORTED_MODULE_2__GameProperties__["i" /* PlanetNames */][name]);
                            replaced = true;
                        }
                    });
                    if (replaced) {
                        bufferField.value = "";
                        Object(__WEBPACK_IMPORTED_MODULE_0__util__["e" /* changeValue */])(bufferField, bufferText);
                        if (bufferField.parentElement == null || bufferField.parentElement.parentElement == null) {
                            return;
                        }
                        bufferField.parentElement.parentElement.requestSubmit();
                    }
                }
            }
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = CommandCorrecter;



/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

class CalculatorButton {
    constructor() {
        this.tag = "pb-calc";
    }
    cleanup(full = false) {
        full && Object(__WEBPACK_IMPORTED_MODULE_0__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        const calcTags = ["LM", "CX", "XIT"];
        calcTags.forEach(tag => {
            const buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])(tag);
            buffers.forEach(buffer => {
                if ((buffer.children[3] || buffer.children[2]).firstChild.classList.contains(this.tag) || (buffer.children[3] || buffer.children[2]).children[1].classList.contains(this.tag)) {
                    return;
                }
                const calcDiv = document.createElement("div");
                calcDiv.classList.add(this.tag);
                calcDiv.classList.add("button-upper-right");
                calcDiv.style.marginTop = "-3px";
                (buffer.children[3] || buffer.children[2]).insertBefore(calcDiv, (buffer.children[3] || buffer.children[2]).firstChild.id == "refresh" ? (buffer.children[3] || buffer.children[2]).children[1] : (buffer.children[3] || buffer.children[2]).firstChild);
                const svgContainer = document.createElement("div");
                const svg = document.createElement("svg");
                svgContainer.appendChild(svg);
                svg.outerHTML = `<svg height="12px" width="12px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
								 viewBox="0 0 460 460" xml:space="preserve">
							<g id="XMLID_241_">
								<g>
									<path d="M369.635,0H90.365C73.595,0,60,13.595,60,30.365v399.27C60,446.405,73.595,460,90.365,460h279.27
										c16.77,0,30.365-13.595,30.365-30.365V30.365C400,13.595,386.405,0,369.635,0z M108.204,343.61v-43.196
										c0-3.451,2.797-6.248,6.248-6.248h43.196c3.451,0,6.248,2.797,6.248,6.248v43.196c0,3.451-2.797,6.248-6.248,6.248h-43.196
										C111.001,349.858,108.204,347.06,108.204,343.61z M108.204,256.61v-43.196c0-3.451,2.797-6.248,6.248-6.248h43.196
										c3.451,0,6.248,2.797,6.248,6.248v43.196c0,3.451-2.797,6.248-6.248,6.248h-43.196C111.001,262.858,108.204,260.06,108.204,256.61
										z M308.891,421H151.109c-11.046,0-20-8.954-20-20c0-11.046,8.954-20,20-20h157.782c11.046,0,20,8.954,20,20
										C328.891,412.046,319.937,421,308.891,421z M208.402,294.165h43.196c3.451,0,6.248,2.797,6.248,6.248v43.196
										c0,3.451-2.797,6.248-6.248,6.248h-43.196c-3.451,0-6.248-2.797-6.248-6.248v-43.196
										C202.154,296.963,204.951,294.165,208.402,294.165z M202.154,256.61v-43.196c0-3.451,2.797-6.248,6.248-6.248h43.196
										c3.451,0,6.248,2.797,6.248,6.248v43.196c0,3.451-2.797,6.248-6.248,6.248h-43.196C204.951,262.858,202.154,260.06,202.154,256.61
										z M345.548,349.858h-43.196c-3.451,0-6.248-2.797-6.248-6.248v-43.196c0-3.451,2.797-6.248,6.248-6.248h43.196
										c3.451,0,6.248,2.797,6.248,6.248v43.196h0C351.796,347.061,348.999,349.858,345.548,349.858z M345.548,262.858h-43.196
										c-3.451,0-6.248-2.797-6.248-6.248v-43.196c0-3.451,2.797-6.248,6.248-6.248h43.196c3.451,0,6.248,2.797,6.248,6.248v43.196h0
										C351.796,260.061,348.999,262.858,345.548,262.858z M354,149.637c0,11.799-9.565,21.363-21.363,21.363H127.364
										C115.565,171,106,161.435,106,149.637V62.363C106,50.565,115.565,41,127.364,41h205.273C344.435,41,354,50.565,354,62.363V149.637
										z"/>
								</g>
							</g>
							</svg>`;
                calcDiv.appendChild(svgContainer);
                calcDiv.addEventListener("click", function () { Object(__WEBPACK_IMPORTED_MODULE_0__util__["M" /* showBuffer */])("XIT CALCULATOR"); });
            });
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = CalculatorButton;



/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);


class ImageCreator {
    constructor() {
        this.tag = "pb-image";
    }
    cleanup() {
        return;
    }
    run() {
        const buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("COM");
        if (!buffers) {
            return;
        }
        ;
        buffers.forEach(buffer => {
            const chatLinks = buffer.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferLink);
            const chatArea = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].ChatArea);
            if (!chatArea) {
                return;
            }
            Array.from(chatLinks).forEach(link => {
                const linkText = link.textContent;
                if (!linkText || link.classList.contains(this.tag)) {
                    return;
                }
                if (!isImage(linkText)) {
                    return;
                }
                const img = document.createElement("img");
                img.classList.add("chat-image");
                img.src = linkText;
                if (!link.parentElement) {
                    return;
                }
                link.parentElement.appendChild(document.createElement("br"));
                link.parentElement.appendChild(img);
                link.classList.add(this.tag);
                chatArea.scrollBy(0, (img.offsetHeight || 0) + 2);
                return;
            });
            return;
        });
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ImageCreator;

function isImage(url) {
    return /\.(jpg|jpeg|png|webp|avif|gif|svg)$/.test(url);
}


/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Style__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__GameProperties__ = __webpack_require__(3);




class InventoryOrganizer {
    constructor(userInfo, result) {
        this.tag = "pb-inv-org";
        this.userInfo = userInfo;
        this.result = result;
    }
    cleanup() {
        return;
    }
    run() {
        const buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("INV ");
        const result = this.result;
        if (!buffers || !result || !result["PMMGExtended"]) {
            return;
        }
        ;
        if (this.result["PMMGExtended"]["inventory_sorting"]) {
            this.result["PMMGExtended"]["inventory_sorting"] = undefined;
        }
        if (!this.result["PMMGExtended"]["selected_sorting"]) {
            this.result["PMMGExtended"]["selected_sorting"] = [];
        }
        ;
        if (!this.result["PMMGExtended"]["sorting"]) {
            this.result["PMMGExtended"]["sorting"] = [];
        }
        ;
        const screenNameElem = document.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].ScreenName);
        const screenName = screenNameElem ? screenNameElem.textContent : "";
        if (!screenName) {
            return;
        }
        const tag = this.tag;
        buffers.forEach(buffer => {
            const sortOptions = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].InventorySortOptions);
            if (!sortOptions) {
                return;
            }
            const baseNameElem = buffer.getElementsByClassName(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferHeader);
            if (!baseNameElem || !baseNameElem[0]) {
                return;
            }
            const invName = Object(__WEBPACK_IMPORTED_MODULE_0__util__["I" /* parseInvName */])(baseNameElem[0].textContent);
            if (!invName) {
                return;
            }
            const planetNameElem = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferLink);
            const planetName = planetNameElem ? Object(__WEBPACK_IMPORTED_MODULE_0__util__["J" /* parsePlanetName */])(planetNameElem.textContent) : "";
            var burn;
            if (this.userInfo["PMMG-User-Info"] && Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planetName, this.userInfo["PMMG-User-Info"]["workforce"])) {
                const workforce = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planetName, this.userInfo["PMMG-User-Info"]["workforce"]);
                const production = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planetName, this.userInfo["PMMG-User-Info"]["production"]);
                const inventory = Object(__WEBPACK_IMPORTED_MODULE_0__util__["y" /* findCorrespondingPlanet */])(planetName, this.userInfo["PMMG-User-Info"]["storage"]);
                burn = Object(__WEBPACK_IMPORTED_MODULE_0__util__["d" /* calculateBurn */])(production, workforce, inventory);
            }
            const inventory = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].Inventory);
            if (!inventory || !inventory.parentElement) {
                return;
            }
            if (!inventory.classList.contains("pb-monitored")) {
                inventory.classList.add("pb-monitored");
                sortInventory(inventory, sortOptions, result, this.tag, screenName, invName, burn);
                let onMutationsObserved = function () {
                    observer.disconnect();
                    setTimeout(() => {
                        observer.observe(target, config);
                    }, 250);
                    Object(__WEBPACK_IMPORTED_MODULE_0__util__["O" /* targetedCleanup */])(tag, inventory);
                    sortInventory(inventory, sortOptions, result, tag, screenName, invName, burn);
                    return;
                };
                let target = inventory;
                let config = { childList: true, subtree: true };
                let MutationObserver = window["MutationObserver"] || window["WebKitMutationObserver"];
                let observer = new MutationObserver(onMutationsObserved);
                observer.observe(target, config);
            }
            return;
        });
        const shipBuffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("SHPI ");
        if (!shipBuffers) {
            return;
        }
        ;
        shipBuffers.forEach(buffer => {
            const sortOptions = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].InventorySortOptions);
            if (!sortOptions) {
                return;
            }
            const shipNameElem = buffer.getElementsByClassName(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferHeader);
            if (!shipNameElem || !shipNameElem[0]) {
                return;
            }
            const shipName = Object(__WEBPACK_IMPORTED_MODULE_0__util__["I" /* parseInvName */])(shipNameElem[0].textContent);
            if (!shipName) {
                return;
            }
            const inventory = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].Inventory);
            if (!inventory || !inventory.parentElement) {
                return;
            }
            if (!inventory.classList.contains("pb-monitored")) {
                inventory.classList.add("pb-monitored");
                sortInventory(inventory, sortOptions, result, tag, screenName, shipName, undefined);
                let onMutationsObserved = function () {
                    observer.disconnect();
                    setTimeout(() => {
                        observer.observe(target, config);
                    }, 250);
                    Object(__WEBPACK_IMPORTED_MODULE_0__util__["O" /* targetedCleanup */])(tag, inventory);
                    sortInventory(inventory, sortOptions, result, tag, screenName, shipName, undefined);
                    return;
                };
                let target = inventory;
                let config = { childList: true, subtree: true };
                let MutationObserver = window["MutationObserver"] || window["WebKitMutationObserver"];
                let observer = new MutationObserver(onMutationsObserved);
                observer.observe(target, config);
            }
            return;
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = InventoryOrganizer;

function sortInventory(inventory, sortOptions, result, tag, screenName, planetName, burn) {
    if (sortOptions.children.length <= 7) {
        Array.from(sortOptions.children).forEach(option => {
            if (option != sortOptions.firstChild && !option.classList.contains("pb-toggle")) {
                option.addEventListener("click", function () {
                    if (option.children[1]) {
                        option.children[1].style.display = "inline";
                    }
                    Array.from(sortOptions.children).forEach(optionInner => {
                        if (optionInner.children[1] && optionInner.classList.contains("pb-toggle")) {
                            optionInner.removeChild(optionInner.children[1]);
                            result["PMMGExtended"]["selected_sorting"].forEach(sortSettings => {
                                if (sortSettings[0] == screenName + planetName) {
                                    sortSettings[1] = "";
                                    Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
                                }
                                return;
                            });
                        }
                        return;
                    });
                    if (inventory.firstChild) {
                        inventory.insertBefore(inventory.firstChild, inventory.firstChild);
                    }
                    return;
                });
            }
            return;
        });
        if (burn) {
            sortOptions.appendChild(createToggle(result, sortOptions, "BRN", findIfActive(result["PMMGExtended"]["selected_sorting"], screenName + planetName, "BRN"), screenName + planetName, inventory));
        }
        result["PMMGExtended"]["sorting"].forEach(settings => {
            if (!settings[0] || !settings[1] || !settings[2]) {
                return;
            }
            if (settings[1].toUpperCase() != planetName.toUpperCase()) {
                return;
            }
            sortOptions.appendChild(createToggle(result, sortOptions, settings[0], findIfActive(result["PMMGExtended"]["selected_sorting"], screenName + planetName, settings[0]), screenName + planetName, inventory));
            return;
        });
    }
    if (sortOptions.children[sortOptions.children.length - 1] && sortOptions.children[sortOptions.children.length - 1].textContent != "+") {
        const addButton = document.createElement("div");
        addButton.classList.add("InventorySortControls__criteria___ijLMgjm");
        sortOptions.appendChild(addButton);
        const addLabel = document.createElement("div");
        addLabel.textContent = "+";
        addButton.appendChild(addLabel);
        addButton.addEventListener("click", function () {
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["M" /* showBuffer */])("XIT SORT_" + planetName);
            return;
        });
    }
    var activeSort = "";
    result["PMMGExtended"]["selected_sorting"].forEach(sortSettings => {
        if (sortSettings[0] == screenName + planetName) {
            activeSort = sortSettings[1];
        }
        return;
    });
    Array.from(sortOptions.children).forEach(option => {
        if (option != sortOptions.firstChild && option.firstChild && option.firstChild.textContent == activeSort && !option.children[1]) {
            const toggleIndicator = document.createElement("div");
            toggleIndicator.innerHTML = __WEBPACK_IMPORTED_MODULE_3__GameProperties__["j" /* SortingTriangleHTML */];
            toggleIndicator.style.marginLeft = "2px";
            option.appendChild(toggleIndicator);
        }
        else if (option.firstChild && option.firstChild.textContent != activeSort && option.children[1]) {
            if (option.classList.contains("pb-toggle")) {
                option.removeChild(option.children[1]);
            }
            else if (activeSort != "") {
                option.children[1].style.display = "none";
            }
            else {
                option.children[1].style.display = "inline";
            }
        }
        return;
    });
    if (activeSort == "") {
        return;
    }
    var materials = Array.from(inventory.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].FullMaterialIcon));
    materials.sort(materialSort);
    var sorted = [];
    var sortingDetails = [];
    result["PMMGExtended"]["sorting"].forEach(result_sortingDetails => {
        if (result_sortingDetails[0] == activeSort && result_sortingDetails[1] == planetName) {
            sortingDetails = result_sortingDetails;
        }
        return;
    });
    if (activeSort != "BRN") {
        if (sortingDetails.length < 3) {
            return;
        }
        if (sortingDetails[4]) {
            var materialsToSort = [];
            sortingDetails[2].forEach(category => {
                materialsToSort = materialsToSort.concat(category[1]);
            });
            var materialsToSort = materialsToSort.filter((c, index) => {
                return materialsToSort.indexOf(c) === index;
            });
            materialsToSort.forEach(ticker => {
                if (!materialListContains(materials, ticker)) {
                    const matElement = Object(__WEBPACK_IMPORTED_MODULE_0__util__["l" /* createMaterialElement */])(ticker, tag, "0", true, false);
                    if (!matElement) {
                        return;
                    }
                    const matQuantityElem = matElement.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialQuantity);
                    if (matQuantityElem) {
                        matQuantityElem.style.color = "#cc0000";
                    }
                    materials.push(matElement);
                }
            });
            materials.sort(materialSort);
        }
        sortingDetails[2].forEach(category => {
            const categoryTitle = document.createElement('h3');
            categoryTitle.appendChild(document.createTextNode(category[0]));
            categoryTitle.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].SidebarSectionHead);
            categoryTitle.style.width = "100%";
            categoryTitle.classList.add(tag);
            inventory.appendChild(categoryTitle);
            var areItemsInCategory = false;
            materials.forEach(material => {
                const tickerElem = material.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialText);
                if (!tickerElem) {
                    return;
                }
                const ticker = tickerElem.textContent;
                if (ticker && category[1].includes(ticker) && !sorted.includes(ticker)) {
                    inventory.appendChild(material);
                    areItemsInCategory = true;
                }
            });
            if (!areItemsInCategory) {
                inventory.removeChild(categoryTitle);
            }
            sorted = sorted.concat(category[1]);
            return;
        });
    }
    if (sortingDetails[3] || activeSort == "BRN") {
        if (burn) {
            const workforceMaterials = extractMaterials(burn, "workforce");
            const inputMaterials = extractMaterials(burn, "input");
            const outputMaterials = extractMaterials(burn, "output");
            const workforceTitle = document.createElement('h3');
            workforceTitle.appendChild(document.createTextNode("Consumables"));
            workforceTitle.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].SidebarSectionHead);
            workforceTitle.style.width = "100%";
            workforceTitle.classList.add(tag);
            inventory.appendChild(workforceTitle);
            var areConsumables = false;
            materials.forEach(material => {
                const tickerElem = material.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialText);
                if (!tickerElem) {
                    return;
                }
                const ticker = tickerElem.textContent;
                if (ticker && workforceMaterials.includes(ticker) && !inputMaterials.includes(ticker) && !outputMaterials.includes(ticker) && !sorted.includes(ticker)) {
                    inventory.appendChild(material);
                    areConsumables = true;
                }
            });
            if (!areConsumables) {
                inventory.removeChild(workforceTitle);
            }
            const inputTitle = document.createElement('h3');
            inputTitle.appendChild(document.createTextNode("Inputs"));
            inputTitle.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].SidebarSectionHead);
            inputTitle.style.width = "100%";
            inputTitle.classList.add(tag);
            inventory.appendChild(inputTitle);
            var areInputs = false;
            materials.forEach(material => {
                const tickerElem = material.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialText);
                if (!tickerElem) {
                    return;
                }
                const ticker = tickerElem.textContent;
                if (ticker && inputMaterials.includes(ticker) && !sorted.includes(ticker)) {
                    inventory.appendChild(material);
                    areInputs = true;
                }
            });
            if (!areInputs) {
                inventory.removeChild(inputTitle);
            }
            const outputTitle = document.createElement('h3');
            outputTitle.appendChild(document.createTextNode("Outputs"));
            outputTitle.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].SidebarSectionHead);
            outputTitle.style.width = "100%";
            outputTitle.classList.add(tag);
            inventory.appendChild(outputTitle);
            var areOutputs = false;
            materials.forEach(material => {
                const tickerElem = material.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialText);
                if (!tickerElem) {
                    return;
                }
                const ticker = tickerElem.textContent;
                if (ticker && outputMaterials.includes(ticker) && !inputMaterials.includes(ticker) && !sorted.includes(ticker)) {
                    inventory.appendChild(material);
                    areOutputs = true;
                }
            });
            if (!areOutputs) {
                inventory.removeChild(outputTitle);
            }
            sorted = sorted.concat(workforceMaterials);
            sorted = sorted.concat(inputMaterials);
            sorted = sorted.concat(outputMaterials);
        }
    }
    const miscTitle = document.createElement('h3');
    miscTitle.appendChild(document.createTextNode("Other"));
    miscTitle.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].SidebarSectionHead);
    miscTitle.style.width = "100%";
    miscTitle.classList.add(tag);
    inventory.appendChild(miscTitle);
    var areMisc = false;
    materials.forEach(material => {
        const tickerElem = material.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialText);
        if (!tickerElem) {
            return;
        }
        const ticker = tickerElem.textContent;
        if (ticker && !sorted.includes(ticker)) {
            inventory.appendChild(material);
            areMisc = true;
        }
        return;
    });
    if (!areMisc) {
        inventory.removeChild(miscTitle);
    }
    return;
}
function materialListContains(materials, ticker) {
    for (var i = 0; i < materials.length; i++) {
        const tickerElem = materials[i].querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialText);
        if (!tickerElem) {
            continue;
        }
        if (ticker == tickerElem.textContent) {
            return true;
        }
    }
    return false;
}
function findIfActive(sortSettings, screenPlanet, sortModeName) {
    var match = false;
    sortSettings.forEach(settings => {
        if (settings[0] == screenPlanet && settings[1] == sortModeName) {
            match = true;
        }
        return match;
    });
    return match;
}
function createToggle(result, sortOptions, abbreviation, selected, combinedName, inventory) {
    const customSortButton = document.createElement("div");
    customSortButton.classList.add("InventorySortControls__criteria___ijLMgjm");
    customSortButton.classList.add("pb-toggle");
    const toggleLabel = document.createElement("div");
    toggleLabel.textContent = abbreviation;
    customSortButton.appendChild(toggleLabel);
    if (selected) {
        Array.from(sortOptions.children).forEach(option => {
            if (option.children[1]) {
                if (option.classList.contains("pb-toggle")) {
                    option.removeChild(option.children[1]);
                }
                else {
                    option.children[1].style.display = "none";
                }
            }
            return;
        });
        const toggleIndicator = document.createElement("div");
        toggleIndicator.innerHTML = __WEBPACK_IMPORTED_MODULE_3__GameProperties__["j" /* SortingTriangleHTML */];
        toggleIndicator.style.marginLeft = "2px";
        customSortButton.appendChild(toggleIndicator);
    }
    customSortButton.addEventListener("click", function () {
        Array.from(sortOptions.children).forEach(option => {
            if (option.children[1]) {
                if (option.classList.contains("pb-toggle")) {
                    option.removeChild(option.children[1]);
                }
                else {
                    option.children[1].style.display = "none";
                }
                if (inventory.firstChild) {
                    inventory.insertBefore(inventory.firstChild, inventory.firstChild);
                }
            }
            return;
        });
        const toggleIndicator = document.createElement("div");
        toggleIndicator.innerHTML = __WEBPACK_IMPORTED_MODULE_3__GameProperties__["j" /* SortingTriangleHTML */];
        toggleIndicator.style.marginLeft = "2px";
        customSortButton.appendChild(toggleIndicator);
        var savedBefore = false;
        result["PMMGExtended"]["selected_sorting"].forEach(sortingOptions => {
            if (sortingOptions[0] == combinedName) {
                sortingOptions[1] = abbreviation;
                savedBefore = true;
            }
            return;
        });
        if (!savedBefore) {
            result["PMMGExtended"]["selected_sorting"].push([combinedName, abbreviation]);
        }
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["L" /* setSettings */])(result);
        return;
    });
    return customSortButton;
}
function extractMaterials(burn, typeValue) {
    const materials = [];
    Object.keys(burn).forEach(mat => {
        if (burn[mat]["Type"] == typeValue) {
            materials.push(mat);
        }
    });
    return materials;
}
function materialSort(a, b) {
    const tickerElemA = a.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialText);
    if (!tickerElemA) {
        return;
    }
    const tickerA = tickerElemA.textContent;
    const tickerElemB = b.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].MaterialText);
    if (!tickerElemB) {
        return;
    }
    const tickerB = tickerElemB.textContent;
    if (!__WEBPACK_IMPORTED_MODULE_3__GameProperties__["e" /* MaterialNames */][tickerA] || !__WEBPACK_IMPORTED_MODULE_3__GameProperties__["e" /* MaterialNames */][tickerB]) {
        return 0;
    }
    if (__WEBPACK_IMPORTED_MODULE_3__GameProperties__["e" /* MaterialNames */][tickerA][1] == __WEBPACK_IMPORTED_MODULE_3__GameProperties__["e" /* MaterialNames */][tickerB][1]) {
        return tickerA.localeCompare(tickerB);
    }
    return __WEBPACK_IMPORTED_MODULE_3__GameProperties__["e" /* MaterialNames */][tickerA][1].localeCompare(__WEBPACK_IMPORTED_MODULE_3__GameProperties__["e" /* MaterialNames */][tickerB][1]);
}


/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Style__ = __webpack_require__(2);



class HeaderMinimizer {
    constructor(minByDefault) {
        this.tag = "pb-min-headers";
        this.minByDefault = minByDefault;
    }
    cleanup() {
        return;
    }
    run() {
        var buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("CX ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            minimizeHeaders(buffer, this.minByDefault, this.tag);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("CONT ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            minimizeHeaders(buffer, this.minByDefault, this.tag);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("LM ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            minimizeHeaders(buffer, this.minByDefault, this.tag);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("SYSI ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            minimizeHeaders(buffer, this.minByDefault, this.tag);
        });
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = HeaderMinimizer;

function minimizeHeaders(buffer, minByDefault, tag) {
    const bufferPanel = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferPanel);
    if (!bufferPanel || !bufferPanel.firstChild) {
        return;
    }
    const headers = buffer.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].HeaderRow);
    if (headers.length == 0) {
        return;
    }
    if (headers[0] && headers[0].classList.contains(tag)) {
        return;
    }
    if (minByDefault) {
        Array.from(headers).forEach(header => {
            const label = header.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].ContDFormLabel);
            if (label && label.textContent == "Termination request") {
                const value = header.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].ContDFormInput);
                if (value && value.textContent != "--") {
                    return;
                }
            }
            if (!header.classList.contains(tag)) {
                header.style.display = "none";
            }
        });
    }
    const minimizeButton = document.createElement("div");
    minimizeButton.textContent = minByDefault ? "+" : "-";
    minimizeButton.classList.add("pb-minimize");
    minimizeButton.classList.add("pb-minimize-cx");
    minimizeButton.addEventListener("click", function () {
        const minimize = minimizeButton.textContent == "-";
        minimizeButton.textContent = minimize ? "+" : "-";
        Array.from(headers).forEach(header => {
            const label = header.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].ContDFormLabel);
            if (label && label.textContent == "Termination request") {
                const value = header.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].ContDFormInput);
                if (value && value.textContent != "--") {
                    return;
                }
            }
            if (!header.classList.contains(tag)) {
                header.style.display = minimize ? "none" : "flex";
            }
            return;
        });
        return;
    });
    headers[0].parentElement.insertBefore(createHeaderRow("Minimize", minimizeButton, tag), headers[0]);
    return;
}
function createHeaderRow(labelText, rightSideContents, tag) {
    const row = document.createElement("div");
    row.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].HeaderRow);
    row.classList.add(tag);
    const label = document.createElement("label");
    label.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormLabel);
    label.textContent = labelText;
    row.appendChild(label);
    const content = document.createElement("div");
    content.classList.add(...__WEBPACK_IMPORTED_MODULE_2__Style__["g" /* Style */].FormSaveInput);
    const rightSideDiv = document.createElement("div");
    rightSideDiv.appendChild(rightSideContents);
    content.appendChild(rightSideDiv);
    row.appendChild(content);
    return row;
}


/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);


class PendingContracts {
    constructor(userInfo) {
        this.tag = "pb-pending-contracts";
        this.userInfo = userInfo;
    }
    cleanup() {
        Object(__WEBPACK_IMPORTED_MODULE_0__util__["z" /* genericCleanup */])(this.tag);
    }
    run() {
        const contractLines = Array.from(document.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].SidebarContract));
        if (contractLines.length > 0 && this.userInfo["PMMG-User-Info"] && this.userInfo["PMMG-User-Info"]["contracts"]) {
            const contracts = this.userInfo["PMMG-User-Info"]["contracts"];
            var contractdict = {};
            Object(__WEBPACK_IMPORTED_MODULE_0__util__["i" /* createContractDict */])(contracts, contractdict);
            contractLines.forEach(contract => {
                const contractIDElement = contract.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].SidebarContractId);
                if (!contractIDElement) {
                    return;
                }
                const contractID = contractIDElement.textContent;
                if (!contractID) {
                    return;
                }
                if (contractdict[contractID] && contractdict[contractID].partner.name) {
                    var partnercode = contractdict[contractID].partner.name;
                    if (partnercode.length > 19) {
                        partnercode = contractdict[contractID].partner.code || contractdict[contractID].partner.name.split(" ")[0];
                    }
                    const nameSpan = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(`${partnercode}`, this.tag);
                    nameSpan.style.width = "100px";
                    contract.insertBefore(nameSpan, contract.firstChild);
                    return;
                }
                const nameSpan = Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])("Unknown", this.tag);
                nameSpan.style.width = "100px";
                contract.insertBefore(nameSpan, contract.firstChild);
            });
            return;
        }
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PendingContracts;



/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export HideElement */
/* unused harmony export UnHideElement */
/* unused harmony export ClearBuildingLists */
/* unused harmony export ClearBase */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_Style__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__GameProperties__ = __webpack_require__(3);




class CompactUI {
    constructor(pmmgSettings) {
        this.tag = "pb-compactui";
        this.pmmgSettings = pmmgSettings;
    }
    cleanup() {
    }
    run() {
        var buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("BBL");
        if (buffers) {
            buffers.forEach(buffer => {
                ClearBuildingLists(buffer, this.pmmgSettings, this.tag);
            });
        }
        ;
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("BS");
        if (buffers) {
            buffers.forEach(buffer => {
                ClearBase(buffer, this.tag);
            });
        }
        ;
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("CXOS");
        if (buffers) {
            buffers.forEach(buffer => {
                ShortenNames(buffer);
            });
        }
        ;
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = CompactUI;

function ShortenNames(buffer) {
    const links = buffer.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferLink);
    links.forEach(link => {
        if (link.textContent && __WEBPACK_IMPORTED_MODULE_3__GameProperties__["b" /* Exchanges */][link.textContent]) {
            link.textContent = __WEBPACK_IMPORTED_MODULE_3__GameProperties__["b" /* Exchanges */][link.textContent];
        }
    });
    const headers = buffer.querySelectorAll("th");
    headers.forEach(header => {
        if (header.textContent == "Exchange") {
            header.textContent = "Exc.";
        }
    });
}
function HideElement(element, tag) {
    element.style.display = "none";
    element.classList.add(tag + "-hidden");
}
function UnHideElement(element, tag) {
    element.style.display = "";
    element.classList.remove(tag + "-hidden");
}
function ClearBuildingLists(buffer, pmmgSettings, tag) {
    const nameElem = buffer.querySelector(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BuildingList);
    if (!nameElem || !nameElem.textContent)
        return;
    Array.from(buffer.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].Divider)).forEach((row) => {
        if (row.childNodes.length < 2) {
            var newmenu = document.createElement("span");
            var indicator = document.createElement("div");
            var value = document.createElement("div");
            newmenu.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].RadioButton));
            indicator.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].RadioButtonToggled));
            value.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].RadioButtonValue));
            value.innerText = "Visible";
            row.appendChild(newmenu);
            newmenu.appendChild(indicator);
            newmenu.appendChild(value);
            newmenu.addEventListener("click", function () {
                if (indicator.classList.contains(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].RadioButtonToggled[1])) {
                    if (row.nextElementSibling)
                        HideElement(row.nextElementSibling, tag);
                    indicator.classList.remove(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].RadioButtonToggled));
                    indicator.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].RadioButtonUnToggled));
                }
                else {
                    if (row.nextElementSibling)
                        UnHideElement(row.nextElementSibling, tag);
                    indicator.classList.remove(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].RadioButtonUnToggled));
                    indicator.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].RadioButtonToggled));
                }
            });
            if (row.innerText.includes("Infrastructure")) {
                var event = new CustomEvent("click", { "detail": "fake click" });
                newmenu.dispatchEvent(event);
            }
        }
    });
    Array.from(nameElem.getElementsByTagName("table")).forEach((table) => {
        var repaired = false;
        var EstablishRow;
        var buttons = table.parentNode.getElementsByTagName("button");
        buttons[1].classList.remove(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ButtonEnabled));
        buttons[1].classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ButtonDanger));
        Array.from(table.rows).forEach(row => {
            let Line;
            (function (Line) {
                Line[Line["Established"] = 0] = "Established";
                Line[Line["Repair"] = 1] = "Repair";
                Line[Line["Cost"] = 2] = "Cost";
                Line[Line["Refund"] = 3] = "Refund";
                Line[Line["Value"] = 4] = "Value";
                Line[Line["Condition"] = 5] = "Condition";
            })(Line || (Line = {}));
            var dict = {
                'Established': Line.Established,
                'Last repair': Line.Repair,
                'Repair costs': Line.Cost,
                'Reclaimable materials': Line.Refund,
                'Book value': Line.Value,
                'Condition': Line.Condition
            };
            var linetype = Line.Established;
            Array.from(row.getElementsByTagName("td")).forEach(data => {
                var text = data.innerText;
                if (!text) {
                    return;
                }
                if (dict[text] != null) {
                    linetype = dict[text];
                    if (linetype == Line.Established)
                        EstablishRow = row;
                }
                else if (text == "--")
                    HideElement(row, tag);
                else if (text == "none")
                    HideElement(row, tag);
                else {
                    text.split(" ").forEach(word => {
                        var value = parseFloat(word);
                        if (!Number.isNaN(value)) {
                            if (linetype == Line.Repair)
                                repaired = true;
                            if (linetype == Line.Condition || linetype == Line.Established || linetype == Line.Repair) {
                                var bar = data.getElementsByTagName("progress");
                                if (value > 180)
                                    HideElement(row, tag);
                                else if (bar && bar.length > 0) {
                                    bar[0].classList.remove(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ProgressBarColors));
                                    bar[0].value = value;
                                    var progress = bar[0].value / bar[0].max;
                                    if (linetype == Line.Condition) {
                                        if (value > 98 && buttons[0].classList.contains(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ButtonEnabled[0])) {
                                            buttons[0].classList.remove(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ButtonEnabled));
                                            buttons[0].classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ButtonDanger));
                                        }
                                        if (progress > 0.90)
                                            bar[0].classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ProgressBarGood));
                                        else if (progress > 0.80)
                                            bar[0].classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ProgressBarWarning));
                                        else if (progress > 0)
                                            bar[0].classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ProgressBarDanger));
                                    }
                                    else {
                                        bar[0].value = 180 - value;
                                        progress = bar[0].value / bar[0].max;
                                        var threshold = pmmgSettings["PMMGExtended"]["repair_threshold"] ? pmmgSettings["PMMGExtended"]["repair_threshold"] / 180.0 : (70.0 / 180.0);
                                        if (progress > 0.75)
                                            bar[0].classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ProgressBarGood));
                                        else if (progress > threshold)
                                            bar[0].classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ProgressBarWarning));
                                        else if (progress > 0)
                                            bar[0].classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ProgressBarDanger));
                                    }
                                }
                                else {
                                    var newbar = document.createElement("progress");
                                    newbar.classList.add(...Object(__WEBPACK_IMPORTED_MODULE_2_Style__["i" /* WithStyles */])(__WEBPACK_IMPORTED_MODULE_2_Style__["g" /* Style */].ProgressBar));
                                    if (linetype == Line.Condition)
                                        newbar.max = 100;
                                    else
                                        newbar.max = 180;
                                    data.insertBefore(newbar, data.firstChild);
                                }
                            }
                            else if (linetype == Line.Value && value < 2000)
                                HideElement(row, tag);
                            else if (value <= 1)
                                HideElement(row, tag);
                        }
                    });
                }
            });
            if (repaired)
                HideElement(EstablishRow, tag);
        });
    });
}
function ClearBase(buffer, tag) {
    const elements = Array.from(buffer.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].HeaderRow));
    if (elements.length == 0) {
        return;
    }
    elements[0].style.display = "none";
    const areaBar = elements[0].getElementsByTagName("progress")[0];
    if (!areaBar) {
        return;
    }
    const areaBarCopy = areaBar.cloneNode(true);
    areaBarCopy.classList.add(tag);
    const editdiv = elements[1].getElementsByTagName("div")[0];
    if (editdiv.firstChild.classList.contains(tag) && editdiv.firstChild) {
        editdiv.removeChild(editdiv.firstChild);
    }
    editdiv.insertBefore(areaBarCopy, editdiv.lastChild);
    Array.from(buffer.getElementsByTagName("table")).forEach((table) => {
        Array.from(table.rows).forEach(row => {
            var data = Array.from(row.getElementsByTagName("td"));
            if (data.length == 0) {
                data = Array.from(row.getElementsByTagName("th"));
                data[2].innerText = "Current";
            }
            else {
                var required = parseFloat(data[1].innerText);
                var workforce = parseFloat(data[2].innerText.split(" ")[0]);
                var capacity = parseFloat(data[3].innerText);
                const bar = data[4].getElementsByTagName("div")[0];
                const barValue = bar.getElementsByTagName("progress")[0].title;
                if (bar.lastChild && bar.lastChild.classList.contains(tag)) {
                    bar.removeChild(bar.lastChild);
                }
                bar.appendChild(Object(__WEBPACK_IMPORTED_MODULE_0__util__["t" /* createTextSpan */])(barValue, tag));
                bar.style.display = "flex";
                bar.style.flexDirection = "row";
                bar.style.justifyContent = "left";
                if (required < 1 && capacity < 1 && workforce < 1)
                    HideElement(row, tag);
            }
        });
    });
}


/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export evaluateMath */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);

class FormulaReplacer {
    constructor() {
        this.tag = "pb-formulas";
    }
    cleanup() {
        return;
    }
    run() {
        var buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("CXPO ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            addListeners(buffer, this.tag);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("FXPO ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            addListeners(buffer, this.tag);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("LMP ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            addListeners(buffer, this.tag);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("CONTD ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            addListeners(buffer, this.tag);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("MTRA ");
        if (!buffers) {
            return;
        }
        buffers.forEach(buffer => {
            addListeners(buffer, this.tag);
        });
        return;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FormulaReplacer;

function addListeners(buffer, tag) {
    const inputs = buffer.querySelectorAll("input");
    Array.from(inputs).forEach(input => {
        if (input.classList.contains(tag)) {
            return;
        }
        input.classList.add(tag);
        input.addEventListener("keyup", function (e) {
            if (e.key != 'Enter') {
                return;
            }
            if (input.value && input.value.charAt(0) == "=") {
                const expression = input.value.substring(1);
                var simplifiedExpression = evaluateMath(expression);
                simplifiedExpression = parseFloat(simplifiedExpression).toLocaleString(undefined, { useGrouping: false });
                Object(__WEBPACK_IMPORTED_MODULE_0__util__["e" /* changeValue */])(input, simplifiedExpression || "NaN");
            }
        });
    });
}
function evaluateMath(expression, depth) {
    if (!depth) {
        depth = 0;
    }
    expression = expression.replace(/\s/g, "");
    expression = expression.replace(/,/g, ".");
    if (/[^0-9.+\-\/*\^\(\)]/.test(expression)) {
        return null;
    }
    const leftCount = (expression.match(/\(/g) || []).length;
    const rightCount = (expression.match(/\)/g) || []).length;
    if (leftCount > rightCount) {
        expression = expression + ")".repeat(leftCount - rightCount);
    }
    else if (rightCount > leftCount) {
        expression = "(".repeat(rightCount - leftCount) + expression;
    }
    var match = expression.match(/\(/);
    if (match) {
        var pCounter = 1;
        var substring = expression.substring(match.index + 1);
        const beginIndex = match.index;
        var offset = beginIndex + 1;
        var leftMatch;
        var rightMatch;
        do {
            leftMatch = substring.match(/\(/);
            rightMatch = substring.match(/\)/);
            if (leftMatch && (!rightMatch || leftMatch.index < rightMatch.index)) {
                pCounter++;
                substring = substring.substring(leftMatch.index + 1);
                offset += leftMatch.index + 1;
            }
            else if (rightMatch) {
                pCounter--;
                substring = substring.substring(rightMatch.index + 1);
                offset += rightMatch.index + 1;
            }
            if (pCounter == 0) {
                const result = evaluateMath(expression.substring(beginIndex + 1, offset - 1), depth + 1);
                expression = expression.replace(expression.substring(beginIndex, offset), result);
                expression = evaluateMath(expression, depth + 1);
                return expression;
            }
        } while (leftMatch || rightMatch);
    }
    var match = expression.match(/(?:(?<!\d))(-?\d+(?:\.\d+)?)\^(-?\d+(?:\.\d+)?)/);
    if (match) {
        var left = parseFloat(match[1]);
        var right = parseFloat(match[2]);
        var result = Math.pow(left, right);
        expression = expression.replace(match[0], result.toString());
        expression = evaluateMath(expression, depth + 1);
        return expression;
    }
    const multMatch = expression.match(/(?:(?<!\d))(-?\d+(?:\.\d+)?)\*(-?\d+(?:\.\d+)?)/);
    const divMatch = expression.match(/(?:(?<!\d))(-?\d+(?:\.\d+)?)\/(-?\d+(?:\.\d+)?)/);
    if (multMatch && (!divMatch || divMatch.index > multMatch.index)) {
        var left = parseFloat(multMatch[1]);
        var right = parseFloat(multMatch[2]);
        var result = left * right;
        expression = expression.replace(multMatch[0], result.toString());
        expression = evaluateMath(expression, depth + 1);
        return expression;
    }
    else if (divMatch) {
        var left = parseFloat(divMatch[1]);
        var right = parseFloat(divMatch[2]);
        var result = left / right;
        expression = expression.replace(divMatch[0], result.toString());
        expression = evaluateMath(expression, depth + 1);
        return expression;
    }
    const addMatch = expression.match(/(?:(?<!\d))(-?\d+(?:\.\d+)?)\+(-?\d+(?:\.\d+)?)/);
    const subMatch = expression.match(/(?:(?<!\d))(-?\d+(?:\.\d+)?)\-(-?\d+(?:\.\d+)?)/);
    if (addMatch && (!subMatch || subMatch.index > addMatch.index)) {
        var left = parseFloat(addMatch[1]);
        var right = parseFloat(addMatch[2]);
        var result = left + right;
        expression = expression.replace(addMatch[0], result.toString());
        expression = evaluateMath(expression, depth + 1);
        return expression;
    }
    else if (subMatch) {
        var left = parseFloat(subMatch[1]);
        var right = parseFloat(subMatch[2]);
        var result = left - right;
        expression = expression.replace(subMatch[0], result.toString());
        expression = evaluateMath(expression, depth + 1);
        return expression;
    }
    if (/[^\-0-9.]/.test(expression)) {
        return null;
    }
    return expression;
}


/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Selector__ = __webpack_require__(1);


class AdvancedMode {
    constructor(enabled) {
        this.tag = "pb-advanced";
        this.enabled = enabled;
    }
    cleanup() {
    }
    run() {
        if (!this.enabled) {
            return;
        }
        var buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("FLT");
        buffers.forEach(buffer => {
            cleanFleet(buffer, this.tag);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("CXOS");
        buffers.forEach(buffer => {
            cleanCXOS(buffer);
        });
        buffers = Object(__WEBPACK_IMPORTED_MODULE_0__util__["A" /* getBuffers */])("COGCPEX ");
        buffers.forEach(buffer => {
            cleanCOGCPEX(buffer, this.tag);
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = AdvancedMode;

function cleanFleet(buffer, tag) {
    const rows = buffer.querySelectorAll("tr");
    rows.forEach(row => {
        if (row.firstChild) {
            row.firstChild.style.display = "none";
        }
    });
    const links = buffer.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferLink);
    links.forEach(link => {
        if (link.textContent) {
            if (link.classList.contains(tag)) {
                return;
            }
            link.classList.add(tag);
            link.textContent = Object(__WEBPACK_IMPORTED_MODULE_0__util__["f" /* cleanPlanetName */])(link.textContent);
        }
    });
}
function cleanCXOS(buffer) {
    const rows = buffer.querySelectorAll("tr");
    rows.forEach(row => {
        if (row.firstChild) {
            row.firstChild.style.display = "none";
        }
    });
}
function cleanCOGCPEX(buffer, tag) {
    const links = buffer.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].BufferLink);
    links.forEach(link => {
        if (link.textContent) {
            if (link.classList.contains(tag)) {
                return;
            }
            link.classList.add(tag);
            link.textContent = link.textContent.replace("Advertising Campaign: ", "");
            link.textContent = link.textContent.replace("Education Events: ", "");
        }
    });
    const buttons = buffer.querySelectorAll(__WEBPACK_IMPORTED_MODULE_1__Selector__["a" /* Selector */].SmallButton);
    buttons.forEach(button => {
        if (button.textContent) {
            if (button.classList.contains(tag)) {
                return;
            }
            button.classList.add(tag);
            button.textContent = "vote";
        }
    });
}


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzAxZDg5ZGM1MTJiZTdkZWI3MWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NlbGVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9TdHlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZVByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9GaW5hbmNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRmxpZ2h0RVRBcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTG9jYWxNYXJrZXRBZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01vZHVsZVJ1bm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvWElUSGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvWElUL0ludmVudG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvWElUL0NoYXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9DYWxjdWxhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9YSVQvRGF0YUhlYWx0aC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvWElUL0J1cm4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9Db250cmFjdHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9Db21tYW5kTGlzdHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9EZWJ1Zy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvWElUL0hlbHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9SZXBhaXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9YSVQvU2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9Tb3J0LnRzIiwid2VicGFjazovLy8uL3NyYy9YSVQvU3RhcnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9XZWIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1hJVC9DaGVja2xpc3RzLnRzIiwid2VicGFjazovLy8uL3NyYy9YSVQvTm90ZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL09yZGVyRVRBcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29uc3VtYWJsZVRpbWVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRmxlZXRFVEFzLnRzIiwid2VicGFjazovLy8uL3NyYy9Qb3N0TE0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NoaXBwaW5nQWRzLnRzIiwid2VicGFjazovLy8uL3NyYy9RdWV1ZUxvYWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05vdGlmaWNhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JhY2tncm91bmRSdW5uZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NjcmVlblVucGFjay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU2lkZWJhci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbWFuZENvcnJlY3Rlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ2FsY3VsYXRvckJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvSW1hZ2VDcmVhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9JbnZlbnRvcnlPcmdhbml6ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0hlYWRlck1pbmltaXplci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUGVuZGluZ0NvbnRyYWN0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcGFjdFVJLnRzIiwid2VicGFjazovLy8uL3NyYy9Gb3JtdWxhRXZhbHVhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9BZHZhbmNlZE1vZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtRQUFBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtR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QUFLO0FBQzNDO0FBQ0E7QUFDQSxzQ0FBc0MscURBQUs7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscURBQUs7QUFDM0M7QUFDQTtBQUNBLHNDQUFzQyxxREFBSztBQUMzQztBQUNBO0FBQ0Esc0NBQXNDLHFEQUFLO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxxREFBSztBQUNoRCwyQ0FBMkMscURBQUs7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FDdjZCTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFBQTtBQUFBOzs7Ozs7OztBQzNDSztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQUE7QUFBQTtBQUNLO0FBQ1A7QUFDQSxFQUFFO0FBQUE7QUFBQTtBQUNLO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQUE7QUFBQTtBQUNLO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFBQTtBQUFBO0FBQ0s7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFBQTtBQUFBO0FBQ0s7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7O0FBRXZDLDRDQUE0QztBQUM1Qyw0Q0FBNEM7QUFDNUMsK0NBQStDO0FBQy9DLDhDQUE4Qzs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBRTtBQUFBO0FBQUE7QUFDSTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFBQTtBQUFBO0FBQ0s7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBRTtBQUFBO0FBQUE7QUFDSTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjOztBQUVkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCOztBQUVBO0FBQ0EsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUFBO0FBQUE7QUFDSztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQUE7QUFBQTtBQUNLO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QWlDLG1FQUFZO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrRUFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxrRUFBVztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJLHNFQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksa0VBQVc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ242QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMEM7QUFDUTtBQUNKO0FBQ047QUFDYztBQUNkO0FBQ047QUFDVTtBQUNKO0FBQ1E7QUFDWTtBQUNrQjtBQUNoQztBQUNWO0FBQ2tCO0FBQ0E7QUFDUjtBQUNZO0FBQ047QUFDRTtBQUNkO0FBQ2E7QUFDQTtBQUNQO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLGlFQUFVO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLGlFQUFVO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxDQUFDO0FBQUE7QUFBQTtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwwQ0FBMEMsMkRBQVE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNFQUFlO0FBQzlDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwwQ0FBMEMsMkRBQVE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDRDQUE0QywyREFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBjMDFkODlkYzUxMmJlN2RlYjcxZSIsImltcG9ydCB7IFNlbGVjdG9yIH0gZnJvbSBcIi4vU2VsZWN0b3JcIjtcbmltcG9ydCB7IE1hdGVyaWFsTmFtZXMsIFBsYW5ldE5hbWVzLCBTeXN0ZW1OYW1lcywgU3RhdGlvbnMgfSBmcm9tIFwiLi9HYW1lUHJvcGVydGllc1wiO1xuaW1wb3J0IHsgU3R5bGUsIENhdGVnb3J5Q29sb3JzLCBXaXRoU3R5bGVzLCBEZWZhdWx0Q29sb3JzIH0gZnJvbSBcIi4vU3R5bGVcIjtcbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGUoZmlsZURhdGEsIGZpbGVOYW1lLCBpc0pTT04gPSB0cnVlKSB7XG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtpc0pTT04gPyBKU09OLnN0cmluZ2lmeShmaWxlRGF0YSkgOiBmaWxlRGF0YV0sIHsgdHlwZTogXCJ0ZXh0L3BsYWluXCIgfSk7XG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBjb25zdCB1cmxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgdXJsRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkb3dubG9hZFwiLCBmaWxlTmFtZSk7XG4gICAgdXJsRWxlbWVudC5ocmVmID0gdXJsO1xuICAgIHVybEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuICAgIHVybEVsZW1lbnQuY2xpY2soKTtcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vZGUoaHRtbFN0cmluZykge1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG4gICAgcmV0dXJuIGRpdi5maXJzdENoaWxkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdE9wdGlvbihvcHRpb25MYWJlbCwgb3B0aW9uVmFsdWUsIHJpZ2h0QWxpZ24pIHtcbiAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIG9wdGlvbi52YWx1ZSA9IG9wdGlvblZhbHVlO1xuICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IG9wdGlvbkxhYmVsO1xuICAgIGlmIChyaWdodEFsaWduKSB7XG4gICAgICAgIG9wdGlvbi5zdHlsZS5kaXJlY3Rpb24gPSBcInJ0bFwiO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREdXJhdGlvblRvRVRBKHBhcnNlZFNlY29uZHMpIHtcbiAgICBjb25zdCBldGEgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgZXRhLnNldFNlY29uZHMoZXRhLmdldFNlY29uZHMoKSArIHBhcnNlZFNlY29uZHMpO1xuICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoZXRhLmdldFRpbWUoKSAtIG5vdy5nZXRUaW1lKCkpO1xuICAgIGNvbnN0IGRpZmZEYXlzID0gTWF0aC5mbG9vcihkaWZmVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4gICAgbGV0IHJldCA9IGV0YS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KTtcbiAgICBpZiAoZGlmZkRheXMgPiAwKSB7XG4gICAgICAgIHJldCArPSBgICske2RpZmZEYXlzfWRgO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRHVyYXRpb24oZHVyYXRpb24pIHtcbiAgICBjb25zdCBkYXlzID0gZHVyYXRpb24ubWF0Y2goLyhcXGQrKVxccypkLyk7XG4gICAgY29uc3QgaG91cnMgPSBkdXJhdGlvbi5tYXRjaCgvKFxcZCspXFxzKmgvKTtcbiAgICBjb25zdCBtaW51dGVzID0gZHVyYXRpb24ubWF0Y2goLyhcXGQrKVxccyptLyk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IGR1cmF0aW9uLm1hdGNoKC8oXFxkKylcXHMqcy8pO1xuICAgIGxldCBwYXJzZWRTZWNvbmRzID0gMDtcbiAgICBpZiAoZGF5cykge1xuICAgICAgICBwYXJzZWRTZWNvbmRzICs9IHBhcnNlSW50KGRheXNbMV0pICogODY0MDA7XG4gICAgfVxuICAgIGlmIChob3Vycykge1xuICAgICAgICBwYXJzZWRTZWNvbmRzICs9IHBhcnNlSW50KGhvdXJzWzFdKSAqIDM2MDA7XG4gICAgfVxuICAgIGlmIChtaW51dGVzKSB7XG4gICAgICAgIHBhcnNlZFNlY29uZHMgKz0gcGFyc2VJbnQobWludXRlc1sxXSkgKiA2MDtcbiAgICB9XG4gICAgaWYgKHNlY29uZHMpIHtcbiAgICAgICAgcGFyc2VkU2Vjb25kcyArPSBwYXJzZUludChzZWNvbmRzWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZFNlY29uZHM7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYW5QbGFuZXROYW1lKHRleHQpIHtcbiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHMqXFwoW14pXSpcXCkvLCAnJyk7XG4gICAgdGV4dCA9IHRleHQucmVwbGFjZSgvKFxcZClcXHMrKD89W2EtekEtWl0pLywgJyQxJyk7XG4gICAgdGV4dCA9IHRleHQucmVwbGFjZSgvLipcXHMtXFxzLywgJycpO1xuICAgIGlmIChTdGF0aW9uc1t0ZXh0LnNsaWNlKDAsIC0xKV0pIHtcbiAgICAgICAgdGV4dCA9IFN0YXRpb25zW3RleHQuc2xpY2UoMCwgLTEpXTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGV4dFNwYW4odGV4dCwgY2xhc3NOYW1lID0gXCJwcnVuLXJlbW92ZS1qc1wiKSB7XG4gICAgY29uc3QgbmV3U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIG5ld1NwYW4uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIG5ld1NwYW4udGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIHJldHVybiBuZXdTcGFuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRleHREaXYodGV4dCwgY2xhc3NOYW1lID0gXCJwcnVuLXJlbW92ZS1qc1wiKSB7XG4gICAgY29uc3QgbmV3U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmV3U3Bhbi5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgbmV3U3Bhbi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgcmV0dXJuIG5ld1NwYW47XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmluYW5jaWFsVGV4dEJveChwcmltYXJ5VGV4dCwgc2Vjb25kYXJ5VGV4dCwgcHJpbWFyeVRleHRDb2xvciwgY2xhc3NOYW1lID0gXCJwcnVuLXJlbW92ZS1qc1wiKSB7XG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib3guY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIGJveC5jbGFzc0xpc3QuYWRkKFwiZmluLWJveFwiKTtcbiAgICBjb25zdCBwcmltYXJ5VGV4dFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBwcmltYXJ5VGV4dFNwYW4uc3R5bGUuZm9udFNpemUgPSBcIjEycHhcIjtcbiAgICBwcmltYXJ5VGV4dFNwYW4uc3R5bGUubGluZUhlaWdodCA9IFwiMS4xXCI7XG4gICAgcHJpbWFyeVRleHRTcGFuLnN0eWxlLmNvbG9yID0gcHJpbWFyeVRleHRDb2xvcjtcbiAgICBwcmltYXJ5VGV4dFNwYW4udGV4dENvbnRlbnQgPSBwcmltYXJ5VGV4dDtcbiAgICBib3guYXBwZW5kQ2hpbGQocHJpbWFyeVRleHRTcGFuKTtcbiAgICBjb25zdCBzZWNvbmRhcnlUZXh0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzZWNvbmRhcnlUZXh0RGl2LnRleHRDb250ZW50ID0gc2Vjb25kYXJ5VGV4dDtcbiAgICBzZWNvbmRhcnlUZXh0RGl2LnN0eWxlLmZvbnRTaXplID0gXCIxMHB4XCI7XG4gICAgc2Vjb25kYXJ5VGV4dERpdi5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxLjFcIjtcbiAgICBzZWNvbmRhcnlUZXh0RGl2LnN0eWxlLm1hcmdpblRvcCA9IFwiMnB4XCI7XG4gICAgc2Vjb25kYXJ5VGV4dERpdi5zdHlsZS5jb2xvciA9IFwiIzk5OVwiO1xuICAgIGJveC5hcHBlbmRDaGlsZChzZWNvbmRhcnlUZXh0RGl2KTtcbiAgICByZXR1cm4gYm94O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbnZlbnRvcnlBbW91bnQodGlja2VyLCBpbnZlbnRvcnkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludmVudG9yeVtcIkludmVudG9yeVwiXS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaW52ZW50b3J5W1wiSW52ZW50b3J5XCJdW2ldW1wiTWF0ZXJpYWxUaWNrZXJcIl0gPT0gdGlja2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gaW52ZW50b3J5W1wiSW52ZW50b3J5XCJdW2ldW1wiTWF0ZXJpYWxBbW91bnRcIl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZEJ1cm5BbW91bnQodGlja2VyLCBpbnZlbnRvcnkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludmVudG9yeVtcIldvcmtmb3JjZUNvbnN1bXB0aW9uXCJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpbnZlbnRvcnlbXCJXb3JrZm9yY2VDb25zdW1wdGlvblwiXVtpXVtcIk1hdGVyaWFsVGlja2VyXCJdID09IHRpY2tlcikge1xuICAgICAgICAgICAgcmV0dXJuIGludmVudG9yeVtcIldvcmtmb3JjZUNvbnN1bXB0aW9uXCJdW2ldW1wiRGFpbHlBbW91bnRcIl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTb3J0KGEsIGIpIHtcbiAgICBpZiAoIU1hdGVyaWFsTmFtZXNbYV0gfHwgIU1hdGVyaWFsTmFtZXNbYl0pIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBNYXRlcmlhbE5hbWVzW2FdWzFdLmxvY2FsZUNvbXBhcmUoTWF0ZXJpYWxOYW1lc1tiXVsxXSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZENvcnJlc3BvbmRpbmdQbGFuZXQocGxhbmV0LCBkYXRhLCBuZWVkQmFzZSkge1xuICAgIGlmICghZGF0YSB8fCAhcGxhbmV0KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocGxhbmV0ICYmIGRhdGFbaV1bXCJQbGFuZXROYXR1cmFsSWRcIl0gJiYgZGF0YVtpXVtcIlBsYW5ldE5hdHVyYWxJZFwiXS50b0xvd2VyQ2FzZSgpID09IHBsYW5ldC50b0xvd2VyQ2FzZSgpICYmICghbmVlZEJhc2UgfHwgZGF0YVtpXVtcInR5cGVcIl0gPT0gXCJTVE9SRVwiIHx8IGRhdGFbaV1bXCJ0eXBlXCJdID09IFwiQkFTRVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGxhbmV0ICYmIGRhdGFbaV1bXCJQbGFuZXROYW1lXCJdICYmIGRhdGFbaV1bXCJQbGFuZXROYW1lXCJdLnRvTG93ZXJDYXNlKCkgPT0gcGxhbmV0LnRvTG93ZXJDYXNlKCkgJiYgKCFuZWVkQmFzZSB8fCBkYXRhW2ldW1widHlwZVwiXSA9PSBcIlNUT1JFXCIgfHwgZGF0YVtpXVtcInR5cGVcIl0gPT0gXCJCQVNFXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVtpXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwbGFuZXQgJiYgZGF0YVtpXVtcIlBsYW5ldE5hdHVyYWxJZFwiXSAmJiBQbGFuZXROYW1lc1twbGFuZXRdICYmIFBsYW5ldE5hbWVzW3BsYW5ldF0udG9Mb3dlckNhc2UoKSA9PSBkYXRhW2ldW1wiUGxhbmV0TmF0dXJhbElkXCJdLnRvTG93ZXJDYXNlKCkgJiYgKCFuZWVkQmFzZSB8fCBkYXRhW2ldW1widHlwZVwiXSA9PSBcIlNUT1JFXCIgfHwgZGF0YVtpXVtcInR5cGVcIl0gPT0gXCJCQVNFXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQmFzZU5hbWUodGV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL0AgKFtBLVpdezJ9LVswLTldezN9IFthLXpdKSBCYXNlLyk7XG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzFdLnJlcGxhY2UoXCIgXCIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIG1hdGNoID0gdGV4dC5tYXRjaCgvQCAoW0EteiBdKikgLSAoW0EteiBdKikgQmFzZS8pO1xuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0gJiYgbWF0Y2hbMl0pIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaFsyXTtcbiAgICAgICAgfVxuICAgICAgICBtYXRjaCA9IHRleHQubWF0Y2goL0AgKFtBLXogXSopIChbQS16XSkgQmFzZS8pO1xuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0gJiYgbWF0Y2hbMl0gJiYgU3lzdGVtTmFtZXNbbWF0Y2hbMV0udG9VcHBlckNhc2UoKV0pIHtcbiAgICAgICAgICAgIHJldHVybiBTeXN0ZW1OYW1lc1ttYXRjaFsxXS50b1VwcGVyQ2FzZSgpXSArIG1hdGNoWzJdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9AIFtBLVpdezJ9LVswLTldezN9IC0gKFtBLXogXSopIEJhc2UvKTtcbiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNhdGNoIChUeXBlRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSW52TmFtZSh0ZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0ZXh0LnNwbGl0KFwiIFwiKTtcbiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNhdGNoIChUeXBlRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUGxhbmV0TmFtZSh0ZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9cXCgoLio/KVxcKS8pO1xuICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY2F0Y2ggKFR5cGVFcnJvcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlKHN0b3JhZ2VOYW1lLCBjYWxsYmFja0Z1bmN0aW9uLCBwYXJhbXMpIHtcbiAgICB0cnkge1xuICAgICAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KHN0b3JhZ2VOYW1lKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuY3Rpb24ocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoW3N0b3JhZ2VOYW1lXSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgY2FsbGJhY2tGdW5jdGlvbihyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckNoaWxkcmVuKGVsZW0pIHtcbiAgICBlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB3aGlsZSAoZWxlbS5jaGlsZHJlblswXSkge1xuICAgICAgICBlbGVtLnJlbW92ZUNoaWxkKGVsZW0uY2hpbGRyZW5bMF0pO1xuICAgIH1cbiAgICByZXR1cm47XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0U2V0dGluZ3MocmVzdWx0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldChyZXN1bHQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldChyZXN1bHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBYSVRXZWJSZXF1ZXN0KHRpbGUsIHBhcmFtZXRlcnMsIGNhbGxiYWNrRnVuY3Rpb24sIHVybCwgcmVxdWVzdFR5cGUgPSBcIkdFVFwiLCBoZWFkZXIsIGNvbnRlbnQpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGlsZS50ZXh0Q29udGVudCA9IFwiRXJyb3IhIERhdGEgQ291bGQgTm90IEJlIExvYWRlZCEgVGltZWQgT3V0IVwiO1xuICAgIH07XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuY3Rpb24odGlsZSwgcGFyYW1ldGVycywgeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgeGhyLnRpbWVvdXQgPSAxMDAwMDtcbiAgICB4aHIub3BlbihyZXF1ZXN0VHlwZSwgdXJsLCB0cnVlKTtcbiAgICBpZiAodXJsLmluY2x1ZGVzKFwiZm5hclwiKSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIlgtRklPLUFwcGxpY2F0aW9uXCIsIFwiUE1NR0V4dGVuZGVkXCIpO1xuICAgIH1cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlclswXSwgaGVhZGVyWzFdKTtcbiAgICB9XG4gICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgeGhyLnNlbmQoY29udGVudCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hdGVyaWFsRWxlbWVudCh0aWNrZXIsIGNsYXNzTmFtZSA9IFwicHJ1bi1yZW1vdmUtanNcIiwgYW1vdW50ID0gXCJub25lXCIsIHRleHQgPSBmYWxzZSwgc21hbGwgPSBmYWxzZSkge1xuICAgIGlmICghTWF0ZXJpYWxOYW1lc1t0aWNrZXJdICYmIHRpY2tlciAhPSBcIlNIUFRcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbmFtZSA9IChNYXRlcmlhbE5hbWVzW3RpY2tlcl0gfHwgW1wiU2hpcG1lbnRcIl0pWzBdO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gKE1hdGVyaWFsTmFtZXNbdGlja2VyXSB8fCBbdW5kZWZpbmVkLCBcInNoaXBtZW50XCJdKVsxXTtcbiAgICBjb25zdCBtYXRUZXh0ID0gY3JlYXRlVGV4dFNwYW4odGlja2VyLCBjbGFzc05hbWUpO1xuICAgIG1hdFRleHQuY2xhc3NMaXN0LmFkZCguLi5XaXRoU3R5bGVzKFN0eWxlLk1hdFRleHQpKTtcbiAgICBjb25zdCBtYXRUZXh0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWF0VGV4dFdyYXBwZXIuY2xhc3NMaXN0LmFkZCguLi5XaXRoU3R5bGVzKFN0eWxlLk1hdFRleHRXcmFwcGVyKSk7XG4gICAgbWF0VGV4dFdyYXBwZXIuYXBwZW5kQ2hpbGQobWF0VGV4dCk7XG4gICAgY29uc3QgbWF0ZXJpYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1hdGVyaWFsLmNsYXNzTGlzdC5hZGQoLi4uV2l0aFN0eWxlcyhTdHlsZS5NYXRlcmlhbEVsZW1lbnQpKTtcbiAgICBtYXRlcmlhbC5hcHBlbmRDaGlsZChtYXRUZXh0V3JhcHBlcik7XG4gICAgbWF0ZXJpYWwuc3R5bGUuYmFja2dyb3VuZCA9IENhdGVnb3J5Q29sb3JzW2NhdGVnb3J5XVswXTtcbiAgICBtYXRlcmlhbC5zdHlsZS5jb2xvciA9IENhdGVnb3J5Q29sb3JzW2NhdGVnb3J5XVsxXTtcbiAgICBtYXRlcmlhbC50aXRsZSA9IG5hbWU7XG4gICAgbWF0ZXJpYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2hvd0J1ZmZlcihcIk1BVCBcIiArIHRpY2tlci50b1VwcGVyQ2FzZSgpKTtcbiAgICB9KTtcbiAgICBjb25zdCBtYXRlcmlhbFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1hdGVyaWFsV3JhcHBlci5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuTWF0ZXJpYWxXcmFwcGVyKSk7XG4gICAgbWF0ZXJpYWxXcmFwcGVyLmFwcGVuZENoaWxkKG1hdGVyaWFsKTtcbiAgICBjb25zdCBtYXRlcmlhbFdyYXBwZXJXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtYXRlcmlhbFdyYXBwZXJXcmFwcGVyLmNsYXNzTGlzdC5hZGQoLi4uV2l0aFN0eWxlcyhTdHlsZS5NYXRlcmlhbFdyYXBwZXJXcmFwcGVyKSk7XG4gICAgbWF0ZXJpYWxXcmFwcGVyV3JhcHBlci5hcHBlbmRDaGlsZChtYXRlcmlhbFdyYXBwZXIpO1xuICAgIGNvbnN0IG91dGVyTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG91dGVyTGF5ZXIuY2xhc3NMaXN0LmFkZCguLi5XaXRoU3R5bGVzKFN0eWxlLk1hdGVyaWFsT3V0ZXIpKTtcbiAgICBvdXRlckxheWVyLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICBvdXRlckxheWVyLmFwcGVuZENoaWxkKG1hdGVyaWFsV3JhcHBlcldyYXBwZXIpO1xuICAgIGlmIChhbW91bnQgJiYgYW1vdW50ICE9IFwibm9uZVwiKSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsTnVtYmVyV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1hdGVyaWFsTnVtYmVyV3JhcHBlci5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuTWF0ZXJpYWxOdW1iZXJXcmFwcGVyKSk7XG4gICAgICAgIG1hdGVyaWFsV3JhcHBlci5hcHBlbmRDaGlsZChtYXRlcmlhbE51bWJlcldyYXBwZXIpO1xuICAgICAgICBjb25zdCBtYXRlcmlhbE51bWJlciA9IGNyZWF0ZVRleHREaXYoYW1vdW50LCBjbGFzc05hbWUpO1xuICAgICAgICBtYXRlcmlhbE51bWJlci5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuTWF0ZXJpYWxOdW1iZXIpKTtcbiAgICAgICAgbWF0ZXJpYWxOdW1iZXJXcmFwcGVyLmFwcGVuZENoaWxkKG1hdGVyaWFsTnVtYmVyKTtcbiAgICB9XG4gICAgaWYgKHRleHQpIHtcbiAgICAgICAgY29uc3QgdGV4dEVsZW1XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHRleHRFbGVtV3JhcHBlci5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuTWF0ZXJpYWxOYW1lVGV4dCkpO1xuICAgICAgICBjb25zdCB0ZXh0RWxlbSA9IGNyZWF0ZVRleHRTcGFuKG5hbWUsIGNsYXNzTmFtZSk7XG4gICAgICAgIHRleHRFbGVtV3JhcHBlci5hcHBlbmRDaGlsZCh0ZXh0RWxlbSk7XG4gICAgICAgIG91dGVyTGF5ZXIuYXBwZW5kQ2hpbGQodGV4dEVsZW1XcmFwcGVyKTtcbiAgICB9XG4gICAgaWYgKHNtYWxsKSB7XG4gICAgICAgIG1hdGVyaWFsV3JhcHBlci5jbGFzc0xpc3QuYWRkKFwibWF0LWVsZW1lbnQtc21hbGxcIik7XG4gICAgICAgIHJldHVybiBtYXRlcmlhbFdyYXBwZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXRlcmlhbFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm1hdC1lbGVtZW50LWxhcmdlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0ZXJMYXllcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMaW5rKHRleHQsIGNvbW1hbmQpIHtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgbGluay50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkgeyBzaG93QnVmZmVyKGNvbW1hbmQpOyB9KTtcbiAgICBjb25zdCBsaW5rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsaW5rRGl2LmNsYXNzTGlzdC5hZGQoXCJsaW5rXCIpO1xuICAgIGxpbmtEaXYuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgcmV0dXJuIGxpbmtEaXY7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvd0J1ZmZlcihjb21tYW5kKSB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU2VsZWN0b3IuTmV3QkZSQnV0dG9uKTtcbiAgICBpZiAoYnV0dG9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBhZGRTdWJtaXRDb21tYW5kID0gKGlucHV0LCBjbWQpID0+IHtcbiAgICAgICAgY2hhbmdlVmFsdWUoaW5wdXQsIGNtZCk7XG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZXF1ZXN0U3VibWl0KCk7XG4gICAgfTtcbiAgICBtb25pdG9yT25FbGVtZW50Q3JlYXRlZChTZWxlY3Rvci5CdWZmZXJUZXh0RmllbGQsIChlbGVtKSA9PiBhZGRTdWJtaXRDb21tYW5kKGVsZW0sIGNvbW1hbmQpKTtcbiAgICBidXR0b24uY2xpY2soKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VWYWx1ZShpbnB1dCwgdmFsdWUpIHtcbiAgICB2YXIgcHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvd1tcIkhUTUxJbnB1dEVsZW1lbnRcIl0ucHJvdG90eXBlLCBcInZhbHVlXCIpO1xuICAgIGlmIChwcm9wRGVzY3JpcHRvciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbmF0aXZlSW5wdXRWYWx1ZVNldHRlciA9IHByb3BEZXNjcmlwdG9yLnNldDtcbiAgICBpZiAobmF0aXZlSW5wdXRWYWx1ZVNldHRlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBuYXRpdmVJbnB1dFZhbHVlU2V0dGVyLmNhbGwoaW5wdXQsIHZhbHVlKTtcbiAgICB2YXIgaW5wdXRFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGlucHV0RXZlbnQuaW5pdEV2ZW50KCdpbnB1dCcsIHRydWUsIHRydWUpO1xuICAgIGlucHV0LmRpc3BhdGNoRXZlbnQoaW5wdXRFdmVudCk7XG59XG5mdW5jdGlvbiBtb25pdG9yT25FbGVtZW50Q3JlYXRlZChzZWxlY3RvciwgY2FsbGJhY2ssIG9ubHlPbmNlID0gdHJ1ZSkge1xuICAgIGNvbnN0IGdldEVsZW1lbnRzRnJvbU5vZGVzID0gKG5vZGVzKSA9PiAoQXJyYXkuZnJvbShub2RlcykpLmZsYXRNYXAobm9kZSA9PiBub2RlLm5vZGVUeXBlID09PSAzID8gbnVsbCA6IEFycmF5LmZyb20obm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkpLmZpbHRlcihpdGVtID0+IGl0ZW0gIT09IG51bGwpO1xuICAgIGxldCBvbk11dGF0aW9uc09ic2VydmVkID0gZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGdldEVsZW1lbnRzRnJvbU5vZGVzKG11dGF0aW9uLmFkZGVkTm9kZXMpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlbGVtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbmx5T25jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgbGV0IGNvbnRhaW5lclNlbGVjdG9yID0gJ2JvZHknO1xuICAgIGxldCB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBjb25maWcgPSB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xuICAgIGxldCBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93W1wiTXV0YXRpb25PYnNlcnZlclwiXSB8fCB3aW5kb3dbXCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyXCJdO1xuICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG9uTXV0YXRpb25zT2JzZXJ2ZWQpO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCBjb25maWcpO1xuICAgIHJldHVybjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmljQ2xlYW51cChjbGFzc05hbWUgPSBcInBydW4tcmVtb3ZlLWpzXCIpIHtcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBlbGVtLnBhcmVudE5vZGUgJiYgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyaWNVbmhpZGUoY2xhc3NOYW1lID0gXCJwcnVuLXJlbW92ZS1qc1wiKSB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSArIFwiLWhpZGRlblwiKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lICsgXCItaGlkZGVuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldGVkQ2xlYW51cChjbGFzc05hbWUsIGVsZW1lbnQpIHtcbiAgICBBcnJheS5mcm9tKGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpKS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbiAgICByZXR1cm47XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QnVmZmVycyhidWZmZXJDb2RlKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBkb2N1bWVudC5ldmFsdWF0ZShgLy9kaXZbQGNsYXNzPScke1NlbGVjdG9yLkJ1ZmZlckhlYWRlcn0nXVtzdGFydHMtd2l0aCh0cmFuc2xhdGUoLiwgJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JywgJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJyksICcke2J1ZmZlckNvZGV9JyldLy4uLy4uYCwgZG9jdW1lbnQsIG51bGwsIFhQYXRoUmVzdWx0LkFOWV9UWVBFLCBudWxsKTtcbiAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgIHZhciBub2RlO1xuICAgIHdoaWxlIChub2RlID0gbm9kZXMuaXRlcmF0ZU5leHQoKSkge1xuICAgICAgICBidWZmZXJzLnB1c2gobm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXJzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlYUGF0aCh4cGF0aCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LmV2YWx1YXRlKHhwYXRoLCBkb2N1bWVudCwgbnVsbCwgWFBhdGhSZXN1bHQuQU5ZX1VOT1JERVJFRF9OT0RFX1RZUEUsIG51bGwpO1xuICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0Lml0ZXJhdGVOZXh0KCk7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBvdXRwdXQucHVzaChub2RlKTtcbiAgICAgICAgICAgIG5vZGUgPSByZXN1bHQuaXRlcmF0ZU5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRUYWJsZSh0YWJsZSwgY29sdW1uLCBzb3J0VHlwZSkge1xuICAgIHZhciBzb3J0ZXIgPSBbXTtcbiAgICBpZiAodGFibGUuY2hpbGRyZW5bMV0gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvd3MgPSBBcnJheS5mcm9tKHRhYmxlLmNoaWxkcmVuWzFdLmNoaWxkcmVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSByb3dzW2ldLmNoaWxkcmVuW2NvbHVtbl07XG4gICAgICAgIGlmIChpdGVtID09IG51bGwgfHwgaXRlbS5maXJzdENoaWxkID09IG51bGwpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNvcnRlci5wdXNoKFtpdGVtLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQsIHJvd3NbaV1dKTtcbiAgICB9XG4gICAgaWYgKHNvcnRUeXBlID09IFwiYWxwaFwiKSB7XG4gICAgICAgIHNvcnRlci5zb3J0KHRhYmxlU29ydEFscGgpO1xuICAgIH1cbiAgICBzb3J0ZXIuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgdGFibGUuY2hpbGRyZW5bMV0uaW5zZXJ0QmVmb3JlKHRhYmxlLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdLCBpdGVtWzFdKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRhYmxlU29ydEFscGgoYSwgYikge1xuICAgIHJldHVybiBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVGFibGUodGlsZSwgaGVhZGVycykge1xuICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICB0aWxlLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICBjb25zdCB0aGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcbiAgICB0YWJsZS5hcHBlbmRDaGlsZCh0aGVhZCk7XG4gICAgY29uc3QgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgIHRoZWFkLmFwcGVuZENoaWxkKGhlYWRlclJvdyk7XG4gICAgZm9yIChsZXQgdGl0bGUgb2YgaGVhZGVycykge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgICAgICBoZWFkZXIuc3R5bGUucGFkZGluZ1RvcCA9IFwiMFwiO1xuICAgICAgICBoZWFkZXJSb3cuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICB9XG4gICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XG4gICAgdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xuICAgIHJldHVybiB0Ym9keTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb29sVGlwKHRleHQsIHBvc2l0aW9uKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gYDxzcGFuIGRhdGEtdG9vbHRpcD1cIiR7dGV4dH1cIiBkYXRhLXRvb2x0aXAtcG9zaXRpb249XCIke3Bvc2l0aW9ufVwiIGNsYXNzPVwia2ZVNzhFYWFPVmJRUjJZTTBlZUdldz09XCIgc3R5bGU9XCJmbG9hdDogcmV2ZXJ0O2ZvbnQtc2l6ZTogMTJweDttYXJnaW4tdG9wOi00cHg7XCI+4pOYPC9zcGFuPmA7XG4gICAgcmV0dXJuIHRvb2x0aXAuZmlyc3RDaGlsZCB8fCB0b29sdGlwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQb3B1cFNwYWNlcih0aWxlLCB0b1JlbW92ZSkge1xuICAgIGNvbnN0IHNwYWNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc3BhY2VyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU3BhY2VyKTtcbiAgICBzcGFjZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGlsZS5yZW1vdmVDaGlsZCh0b1JlbW92ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbiAgICByZXR1cm4gc3BhY2VyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBvcHVwSW5wdXRSb3cobGFiZWwsIHRleHQgPSBcIlwiLCB0b29sdGlwID0gXCJcIikge1xuICAgIGNvbnN0IGlucHV0Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpbnB1dFJvdy5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1Sb3cpO1xuICAgIGNvbnN0IGlucHV0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgaW5wdXRMYWJlbC50ZXh0Q29udGVudCA9IGxhYmVsO1xuICAgIGlmICh0b29sdGlwICE9IFwiXCIpIHtcbiAgICAgICAgaW5wdXRMYWJlbC5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKHRvb2x0aXAsIFwicmlnaHRcIikpO1xuICAgIH1cbiAgICBpbnB1dExhYmVsLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuRm9ybUxhYmVsKTtcbiAgICBpbnB1dFJvdy5hcHBlbmRDaGlsZChpbnB1dExhYmVsKTtcbiAgICBjb25zdCBpbnB1dElucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpbnB1dElucHV0RGl2LmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuRm9ybUlucHV0KTtcbiAgICBpbnB1dFJvdy5hcHBlbmRDaGlsZChpbnB1dElucHV0RGl2KTtcbiAgICBjb25zdCBpbnB1dElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGlucHV0SW5wdXQuc3R5bGUud2lkdGggPSBcIjgwJVwiO1xuICAgIGlucHV0SW5wdXREaXYuYXBwZW5kQ2hpbGQoaW5wdXRJbnB1dCk7XG4gICAgaW5wdXRJbnB1dC52YWx1ZSA9IHRleHQ7XG4gICAgcmV0dXJuIGlucHV0Um93O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBvcHVwQ2hlY2tib3hSb3cobGFiZWwsIGVuYWJsZWQgPSBmYWxzZSwgdG9vbHRpcCA9IFwiXCIpIHtcbiAgICBjb25zdCBpbnB1dFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaW5wdXRSb3cuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtUm93KTtcbiAgICBjb25zdCBpbnB1dExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGlucHV0TGFiZWwudGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICBpZiAodG9vbHRpcCAhPSBcIlwiKSB7XG4gICAgICAgIGlucHV0TGFiZWwuYXBwZW5kQ2hpbGQoY3JlYXRlVG9vbFRpcCh0b29sdGlwLCBcInJpZ2h0XCIpKTtcbiAgICB9XG4gICAgaW5wdXRMYWJlbC5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1MYWJlbCk7XG4gICAgaW5wdXRSb3cuYXBwZW5kQ2hpbGQoaW5wdXRMYWJlbCk7XG4gICAgY29uc3QgaW5wdXRJbnB1dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaW5wdXRJbnB1dERpdi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1JbnB1dCk7XG4gICAgaW5wdXRSb3cuYXBwZW5kQ2hpbGQoaW5wdXRJbnB1dERpdik7XG4gICAgY29uc3QgaW5wdXRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBpbnB1dElucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgaW5wdXRJbnB1dERpdi5hcHBlbmRDaGlsZChpbnB1dElucHV0KTtcbiAgICBpbnB1dElucHV0LmNoZWNrZWQgPSBlbmFibGVkO1xuICAgIHJldHVybiBpbnB1dFJvdztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZU9mUG9wdXBSb3cocm93KSB7XG4gICAgaWYgKCFyb3cgfHwgIXJvdy5jaGlsZHJlblsxXSB8fCAhcm93LmNoaWxkcmVuWzFdLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcm93LmNoaWxkcmVuWzFdLmZpcnN0Q2hpbGQudmFsdWUgfHwgXCJcIjtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hlY2tPZlBvcHVwUm93KHJvdykge1xuICAgIGlmICghcm93IHx8ICFyb3cuY2hpbGRyZW5bMV0gfHwgIXJvdy5jaGlsZHJlblsxXS5maXJzdENoaWxkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiByb3cuY2hpbGRyZW5bMV0uZmlyc3RDaGlsZC5jaGVja2VkIHx8IGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTbWFsbEJ1dHRvbihsYWJlbCwgY2xpY2tGdW5jdGlvbiwgcGFyYW1ldGVycykge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU21hbGxCdXR0b24pO1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkgeyBjbGlja0Z1bmN0aW9uKC4uLnBhcmFtZXRlcnMpOyB9KTtcbiAgICByZXR1cm4gYnV0dG9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRyYWN0RGljdChjb250cmFjdHMsIGNvbnRyYWN0ZGljdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udHJhY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb250cmFjdHNbaV07XG4gICAgICAgIGNvbnRyYWN0ZGljdFtlbGVtZW50Wydsb2NhbElkJ11dID0gZWxlbWVudDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQnVybihwcm9kdWN0aW9uLCB3b3JrZm9yY2UsIGludmVudG9yeSkge1xuICAgIGNvbnN0IGJ1cm5EaWN0ID0ge307XG4gICAgaWYgKHByb2R1Y3Rpb24gJiYgcHJvZHVjdGlvbi5saW5lcykge1xuICAgICAgICBwcm9kdWN0aW9uLmxpbmVzLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBudW1MaW5lcyA9IGxpbmUuY2FwYWNpdHk7XG4gICAgICAgICAgICB2YXIgaGFzUmVjdXJyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgdG90YWxEdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBsaW5lLm9yZGVycy5mb3JFYWNoKG9yZGVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW9yZGVyLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVjdXJyaW5nID0gaGFzUmVjdXJyaW5nIHx8IG9yZGVyLnJlY3VycmluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxpbmUub3JkZXJzLmZvckVhY2gob3JkZXIgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghb3JkZXIuc3RhcnRlZCAmJiAoIWhhc1JlY3VycmluZyB8fCBvcmRlci5yZWN1cnJpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsRHVyYXRpb24gKz0gb3JkZXIuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0b3RhbER1cmF0aW9uIC89IDg2NDAwMDAwO1xuICAgICAgICAgICAgbGluZS5vcmRlcnMuZm9yRWFjaChvcmRlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFvcmRlci5zdGFydGVkICYmICghaGFzUmVjdXJyaW5nIHx8IG9yZGVyLnJlY3VycmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIub3V0cHV0cy5mb3JFYWNoKG1hdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnVybkRpY3RbbWF0W1wiTWF0ZXJpYWxUaWNrZXJcIl1dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVybkRpY3RbbWF0W1wiTWF0ZXJpYWxUaWNrZXJcIl1dW1wiRGFpbHlBbW91bnRcIl0gKz0gbWF0W1wiQW1vdW50XCJdICogbnVtTGluZXMgLyB0b3RhbER1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVybkRpY3RbbWF0W1wiTWF0ZXJpYWxUaWNrZXJcIl1dID0geyBcIkRhaWx5QW1vdW50XCI6IG1hdFtcIkFtb3VudFwiXSAqIG51bUxpbmVzIC8gdG90YWxEdXJhdGlvbiwgXCJJbnZlbnRvcnlcIjogMCwgXCJEYXlzTGVmdFwiOiAwLCBcIlR5cGVcIjogXCJvdXRwdXRcIiB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIuaW5wdXRzLmZvckVhY2gobWF0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXJuRGljdFttYXRbXCJNYXRlcmlhbFRpY2tlclwiXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXJuRGljdFttYXRbXCJNYXRlcmlhbFRpY2tlclwiXV1bXCJEYWlseUFtb3VudFwiXSAtPSBtYXRbXCJBbW91bnRcIl0gKiBudW1MaW5lcyAvIHRvdGFsRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1cm5EaWN0W21hdFtcIk1hdGVyaWFsVGlja2VyXCJdXVtcIlR5cGVcIl0gPT0gXCJvdXRwdXRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXJuRGljdFttYXRbXCJNYXRlcmlhbFRpY2tlclwiXV1bXCJUeXBlXCJdID0gXCJpbnB1dFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1cm5EaWN0W21hdFtcIk1hdGVyaWFsVGlja2VyXCJdXSA9IHsgXCJEYWlseUFtb3VudFwiOiAtbWF0W1wiQW1vdW50XCJdICogbnVtTGluZXMgLyB0b3RhbER1cmF0aW9uLCBcIkludmVudG9yeVwiOiAwLCBcIkRheXNMZWZ0XCI6IDAsIFwiVHlwZVwiOiBcImlucHV0XCIgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAod29ya2ZvcmNlICYmIHdvcmtmb3JjZS53b3JrZm9yY2UpIHtcbiAgICAgICAgd29ya2ZvcmNlLndvcmtmb3JjZS5mb3JFYWNoKHRpZXIgPT4ge1xuICAgICAgICAgICAgaWYgKHRpZXIucG9wdWxhdGlvbiA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aWVyLm5lZWRzLmZvckVhY2gobmVlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tlciA9IG5lZWQubWF0ZXJpYWwudGlja2VyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVybkRpY3RbdGlja2VyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVybkRpY3RbdGlja2VyXVtcIkRhaWx5QW1vdW50XCJdIC09IG5lZWQudW5pdHNQZXJJbnRlcnZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1cm5EaWN0W3RpY2tlcl1bXCJUeXBlXCJdID0gXCJ3b3JrZm9yY2VcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1cm5EaWN0W3RpY2tlcl0gPSB7IFwiRGFpbHlBbW91bnRcIjogLW5lZWQudW5pdHNQZXJJbnRlcnZhbCwgXCJJbnZlbnRvcnlcIjogMCwgXCJEYXlzTGVmdFwiOiAwLCBcIlR5cGVcIjogXCJ3b3JrZm9yY2VcIiB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW52ZW50b3J5ICYmIGludmVudG9yeS5pdGVtcykge1xuICAgICAgICBpbnZlbnRvcnkuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChidXJuRGljdFtpdGVtLk1hdGVyaWFsVGlja2VyXSkge1xuICAgICAgICAgICAgICAgIGJ1cm5EaWN0W2l0ZW0uTWF0ZXJpYWxUaWNrZXJdW1wiSW52ZW50b3J5XCJdID0gaXRlbS5BbW91bnQ7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uQW1vdW50ICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnVybkRpY3RbaXRlbS5NYXRlcmlhbFRpY2tlcl1bXCJEYXlzTGVmdFwiXSA9IGJ1cm5EaWN0W2l0ZW0uTWF0ZXJpYWxUaWNrZXJdW1wiRGFpbHlBbW91bnRcIl0gPiAwID8gMTAwMCA6IE1hdGguZmxvb3IoLWl0ZW0uQW1vdW50IC8gYnVybkRpY3RbaXRlbS5NYXRlcmlhbFRpY2tlcl1bXCJEYWlseUFtb3VudFwiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1cm5EaWN0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3dXYXJuaW5nRGlhbG9nKHRpbGUsIG1lc3NhZ2UgPSBcIkFyZSB5b3Ugc3VyZT9cIiwgY29uZmlybUJ1dHRvblRleHQgPSBcIkNvbmZpcm1cIiwgY2FsbGJhY2tGdW5jdGlvbiwgcGFyYW1ldGVycykge1xuICAgIGNvbnN0IGRpc3BsYXlUaWxlID0gdGlsZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXNwbGF5VGlsZS5hcHBlbmRDaGlsZChvdmVybGF5KTtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQWN0aW9uT3ZlcmxheSk7XG4gICAgY29uc3QgY2VudGVySW50ZXJmYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBvdmVybGF5LmFwcGVuZENoaWxkKGNlbnRlckludGVyZmFjZSk7XG4gICAgY2VudGVySW50ZXJmYWNlLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQWN0aW9uQ2VudGVySW50ZXJmYWNlKTtcbiAgICBjb25zdCBjb25maXJtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgY2VudGVySW50ZXJmYWNlLmFwcGVuZENoaWxkKGNvbmZpcm0pO1xuICAgIGNvbmZpcm0udGV4dENvbnRlbnQgPSBcIkNvbmZpcm1hdGlvbiBSZXF1aXJlZFwiO1xuICAgIGNvbmZpcm0uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5BY3Rpb25Db25maXJtKTtcbiAgICBjb25zdCBjb25maXJtTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGNlbnRlckludGVyZmFjZS5hcHBlbmRDaGlsZChjb25maXJtTWVzc2FnZSk7XG4gICAgY29uZmlybU1lc3NhZ2UudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIGNvbmZpcm1NZXNzYWdlLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQWN0aW9uQ29uZmlybU1lc3NhZ2UpO1xuICAgIGNvbnN0IGJ1dHRvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2VudGVySW50ZXJmYWNlLmFwcGVuZENoaWxkKGJ1dHRvbkRpdik7XG4gICAgYnV0dG9uRGl2LmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQWN0aW9uQnV0dG9ucyk7XG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjYW5jZWxCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgIGNhbmNlbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbk5ldXRyYWwpO1xuICAgIGNhbmNlbEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ2FuY2VsXCI7XG4gICAgYnV0dG9uRGl2LmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7XG4gICAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uZmlybUJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbik7XG4gICAgY29uZmlybUJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbkRhbmdlcik7XG4gICAgY29uZmlybUJ1dHRvbi50ZXh0Q29udGVudCA9IGNvbmZpcm1CdXR0b25UZXh0O1xuICAgIGJ1dHRvbkRpdi5hcHBlbmRDaGlsZChjb25maXJtQnV0dG9uKTtcbiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGlzcGxheVRpbGUucmVtb3ZlQ2hpbGQob3ZlcmxheSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbiAgICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRpc3BsYXlUaWxlLnJlbW92ZUNoaWxkKG92ZXJsYXkpO1xuICAgICAgICBpZiAocGFyYW1ldGVycykge1xuICAgICAgICAgICAgY2FsbGJhY2tGdW5jdGlvbihwYXJhbWV0ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdMaW5lQ2hhcnQoeERhdGEsIHlEYXRhLCB4U2l6ZSwgeVNpemUsIHhMYWJlbCwgeUxhYmVsLCBsaW5lQ29sb3IsIGlzRGF0ZXMsIGN1cnJlbmN5U3ltYm9sKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICBjYW52YXMuaGVpZ2h0ID0geVNpemU7XG4gICAgY2FudmFzLndpZHRoID0geFNpemU7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBtaW5YID0gTWF0aC5taW4oLi4ueERhdGEpO1xuICAgIGNvbnN0IG1heFggPSBNYXRoLm1heCguLi54RGF0YSk7XG4gICAgY29uc3QgbWluWSA9IE1hdGgubWluKC4uLnlEYXRhKTtcbiAgICBjb25zdCBtYXhZID0gTWF0aC5tYXgoLi4ueURhdGEpO1xuICAgIGNvbnN0IHplcm9YID0gKHhMYWJlbCA/IDI1IDogMCkgKyBjb250ZXh0Lm1lYXN1cmVUZXh0KChtYXhZKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgXCJtYXhpbXVtRnJhY3Rpb25EaWdpdHNcIjogMCB9KSkud2lkdGg7XG4gICAgY29uc3QgemVyb1kgPSB5TGFiZWwgPyB5U2l6ZSAtIDIzIDogeVNpemU7XG4gICAgaWYgKHhMYWJlbCkge1xuICAgICAgICBjb25zdCB4TGFiZWxJbmZvID0gY29udGV4dC5tZWFzdXJlVGV4dCh4TGFiZWwpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBcIjEycHggRHJvaWQgU2Fuc1wiO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiI2VlZVwiO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KHhMYWJlbCwgeFNpemUgLyAyICsgemVyb1ggLyAyIC0geExhYmVsSW5mby53aWR0aCAvIDIsIHlTaXplKTtcbiAgICB9XG4gICAgaWYgKHlMYWJlbCkge1xuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5mb250ID0gXCIxMnB4IERyb2lkIFNhbnNcIjtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiNlZWVcIjtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoMTAsIHlTaXplIC8gMiArIDEwKTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUoLU1hdGguUEkgLyAyKTtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh5TGFiZWwsIDAsIDApO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgY29uc3Qgc2NhbGVYID0gKHhTaXplIC0gemVyb1gpIC8gKG1heFggLSBtaW5YKTtcbiAgICBjb25zdCBzY2FsZVkgPSAoemVyb1kpIC8gKG1heFkgLSBtaW5ZKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhEYXRhLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbygoeERhdGFbaV0gLSBtaW5YKSAqIHNjYWxlWCArIHplcm9YLCB6ZXJvWSAtICh5RGF0YVtpXSAtIG1pblkpICogc2NhbGVZKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oKHhEYXRhW2kgKyAxXSAtIG1pblgpICogc2NhbGVYICsgemVyb1gsIHplcm9ZIC0gKHlEYXRhW2kgKyAxXSAtIG1pblkpICogc2NhbGVZKTtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGxpbmVDb2xvciA/IGxpbmVDb2xvciA6IFwiI2Y3YTYwMFwiO1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiNiYmJcIjtcbiAgICBjb250ZXh0Lm1vdmVUbyh6ZXJvWCwgemVyb1kpO1xuICAgIGNvbnRleHQubGluZVRvKHhTaXplLCB6ZXJvWSk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKHplcm9YLCB6ZXJvWSk7XG4gICAgY29udGV4dC5saW5lVG8oemVyb1gsIDApO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgZm9yIChpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGlzRGF0ZXMgPyAobmV3IERhdGUoKG1heFggLSBtaW5YKSAqIGkgLyAxMCArIG1pblgpKS50b0xvY2FsZURhdGVTdHJpbmcodW5kZWZpbmVkLCB7IG1vbnRoOiBcIjItZGlnaXRcIiwgZGF5OiBcIjItZGlnaXRcIiB9KSA6ICgobWF4WCAtIG1pblgpICogaSAvIDEwICsgbWluWCkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KTtcbiAgICAgICAgY29udGV4dC5mb250ID0gXCIxMHB4IERyb2lkIFNhbnNcIjtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiM5OTlcIjtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCAoeFNpemUgLSB6ZXJvWCkgKiBpIC8gMTAgKyB6ZXJvWCwgeVNpemUgLSAxMik7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPD0gNTsgaSsrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IChtYXhZIC0gbWluWSkgKiBpIC8gNSArIG1pblk7XG4gICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAvIE1hdGgucG93KDEwLCBNYXRoLmZsb29yKE1hdGgubG9nMTAodmFsdWUpKSAtIDMpKSAqIE1hdGgucG93KDEwLCBNYXRoLmZsb29yKE1hdGgubG9nMTAodmFsdWUpKSAtIDMpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gKGN1cnJlbmN5U3ltYm9sID8gY3VycmVuY3lTeW1ib2wgOiBcIlwiKSArICh2YWx1ZSkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IFwibWF4aW11bUZyYWN0aW9uRGlnaXRzXCI6IDAgfSk7XG4gICAgICAgIGNvbnN0IHRleHRJbmZvID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgICAgICAgY29udGV4dC5mb250ID0gXCIxMHB4IERyb2lkIFNhbnNcIjtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiM5OTlcIjtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCB6ZXJvWCAtIHRleHRJbmZvLndpZHRoIC0gMiwgLSh6ZXJvWSAtIDgpICogaSAvIDUgKyB6ZXJvWSk7XG4gICAgfVxuICAgIHJldHVybiBjYW52YXM7XG59XG5leHBvcnQgZnVuY3Rpb24gZHJhd1BpZUNoYXJ0KGRhdGEsIHNpemUsIHRleHQsIGNvbG9ycykge1xuICAgIGNvbnN0IHBpZVNpemUgPSBzaXplIC8gMiAtIDEyO1xuICAgIGNvbnN0IGNlbnRlclggPSBzaXplICogMS41O1xuICAgIGNvbnN0IGNlbnRlclkgPSBzaXplIC8gMiArIDEyO1xuICAgIHZhciBhbmdsZSA9IDA7XG4gICAgdmFyIHN1bSA9IDA7XG4gICAgZGF0YS5mb3JFYWNoKHBvaW50ID0+IHtcbiAgICAgICAgc3VtICs9IHBvaW50O1xuICAgIH0pO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgY2FudmFzLmhlaWdodCA9IHNpemUgKyAyNDtcbiAgICBjYW52YXMud2lkdGggPSBzaXplICogMztcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwaWVBbmdsZSA9IGRhdGFbaV0gLyBzdW0gKiAyICogTWF0aC5QSTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5hcmMoY2VudGVyWCwgY2VudGVyWSwgcGllU2l6ZSwgYW5nbGUsIGFuZ2xlICsgcGllQW5nbGUpO1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICBhbmdsZSArPSBwaWVBbmdsZTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oY2VudGVyWCwgY2VudGVyWSk7XG4gICAgICAgIGlmIChjb2xvcnMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3JzW2ldIHx8IFwiIzAwZmYwMFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBpID09IGRhdGEubGVuZ3RoIC0gMSAmJiBkYXRhLmxlbmd0aCAlIERlZmF1bHRDb2xvcnMubGVuZ3RoID09IDEgJiYgZGF0YS5sZW5ndGggPiAxID8gRGVmYXVsdENvbG9yc1sxXSA6IERlZmF1bHRDb2xvcnNbaSAlIERlZmF1bHRDb2xvcnMubGVuZ3RoXTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICB9XG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfVxuICAgIGFuZ2xlID0gMDtcbiAgICB2YXIgbWluWCA9IGNlbnRlclggLSBwaWVTaXplO1xuICAgIHZhciBtYXhYID0gY2VudGVyWCArIHBpZVNpemU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBpZUFuZ2xlID0gZGF0YVtpXSAvIHN1bSAqIDIgKiBNYXRoLlBJO1xuICAgICAgICBjb25zdCBwZXJjZW50ID0gXCIgLSBcIiArIChkYXRhW2ldIC8gc3VtICogMTAwKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgXCJtYXhpbXVtRnJhY3Rpb25EaWdpdHNcIjogMCB9KSArIFwiJVwiO1xuICAgICAgICBjb25zdCB0ZXh0SW5mbyA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dFtpXSArIHBlcmNlbnQpO1xuICAgICAgICBpZiAocGllQW5nbGUgPCAwLjMgJiYgZGF0YS5sZW5ndGggPiA1KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRYID0gY2VudGVyWCArIE1hdGguY29zKGFuZ2xlICsgcGllQW5nbGUgLyAyKSAqIHNpemUgLyAyO1xuICAgICAgICB2YXIgc3RhcnRZID0gY2VudGVyWSArIE1hdGguc2luKGFuZ2xlICsgcGllQW5nbGUgLyAyKSAqIHNpemUgLyAyICsgNDtcbiAgICAgICAgaWYgKHN0YXJ0WCAtIHRleHRJbmZvLndpZHRoIDwgbWluWCkge1xuICAgICAgICAgICAgbWluWCA9IHN0YXJ0WCAtIHRleHRJbmZvLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0WCArIHRleHRJbmZvLndpZHRoID4gbWF4WCkge1xuICAgICAgICAgICAgbWF4WCA9IHN0YXJ0WCArIHRleHRJbmZvLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmdsZSArIHBpZUFuZ2xlIC8gMiA+IE1hdGguUEkgLyAyICYmIGFuZ2xlICsgcGllQW5nbGUgLyAyIDwgTWF0aC5QSSAqIDMgLyAyKSB7XG4gICAgICAgICAgICBzdGFydFggLT0gdGV4dEluZm8ud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5mb250ID0gXCIxMnB4IERyb2lkIFNhbnNcIjtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBcIiNlZWVcIjtcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0W2ldICsgcGVyY2VudCwgc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICBhbmdsZSArPSBwaWVBbmdsZTtcbiAgICB9XG4gICAgY2FudmFzLnN0eWxlLm1hcmdpbkxlZnQgPSAobWluWCA+IDAgPyAtbWluWCArIDUgOiA1KS50b1N0cmluZygpICsgXCJweFwiO1xuICAgIGNhbnZhcy5zdHlsZS5tYXJnaW5SaWdodCA9IChtYXhYIC0gMiAqIHNpemUgKyA1KS50b1N0cmluZygpICsgXCJweFwiO1xuICAgIHJldHVybiBjYW52YXM7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlUHJvbWlzZShrZXlzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoa2V5cyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChrZXlzKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0TG9jYWxTdG9yYWdlUHJvbWlzZShpdGVtcykge1xuICAgIGxldCBwcm9taXNlO1xuICAgIHRyeSB7XG4gICAgICAgIHByb21pc2UgPSBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KGl0ZW1zKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBwcm9taXNlID0gY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KGl0ZW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5leHBvcnQgY2xhc3MgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHRpbGUsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5yb3dzID0gW107XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMub3ZlcmxhcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMub3ZlcmxhcERpdi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLk92ZXJsYXBwaW5nRGl2KTtcbiAgICAgICAgY29uc3QgZ3JleVN0cmlwZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBncmV5U3RyaXBlcy5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkdyZXlTdHJpcGVzKTtcbiAgICAgICAgdGhpcy5vdmVybGFwRGl2LmFwcGVuZENoaWxkKGdyZXlTdHJpcGVzKTtcbiAgICAgICAgdGlsZS5pbnNlcnRCZWZvcmUodGhpcy5vdmVybGFwRGl2LCB0aWxlLmZpcnN0Q2hpbGQpO1xuICAgICAgICBncmV5U3RyaXBlcy5hcHBlbmRDaGlsZChtYWtlUG9wdXBTcGFjZXIodGlsZSwgdGhpcy5vdmVybGFwRGl2KSk7XG4gICAgICAgIGNvbnN0IHBvcHVwSW50ZXJmYWNlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHBvcHVwSW50ZXJmYWNlV3JhcHBlci5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkNlbnRlckludGVyZmFjZSk7XG4gICAgICAgIGdyZXlTdHJpcGVzLmFwcGVuZENoaWxkKHBvcHVwSW50ZXJmYWNlV3JhcHBlcik7XG4gICAgICAgIGNvbnN0IHBvcHVwSW50ZXJmYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcG9wdXBJbnRlcmZhY2UuY2xhc3NMaXN0LmFkZChcIkRyYWZ0Q29uZGl0aW9uRWRpdG9yX19mb3JtX19fZkY3MmJKTVwiKTtcbiAgICAgICAgcG9wdXBJbnRlcmZhY2VXcmFwcGVyLmFwcGVuZENoaWxkKHBvcHVwSW50ZXJmYWNlKTtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmFtZSkpO1xuICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICBwb3B1cEludGVyZmFjZS5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgICAgICBoZWFkZXIuc3R5bGUubWFyZ2luID0gXCIwLjVlbSAwIDAuNWVtXCI7XG4gICAgICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHBvcHVwSW50ZXJmYWNlLmFwcGVuZENoaWxkKHRoaXMuZm9ybSk7XG4gICAgICAgIGdyZXlTdHJpcGVzLmFwcGVuZENoaWxkKG1ha2VQb3B1cFNwYWNlcih0aWxlLCB0aGlzLm92ZXJsYXBEaXYpKTtcbiAgICB9XG4gICAgYWRkUG9wdXBSb3cocm93VHlwZSwgbGFiZWwsIGlucHV0VGV4dCwgdG9vbHRpcCwgY2FsbGJhY2ssIHBhcmFtcykge1xuICAgICAgICBjb25zdCBuZXdSb3cgPSBuZXcgUG9wdXBSb3cocm93VHlwZSwgbGFiZWwsIGlucHV0VGV4dCwgdG9vbHRpcCwgY2FsbGJhY2ssIHBhcmFtcyk7XG4gICAgICAgIHRoaXMucm93cy5wdXNoKG5ld1Jvdyk7XG4gICAgICAgIHRoaXMuZm9ybS5hcHBlbmRDaGlsZChuZXdSb3cucm93KTtcbiAgICB9XG4gICAgcmVtb3ZlUG9wdXBSb3cocm93SW5kZXgpIHtcbiAgICAgICAgY29uc3QgdG9EZWxldGUgPSB0aGlzLnJvd3Muc3BsaWNlKHJvd0luZGV4LCAxKVswXTtcbiAgICAgICAgdGhpcy5mb3JtLnJlbW92ZUNoaWxkKHRvRGVsZXRlLnJvdyk7XG4gICAgfVxuICAgIGdldFJvd0J5TmFtZShuYW1lKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZFJvdztcbiAgICAgICAgdGhpcy5yb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIGlmIChyb3cucm93TGFiZWwgPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93ID0gcm93O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZWxlY3RlZFJvdztcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50aWxlLnJlbW92ZUNoaWxkKHRoaXMub3ZlcmxhcERpdik7XG4gICAgfVxuICAgIG1vdmVSb3dUb0JvdHRvbShyb3dJbmRleCkge1xuICAgICAgICBjb25zdCBtb3ZpbmdSb3cgPSB0aGlzLnJvd3Nbcm93SW5kZXhdO1xuICAgICAgICB0aGlzLnJlbW92ZVBvcHVwUm93KHJvd0luZGV4KTtcbiAgICAgICAgdGhpcy5yb3dzLnB1c2gobW92aW5nUm93KTtcbiAgICAgICAgdGhpcy5mb3JtLmFwcGVuZENoaWxkKG1vdmluZ1Jvdy5yb3cpO1xuICAgIH1cbn1cbmNsYXNzIFBvcHVwUm93IHtcbiAgICBjb25zdHJ1Y3Rvcihyb3dUeXBlLCBsYWJlbCwgaW5wdXRUZXh0LCB0b29sdGlwLCBjYWxsYmFjaywgcGFyYW1zKSB7XG4gICAgICAgIHRoaXMucm93VHlwZSA9IHJvd1R5cGU7XG4gICAgICAgIHRoaXMucm93TGFiZWwgPSBsYWJlbDtcbiAgICAgICAgaWYgKHJvd1R5cGUgPT0gXCJ0ZXh0XCIgfHwgcm93VHlwZSA9PSBcImRhdGVcIiB8fCByb3dUeXBlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRoaXMucm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMucm93LmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuRm9ybVJvdyk7XG4gICAgICAgICAgICBjb25zdCByb3dMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIHJvd0xhYmVsLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICBpZiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIHJvd0xhYmVsLmFwcGVuZENoaWxkKGNyZWF0ZVRvb2xUaXAodG9vbHRpcCwgXCJyaWdodFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dMYWJlbC5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1MYWJlbCk7XG4gICAgICAgICAgICB0aGlzLnJvdy5hcHBlbmRDaGlsZChyb3dMYWJlbCk7XG4gICAgICAgICAgICBjb25zdCBpbnB1dElucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGlucHV0SW5wdXREaXYuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtSW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5yb3cuYXBwZW5kQ2hpbGQoaW5wdXRJbnB1dERpdik7XG4gICAgICAgICAgICB0aGlzLnJvd0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgaW5wdXRJbnB1dERpdi5hcHBlbmRDaGlsZCh0aGlzLnJvd0lucHV0KTtcbiAgICAgICAgICAgIGlmIChpbnB1dFRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd0lucHV0LnZhbHVlID0gaW5wdXRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd1R5cGUgPT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd0lucHV0LnR5cGUgPSBcImRhdGV0aW1lLWxvY2FsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyb3dUeXBlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd0lucHV0LnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yb3dJbnB1dC5zdHlsZS53aWR0aCA9IFwiODAlXCI7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3dJbnB1dCA9IHRoaXMucm93SW5wdXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3dJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyb3dJbnB1dC52YWx1ZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyb3dUeXBlID09IFwiZHJvcGRvd25cIikge1xuICAgICAgICAgICAgdGhpcy5yb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5yb3cuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtUm93KTtcbiAgICAgICAgICAgIGNvbnN0IHJvd0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICAgICAgcm93TGFiZWwudGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgcm93TGFiZWwuYXBwZW5kQ2hpbGQoY3JlYXRlVG9vbFRpcCh0b29sdGlwLCBcInJpZ2h0XCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvd0xhYmVsLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuRm9ybUxhYmVsKTtcbiAgICAgICAgICAgIHRoaXMucm93LmFwcGVuZENoaWxkKHJvd0xhYmVsKTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGlucHV0RGl2LmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuRm9ybUlucHV0KTtcbiAgICAgICAgICAgIHRoaXMucm93LmFwcGVuZENoaWxkKGlucHV0RGl2KTtcbiAgICAgICAgICAgIHRoaXMucm93SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgdGhpcy5yb3dJbnB1dC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgdGhpcy5yb3dJbnB1dC5zdHlsZS53aWR0aCA9IFwiODAlXCI7XG4gICAgICAgICAgICB0aGlzLnJvd0lucHV0LnN0eWxlLnRleHRBbGlnbkxhc3QgPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICB0aGlzLnJvd0lucHV0Lm5hbWUgPSBcInBvcHVwLWRyb3Bkb3duXCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMucm93SW5wdXQuaWQgPSBcInBvcHVwLWRyb3Bkb3duXCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBpbnB1dFRleHRbaW5wdXRUZXh0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaW5wdXRUZXh0ID0gaW5wdXRUZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgIGlucHV0VGV4dC5mb3JFYWNoKHRleHQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucm93SW5wdXQuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZWN0T3B0aW9uKHRleHQsIHRleHQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucm93SW5wdXQuY2hpbGRyZW5bc2VsZWN0ZWRJbmRleF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd0lucHV0LmNoaWxkcmVuW3NlbGVjdGVkSW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd0lucHV0LnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQodGhpcy5yb3dJbnB1dCk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3dJbnB1dCA9IHRoaXMucm93SW5wdXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3dJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socm93SW5wdXQuc2VsZWN0ZWRPcHRpb25zWzBdLnZhbHVlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJvd1R5cGUgPT0gXCJidXR0b25cIikge1xuICAgICAgICAgICAgdGhpcy5yb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5yb3cuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZVJvdyk7XG4gICAgICAgICAgICBjb25zdCByb3dMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIHJvd0xhYmVsLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICByb3dMYWJlbC5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1TYXZlTGFiZWwpO1xuICAgICAgICAgICAgdGhpcy5yb3cuYXBwZW5kQ2hpbGQocm93TGFiZWwpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaW5wdXREaXYuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZUlucHV0KTtcbiAgICAgICAgICAgIHRoaXMucm93LmFwcGVuZENoaWxkKGlucHV0RGl2KTtcbiAgICAgICAgICAgIHRoaXMucm93SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgdGhpcy5yb3dJbnB1dC50ZXh0Q29udGVudCA9IGlucHV0VGV4dDtcbiAgICAgICAgICAgIHRoaXMucm93SW5wdXQuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgICAgICAgICAgdGhpcy5yb3dJbnB1dC5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvblByaW1hcnkpO1xuICAgICAgICAgICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQodGhpcy5yb3dJbnB1dCk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy91dGlsLnRzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBjb25zdCBTZWxlY3RvciA9IHtcbiAgICBMTUNvbW1vZGl0eUFkVGV4dDogXCJkaXZbY2xhc3N+PSdDb21tb2RpdHlBZF9fdGV4dF9fX3hKUW1KTmEnXVwiLFxuICAgIExNQ29tbW9kaXR5QWRQcmljZVNwYW46IFwiZGl2W2NsYXNzfj0nQ29tbW9kaXR5QWRfX3RleHRfX194SlFtSk5hJ10gPiBzcGFuXCIsXG4gICAgUHJvZEl0ZW06IFwiT3JkZXJTbG90X19jb250YWluZXJfX19ZRnlrOGE3XCIsXG4gICAgUHJvZFF1ZXVlVGFibGU6IFwidGFibGVbY2xhc3N+PSdQcm9kdWN0aW9uUXVldWVfX3RhYmxlX19fakhRR3lVSSddXCIsXG4gICAgQnVmZmVySGVhZGVyOiAnVGlsZUZyYW1lX19jbWRfX19TY0JZVzBuIHR5cGVfX3R5cGUtdmVyeS1zbWFsbF9fX0hhVk1xckUnLFxuICAgIFNpZGViYXI6IFwiZGl2I1RPVVJfVEFSR0VUX1NJREVCQVJfUklHSFRcIixcbiAgICBMTVBvc3RGb3JtOiBcImZvcm1bY2xhc3N+PSdMb2NhbE1hcmtldFBvc3RfX2Zvcm1fX19DQVZQZERFJ11cIixcbiAgICBXb3JrZm9yY2VDb25zdW1wdGlvblRhYmxlOiBcImRpdltjbGFzc349J1RpbGVGcmFtZV9fdGl0bGVfX194UmNaQ1B4J11cIixcbiAgICBYSVRUaWxlOiBcImRpdltjbGFzc349J1Njcm9sbFZpZXdfX3ZpZXdfX19vdmY1OVRrJ10gPiBkaXZcIixcbiAgICBCdWZmZXJUaXRsZTogXCJkaXZbY2xhc3N+PSdUaWxlRnJhbWVfX3RpdGxlX19feFJjWkNQeCddXCIsXG4gICAgTm90aWZpY2F0aW9uOiBcImRpdltjbGFzc349J0FsZXJ0TGlzdEl0ZW1fX2NvbnRlbnRfX19YWWViUjFFJ11cIixcbiAgICBQcm9kUXVldWU6IFwiZGl2W2NsYXNzfj0nU2l0ZVByb2R1Y3Rpb25MaW5lc19fY29sdW1uX19fX3MzY1RrNyddXCIsXG4gICAgQnVmZmVyUGFuZWw6IFwiZGl2W2NsYXNzfj0nU2Nyb2xsVmlld19fdmlld19fX292ZjU5VGsnXVwiLFxuICAgIE5ld0JGUkJ1dHRvbjogXCJUT1VSX1RBUkdFVF9CVVRUT05fQlVGRkVSX05FV1wiLFxuICAgIFdob2xlV2luZG93OiBcIiNjb250YWluZXJcIixcbiAgICBCdWZmZXJUZXh0RmllbGQ6IFwiaW5wdXRbY2xhc3N+PSdQYW5lbFNlbGVjdG9yX19pbnB1dF9fX3dVc3RIck8nXVwiLFxuICAgIEJ1ZmZlckxpc3Q6IFwiI2NvbnRhaW5lciA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdjpudGgtY2hpbGQoMylcIixcbiAgICBTY3JlZW5Db250cm9sczogXCJUT1VSX1RBUkdFVF9TQ1JFRU5fQ09OVFJPTFNcIixcbiAgICBMZWZ0U2lkZWJhcjogXCJUT1VSX1RBUkdFVF9TSURFQkFSX0xFRlRfMDJcIixcbiAgICBCdWZmZXJBcmVhOiBcImRpdltjbGFzc349J1RpbGVfX3NlbGVjdG9yX19fSFlNbU5FTyddXCIsXG4gICAgU2NyZWVuTmFtZTogXCJzcGFuW2NsYXNzfj0nU2NyZWVuQ29udHJvbHNfX2N1cnJlbnRTY3JlZW5OYW1lX19fSTJzSVlhZyddXCIsXG4gICAgTWF0ZXJpYWxJY29uOiBcIkdyaWRJdGVtVmlld19faW1hZ2VfX195TW9LT1pWXCIsXG4gICAgQnVmZmVyTGluazogXCJzcGFuW2NsYXNzfj0nTGlua19fbGlua19fX2ZhNG1tTUEnXVwiLFxuICAgIEZ1bGxNYXRlcmlhbEljb246IFwiZGl2W2NsYXNzfj0nR3JpZEl0ZW1WaWV3X19jb250YWluZXJfX194UDJ1Sno4J11cIixcbiAgICBJbnZlbnRvcnk6IFwiZGl2W2NsYXNzfj0nSW52ZW50b3J5Vmlld19fZ3JpZF9fX1V5UlFTWDgnXVwiLFxuICAgIE1hdGVyaWFsVGV4dDogXCJzcGFuW2NsYXNzfj0nQ29sb3JlZEljb25fX2xhYmVsX19fT1UxSTRvUCddXCIsXG4gICAgSW52ZW50b3J5U29ydE9wdGlvbnM6IFwiZGl2W2NsYXNzfj0nSW52ZW50b3J5U29ydENvbnRyb2xzX19jb250cm9sc19fX3FrNWhlQVonXVwiLFxuICAgIENoYXRBcmVhOiBcImRpdltjbGFzc349J0NoYW5uZWxfX21lc3NhZ2VBbmRVc2VyTGlzdF9fX05DZ1FBdFcnXVwiLFxuICAgIE1hdGVyaWFsUXVhbnRpdHk6IFwiZGl2W2NsYXNzfj0nTWF0ZXJpYWxJY29uX19pbmRpY2F0b3JfX19TSHdsbmRKJ11cIixcbiAgICBIZWFkZXJSb3c6IFwiZGl2W2NsYXNzfj0nRm9ybUNvbXBvbmVudF9fY29udGFpbmVyUGFzc2l2ZV9fX0ZyQmR5R1UnXVwiLFxuICAgIEZvcm1JbnB1dFJvdzogXCJkaXZbY2xhc3N+PSdGb3JtQ29tcG9uZW50X19jb250YWluZXJBY3RpdmVfX19IWnY5akhkJ11cIixcbiAgICBDb250REZvcm06IFwiZGl2W2NsYXNzfj0nRHJhZnRDb25kaXRpb25FZGl0b3JfX2Zvcm1fX19mRjcyYkpNJ10gPiBmb3JtXCIsXG4gICAgQ29udERDb25kaXRpb25zVGFibGU6IFwiZGl2W2NsYXNzfj0nRHJhZnRfX2NvbmRpdGlvbnNfX19iY0lVbmRIJ10gPiB0YWJsZSA+IHRib2R5XCIsXG4gICAgQ29udERGb3JtTGFiZWw6IFwibGFiZWxbY2xhc3N+PSdGb3JtQ29tcG9uZW50X19sYWJlbF9fX2FRQjE1ZUInXVwiLFxuICAgIENvbnRERm9ybVJvd1NwYWNlcjogXCJkaXZbY2xhc3N+PSdEeW5hbWljSW5wdXRfX2R5bmFtaWNfX19DZDRHa2J6J11cIixcbiAgICBDb250REZvcm1JbnB1dDogXCJkaXZbY2xhc3N+PSdGb3JtQ29tcG9uZW50X19pbnB1dF9fX1puSThtWWknXVwiLFxuICAgIFNpZGViYXJDb250cmFjdDogXCJkaXZbY2xhc3N+PSdTaWRlYmFyX19jb250cmFjdF9fX0owZ21sek4nXVwiLFxuICAgIFNpZGViYXJDb250cmFjdElkOiBcInNwYW5bY2xhc3N+PSdTaWRlYmFyX19jb250cmFjdElkX19fTGc4NVRSWiddXCIsXG4gICAgQnVpbGRpbmdMaXN0OiBcImRpdltjbGFzc349J1NlY3Rpb25MaXN0X19jb250YWluZXJfX19FdFV6V3lpJ11cIixcbiAgICBEaXZpZGVyOiBcImRpdltjbGFzc349J1NlY3Rpb25MaXN0X19kaXZpZGVyX19fY3dXTzQ1diddXCIsXG4gICAgTWF0ZXJpYWxMYWJlbDogXCJzcGFuW2NsYXNzfj0nR3JpZEl0ZW1WaWV3X19uYW1lX19faDN5WDlMbSddXCIsXG4gICAgU21hbGxCdXR0b246IFwiYnV0dG9uW2NsYXNzfj0nQnV0dG9uX19kYXJrSW5saW5lX19fel9ZS2E5MSddXCJcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9TZWxlY3Rvci50c1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgY29uc3QgU3R5bGUgPSB7XG4gICAgQnV0dG9uOiBbXCJCdXR0b25fX2J0bl9fX1VKR1oxYjdcIl0sXG4gICAgQnV0dG9uUHJpbWFyeTogW1wiQnV0dG9uX19wcmltYXJ5X19fX2xPYlBpd1wiXSxcbiAgICBCdXR0b25TdWNjZXNzOiBbXCJCdXR0b25fX3N1Y2Nlc3NfX19iQ2lJVlh3XCJdLFxuICAgIEJ1dHRvbkRpc2FibGVkOiBbXCJCdXR0b25fX2Rpc2FibGVkX19fX3g4aTdYRlwiXSxcbiAgICBCdXR0b25FbmFibGVkOiBbXCJCdXR0b25fX3ByaW1hcnlfX19fbE9iUGl3XCJdLFxuICAgIEJ1dHRvbkRhbmdlcjogW1wiQnV0dG9uX19kYW5nZXJfX19TMnJTT0VTXCJdLFxuICAgIEJ1dHRvbk5ldXRyYWw6IFtcIkJ1dHRvbl9fbmV1dHJhbF9fX09BRk9hTnNcIl0sXG4gICAgU21hbGxCdXR0b246IFtcIkJ1dHRvbl9fZGFya0lubGluZV9fX3pfWUthOTFcIiwgXCJCdXR0b25fX2RhcmtfX192ZEpiY2M4XCIsIFwiQnV0dG9uX19idG5fX19VSkdaMWI3XCIsIFwiQnV0dG9uX19pbmxpbmVfX19GZnc5YmJuXCJdLFxuICAgIFNpZGViYXJTZWN0aW9uSGVhZDogW1wiU2lkZWJhcl9fc2VjdGlvbkhlYWRfX19fTkhMS0RUXCIsIFwiZm9udHNfX2ZvbnQtcmVndWxhcl9fX1N4cDF4am9cIl0sXG4gICAgU2lkZWJhclNlY3Rpb25Db250ZW50OiBbXCJTaWRlYmFyX19zZWN0aW9uQ29udGVudF9fX3dnR1lGb3BcIiwgXCJmb250c19fZm9udC1yZWd1bGFyX19fU3hwMXhqb1wiXSxcbiAgICBTaWRlYmFyTGluZTogW1wiU2lkZWJhcl9fY29udHJhY3RfX19KMGdtbHpOXCIsIFwiU2lkZWJhcl9fc2lkZWJhci1saW5lX19fYkUycmJSYlwiXSxcbiAgICBGb250c1JlZ3VsYXI6IFtcImZvbnRzX19mb250LXJlZ3VsYXJfX19TeHAxeGpvXCJdLFxuICAgIFNpZGViYXJUZXh0OiBbXCJGcmFtZV9fdG9nZ2xlTGFiZWxfX19CVEZjZThIXCIsIFwiZm9udHNfX2ZvbnQtcmVndWxhcl9fX1N4cDF4am9cIiwgXCJ0eXBlX190eXBlLXJlZ3VsYXJfX19rOG5IVWZJXCJdLFxuICAgIFNpZGViYXJTbGl2ZXI6IFtcIkZyYW1lX190b2dnbGVJbmRpY2F0b3JTZWNvbmRhcnlfX19mclg0Q0dpXCIsIFwiRnJhbWVfX3RvZ2dsZUluZGljYXRvcl9fX1pLUVFnQUxcIl0sXG4gICAgU2lkZWJhckJ1dHRvbjogW1wiRnJhbWVfX3RvZ2dsZV9fX1YzaUhwQjdcIl0sXG4gICAgQ29udHJhY3RMaW5lOiBbXCJ5ODRFVUk4Z0NQLVNWOTFYN3ZJaWhRPT1cIiwgXCJmVmQzYVlKaEZZLXV1YUgrUVRCeWhBPT1cIl0sXG4gICAgQ29udHJhY3ROYW1lOiBbXCJ6aGl4cDQwOFlGMDgySXpBNUtQdmZBPT1cIl0sXG4gICAgQ29udHJhY3RWaWV3OiBbXCJrcTVCckdLblRVVHFDRFlNcExROTBnPT1cIl0sXG4gICAgUmFkaW9CdXR0b246IFtcIlJhZGlvSXRlbV9fY29udGFpbmVyX19fQ1NjenFtR1wiXSxcbiAgICBTZXR0aW5nc0J1dHRvbjogW1wiUmFkaW9JdGVtX19jb250YWluZXJfX19DU2N6cW1HXCIsIFwiUmFkaW9JdGVtX19jb250YWluZXJIb3Jpem9udGFsX19fX3RybFhEb1wiXSxcbiAgICBSYWRpb0J1dHRvblVuVG9nZ2xlZDogW1wiUmFkaW9JdGVtX19pbmRpY2F0b3JfX19RelF0amhBXCJdLFxuICAgIFNldHRpbmdzQmFyVW50b2dnbGVkOiBbXCJSYWRpb0l0ZW1fX2luZGljYXRvcl9fX1F6UXRqaEFcIiwgXCJSYWRpb0l0ZW1fX2luZGljYXRvckhvcml6b250YWxfX19Td3R3VEloXCJdLFxuICAgIFJhZGlvQnV0dG9uVG9nZ2xlZDogW1wiUmFkaW9JdGVtX19pbmRpY2F0b3JfX19RelF0amhBXCIsIFwiUmFkaW9JdGVtX19hY3RpdmVfX19DRHNjT1FWXCIsIFwiZWZmZWN0c19fc2hhZG93UHJpbWFyeV9fX0ViWEpRb3JcIl0sXG4gICAgU2V0dGluZ3NCYXJUb2dnbGVkOiBbXCJSYWRpb0l0ZW1fX2luZGljYXRvcl9fX1F6UXRqaEFcIiwgXCJSYWRpb0l0ZW1fX2luZGljYXRvckhvcml6b250YWxfX19Td3R3VEloXCIsIFwiUmFkaW9JdGVtX19hY3RpdmVfX19DRHNjT1FWXCIsIFwiZWZmZWN0c19fc2hhZG93UHJpbWFyeV9fX0ViWEpRb3JcIl0sXG4gICAgUmFkaW9CdXR0b25WYWx1ZTogW1wiUmFkaW9JdGVtX192YWx1ZV9fX1lkMUd0MVRcIiwgXCJmb250c19fZm9udC1yZWd1bGFyX19fU3hwMXhqb1wiLCBcInR5cGVfX3R5cGUtc21hbGxfX19wTVFoTVFPXCJdLFxuICAgIFNldHRpbmdzVGV4dDogW1wiUmFkaW9JdGVtX192YWx1ZV9fX1lkMUd0MVRcIiwgXCJmb250c19fZm9udC1yZWd1bGFyX19fU3hwMXhqb1wiLCBcInR5cGVfX3R5cGUtc21hbGxfX19wTVFoTVFPXCIsIFwiUmFkaW9JdGVtX192YWx1ZUhvcml6b250YWxfX19ENUFYSjlQXCJdLFxuICAgIE92ZXJsYXBwaW5nRGl2OiBbXCJPdmVybGF5X19vdmVybGF5X19fTkE5SFY4eVwiXSxcbiAgICBHcmV5U3RyaXBlczogW1wiT3ZlcmxheV9fYmFja2dyb3VuZF9fX2llWnBIaUZcIiwgXCJPdmVybGF5X19vdmVybGF5X19fTkE5SFY4eVwiXSxcbiAgICBTcGFjZXI6IFtcIk92ZXJsYXlfX2Nsb3NlX19fYnhHb01JbFwiXSxcbiAgICBQcm9ncmVzc0JhcjogW1wiUHJvZ3Jlc3NCYXJfX3ByaW1hcnlfX19PMzBqQnFxXCIsIFwiUHJvZ3Jlc3NCYXJfX3Byb2dyZXNzX19fZWI0S2h1V1wiXSxcbiAgICBQcm9ncmVzc0JhckNvbG9yczogW1wiUHJvZ3Jlc3NCYXJfX3ByaW1hcnlfX19PMzBqQnFxXCIsIFwiZ3JleS1wcm9ncmVzcy1iYXJcIiwgXCJnb29kLXByb2dyZXNzLWJhclwiLCBcIndhcm5pbmctcHJvZ3Jlc3MtYmFyXCIsIFwiZGFuZ2VyLXByb2dyZXNzLWJhclwiXSxcbiAgICBQcm9ncmVzc0Jhckdvb2Q6IFtcImdvb2QtcHJvZ3Jlc3MtYmFyXCJdLFxuICAgIFByb2dyZXNzQmFyV2FybmluZzogW1wid2FybmluZy1wcm9ncmVzcy1iYXJcIl0sXG4gICAgUHJvZ3Jlc3NCYXJEYW5nZXI6IFtcImRhbmdlci1wcm9ncmVzcy1iYXJcIl0sXG4gICAgQ2VudGVySW50ZXJmYWNlOiBbXCJPdmVybGF5X19jaGlsZHJlbl9fX3JndFZheGNcIl0sXG4gICAgRm9ybVJvdzogW1wiRm9ybUNvbXBvbmVudF9fY29udGFpbmVyQWN0aXZlX19fSFp2OWpIZFwiLCBcImZvcm1zX19hY3RpdmVfX193bjlLUVRaXCIsIFwiZm9ybXNfX2Zvcm0tY29tcG9uZW50X19feVRnUF9RYVwiXSxcbiAgICBIZWFkZXJSb3c6IFtcIkZvcm1Db21wb25lbnRfX2NvbnRhaW5lclBhc3NpdmVfX19GckJkeUdVXCIsIFwiZm9ybXNfX3Bhc3NpdmVfX19iaVJVaUU1XCIsIFwiZm9ybXNfX2Zvcm0tY29tcG9uZW50X19feVRnUF9RYVwiXSxcbiAgICBGb3JtTGFiZWw6IFtcIkZvcm1Db21wb25lbnRfX2xhYmVsX19fYVFCMTVlQlwiLCBcImZvbnRzX19mb250LXJlZ3VsYXJfX19TeHAxeGpvXCIsIFwidHlwZV9fdHlwZS1yZWd1bGFyX19fazhuSFVmSVwiXSxcbiAgICBGb3JtSW5wdXQ6IFtcIkZvcm1Db21wb25lbnRfX2lucHV0X19fWm5JOG1ZaVwiLCBcImZvcm1zX19pbnB1dF9fX0E5Ml9ONEpcIl0sXG4gICAgRm9ybVNhdmVSb3c6IFtcIkZvcm1Db21wb25lbnRfX2NvbnRhaW5lckNvbW1hbmRfX19CNFhMRVJmXCIsIFwiZm9ybXNfX2NtZF9fX0lNenQ3VWdcIiwgXCJmb3Jtc19fZm9ybS1jb21wb25lbnRfX195VGdQX1FhXCJdLFxuICAgIEZvcm1TYXZlTGFiZWw6IFtcIkZvcm1Db21wb25lbnRfX2xhYmVsX19fYVFCMTVlQlwiLCBcImZvbnRzX19mb250LXJlZ3VsYXJfX19TeHAxeGpvXCIsIFwidHlwZV9fdHlwZS1yZWd1bGFyX19fazhuSFVmSVwiXSxcbiAgICBGb3JtU2F2ZUlucHV0OiBbXCJGb3JtQ29tcG9uZW50X19pbnB1dF9fX1puSThtWWlcIiwgXCJmb3Jtc19faW5wdXRfX19BOTJfTjRKXCJdLFxuICAgIEFjdGlvbk92ZXJsYXk6IFtcIkFjdGlvbkNvbmZpcm1hdGlvbk92ZXJsYXlfX2NvbnRhaW5lcl9fX0EwNVRzMWdcIiwgXCJBY3Rpb25GZWVkYmFja19fb3ZlcmxheV9fX05ORFBSclZcIl0sXG4gICAgQWN0aW9uQ2VudGVySW50ZXJmYWNlOiBbXCJBY3Rpb25Db25maXJtYXRpb25PdmVybGF5X19tZXNzYWdlX19fT2Fqb0dlaFwiLCBcIkFjdGlvbkZlZWRiYWNrX19tZXNzYWdlX19fRzJTejRid1wiLCBcImZvbnRzX19mb250LXJlZ3VsYXJfX19TeHAxeGpvXCIsIFwidHlwZV9fdHlwZS1sYXJnZXJfX19WZHBKSWIxXCJdLFxuICAgIEFjdGlvbkNvbmZpcm06IFtcIkFjdGlvbkNvbmZpcm1hdGlvbk92ZXJsYXlfX21lc3NhZ2VfX19PYWpvR2VoXCIsIFwiQWN0aW9uRmVlZGJhY2tfX21lc3NhZ2VfX19HMlN6NGJ3XCIsIFwiZm9udHNfX2ZvbnQtcmVndWxhcl9fX1N4cDF4am9cIiwgXCJ0eXBlX190eXBlLWxhcmdlcl9fX1ZkcEpJYjFcIl0sXG4gICAgQWN0aW9uQ29uZmlybU1lc3NhZ2U6IFtcIkFjdGlvbkNvbmZpcm1hdGlvbk92ZXJsYXlfX3RleHRfX19xa0t6VkswXCIsIFwiQWN0aW9uRmVlZGJhY2tfX3RleHRfX19ZUWpqaWJHXCIsIFwiZm9udHNfX2ZvbnQtcmVndWxhcl9fX1N4cDF4am9cIiwgXCJ0eXBlX190eXBlLXJlZ3VsYXJfX19rOG5IVWZJXCJdLFxuICAgIEFjdGlvbkJ1dHRvbnM6IFtcIkFjdGlvbkNvbmZpcm1hdGlvbk92ZXJsYXlfX2J1dHRvbnNfX19zRTdDTlZlXCJdLFxuICAgIE1hdFRleHQ6IFtcIkNvbG9yZWRJY29uX19sYWJlbF9fX09VMUk0b1BcIl0sXG4gICAgTWF0VGV4dFdyYXBwZXI6IFtcIkNvbG9yZWRJY29uX19sYWJlbENvbnRhaW5lcl9fX1lWZmd6T2tcIl0sXG4gICAgTWF0ZXJpYWxFbGVtZW50OiBbXCJDb2xvcmVkSWNvbl9fY29udGFpbmVyX19fZGphUjRyMlwiXSxcbiAgICBNYXRlcmlhbFdyYXBwZXI6IFtcIk1hdGVyaWFsSWNvbl9fY29udGFpbmVyX19fcThnS0l4OFwiXSxcbiAgICBNYXRlcmlhbE51bWJlcldyYXBwZXI6IFtcIk1hdGVyaWFsSWNvbl9faW5kaWNhdG9yQ29udGFpbmVyX19fQ3F0YXhfWVwiXSxcbiAgICBNYXRlcmlhbE51bWJlcjogW1wiTWF0ZXJpYWxJY29uX19pbmRpY2F0b3JfX19TSHdsbmRKXCIsIFwiTWF0ZXJpYWxJY29uX190eXBlLXZlcnktc21hbGxfX19VTXpRM2lyXCIsIFwiTWF0ZXJpYWxJY29uX19uZXV0cmFsX19fU1lzSFhBYVwiXSxcbiAgICBNYXRlcmlhbFdyYXBwZXJXcmFwcGVyOiBbXCJHcmlkSXRlbVZpZXdfX2ltYWdlX19feU1vS09aVlwiXSxcbiAgICBNYXRlcmlhbE91dGVyOiBbXCJHcmlkSXRlbVZpZXdfX2NvbnRhaW5lcl9fX3hQMnVKejhcIl0sXG4gICAgTWF0ZXJpYWxOYW1lVGV4dDogW1wiR3JpZEl0ZW1WaWV3X19uYW1lX19faDN5WDlMbVwiLCBcImZvbnRzX19mb250LXJlZ3VsYXJfX19TeHAxeGpvXCIsIFwidHlwZV9fdHlwZS1yZWd1bGFyX19fazhuSFVmSVwiXSxcbn07XG5leHBvcnQgY29uc3QgV2l0aFN0eWxlcyA9ICguLi5zdHlsZSkgPT4ge1xuICAgIHJldHVybiBzdHlsZS5yZWR1Y2UoKChwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUpID0+IHByZXZpb3VzVmFsdWUuY29uY2F0KGN1cnJlbnRWYWx1ZSkpKTtcbn07XG5leHBvcnQgY29uc3QgVGV4dENvbG9ycyA9IHtcbiAgICBGYWlsdXJlOiBcIiNkOTUzNGZcIixcbiAgICBTdWNjZXNzOiBcIiM1Y2I4NWNcIixcbiAgICBTdGFuZGFyZDogXCIjYmJiYmJiXCIsXG4gICAgWWVsbG93OiBcIiNmN2E2MDBcIlxufTtcbmV4cG9ydCBjb25zdCBEZWZhdWx0Q29sb3JzID0gW1xuICAgIFwiIzAwNDU2NFwiLFxuICAgIFwiIzAwNWI3NlwiLFxuICAgIFwiIzAwNzA3OVwiLFxuICAgIFwiIzAwODQ2Y1wiLFxuICAgIFwiIzAwOTU1MlwiLFxuICAgIFwiIzY3YTIyZVwiLFxuICAgIFwiI2FkYTkwMFwiLFxuICAgIFwiI2Y3YTYwMFwiXG5dO1xuZXhwb3J0IGNvbnN0IENhdGVnb3J5Q29sb3JzID0ge1xuICAgIFwiZWxlY3Ryb25pYyBkZXZpY2VzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig4NiwgMjAsIDE0NyksIHJnYigxMTEsIDQ1LCAxNzIpKVwiLCBcInJnYigyMTMsIDE0NywgMjU1KVwiXSxcbiAgICBcImNvbnN0cnVjdGlvbiBwcmVmYWJzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxNSwgMzAsIDk4KSwgcmdiKDQwLCA1NSwgMTIzKSlcIiwgXCJyZ2IoMTQyLCAxNTcsIDIyNSlcIl0sXG4gICAgXCJlbGVjdHJvbmljIHN5c3RlbXNcIjogW1wibGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDUxLCAyNiwgNzYpLCByZ2IoNzYsIDUxLCAxMDEpKVwiLCBcInJnYigxNzgsIDE1MywgMjAzKVwiXSxcbiAgICBcIm1lZGljYWwgZXF1aXBtZW50XCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig4NSwgMTcwLCA4NSksIHJnYigxMTAsIDE5NSwgMTEwKSlcIiwgXCJyZ2IoMjEyLCAyNTUsIDIxMilcIl0sXG4gICAgXCJjb25zdHJ1Y3Rpb24gcGFydHNcIjogW1wibGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDQxLCA3NywgMTA3KSwgcmdiKDY2LCAxMDIsIDEzMikpXCIsIFwicmdiKDE2OCwgMjA0LCAyMzQpXCJdLFxuICAgIFwic2hpcCBlbmdpbmVzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxNTMsIDQxLCAwKSwgcmdiKDE3OCwgNjYsIDI1KSlcIiwgXCJyZ2IoMjU1LCAxNjgsIDEyNylcIl0sXG4gICAgXCJzaGlwIHBhcnRzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxNTMsIDk5LCAwKSwgcmdiKDE3OCwgMTI0LCAyNSkpXCIsIFwicmdiKDI1NSwgMjI2LCAxMjcpXCJdLFxuICAgIFwibWV0YWxzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig1NCwgNTQsIDU0KSwgcmdiKDc5LCA3OSwgNzkpKVwiLCBcInJnYigxODEsIDE4MSwgMTgxKVwiXSxcbiAgICBcImNvbnN1bWFibGVzIChsdXh1cnkpXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxMzYsIDI0LCAzOSksIHJnYigxNjEsIDQ5LCA2NCkpXCIsIFwicmdiKDI1NSwgMTUxLCAxNjYpXCJdLFxuICAgIFwiYWdyaWN1bHR1cmFsIHByb2R1Y3RzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig5MiwgMTgsIDE4KSwgcmdiKDExNywgNDMsIDQzKSlcIiwgXCJyZ2IoMjE5LCAxNDUsIDE0NSlcIl0sXG4gICAgXCJvcmVzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig4MiwgODcsIDk3KSwgcmdiKDEwNywgMTEyLCAxMjIpKVwiLCBcInJnYigyMDksIDIxNCwgMjI0KVwiXSxcbiAgICBcImdhc2VzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigwLCAxMDUsIDEwNyksIHJnYigyNSwgMTMwLCAxMzIpKVwiLCBcInJnYigxMjcsIDIzMiwgMjM0KVwiXSxcbiAgICBcInNoaXAgc2hpZWxkc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMjI0LCAxMzEsIDApLCByZ2IoMjQ5LCAxNTYsIDI1KSlcIiwgXCJyZ2IoMjMwIDIzMCwxMjcpXCJdLFxuICAgIFwiYWxsb3lzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxMjMsIDc2LCAzMCksIHJnYigxNDgsIDEwMSwgNTUpKVwiLCBcInJnYigyNTAsIDIwMywgMTU3KVwiXSxcbiAgICBcImNoZW1pY2Fsc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTgzLCA0NiwgOTEpLCByZ2IoMjA4LCA3MSwgMTE2KSlcIiwgXCJyZ2IoMjU1LCAxNzMsIDIxOClcIl0sXG4gICAgXCJzb2Z0d2FyZSBjb21wb25lbnRzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxMzYsIDEyMSwgNDcpLCByZ2IoMTYxLCAxNDYsIDcyKSlcIiwgXCJyZ2IoMjU1LCAyNDgsIDE3NClcIl0sXG4gICAgXCJlbGVjdHJvbmljIHBpZWNlc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTE5LCA4MiwgMTg5KSwgcmdiKDE0NCwgMTA3LCAyMTQpKVwiLCBcInJnYigyNDYsIDIwOSwgMjU1KVwiXSxcbiAgICBcImVsZW1lbnRzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig2MSwgNDYsIDMyKSwgcmdiKDg2LCA3MSwgNTcpKVwiLCBcInJnYigxODgsIDE3MywgMTU5KVwiXSxcbiAgICBcIm1pbmVyYWxzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxNTMsIDExMywgNzMpLCByZ2IoMTc4LCAxMzgsIDk4KSlcIiwgXCJyZ2IoMjU1LCAyNDAsIDIwMClcIl0sXG4gICAgXCJ1bml0IHByZWZhYnNcIjogW1wibGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDI5LCAyNywgMjgpLCByZ2IoNTQsIDUyLCA1MykpXCIsIFwicmdiKDE1NiwgMTU0LCAxNTUpXCJdLFxuICAgIFwibGlxdWlkc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTE0LCAxNjQsIDIwMiksIHJnYigxMzksIDE4OSwgMjI3KSlcIiwgXCJyZ2IoMjQxLCAyNTUsIDI1NSlcIl0sXG4gICAgXCJlbmVyZ3kgc3lzdGVtc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMjEsIDYyLCAzOSksIHJnYig0NiwgODcsIDY0KSlcIiwgXCJyZ2IoMTQ4LCAxODksIDE2NilcIl0sXG4gICAgXCJkcm9uZXNcIjogW1wibGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDE0MCwgNTIsIDE4KSwgcmdiKDE2NSwgNzcsIDQzKSlcIiwgXCJyZ2IoMjU1LCAxNzksIDE0NSlcIl0sXG4gICAgXCJlbGVjdHJvbmljIHBhcnRzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig5MSwgNDYsIDE4MyksIHJnYigxMTYsIDcxLCAyMDgpKVwiLCBcInJnYigyMTgsIDE3MywgMjU1KVwiXSxcbiAgICBcInRleHRpbGVzXCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig4MiwgOTAsIDMzKSwgcmdiKDEwNywgMTE1LCA1OCkpXCIsIFwicmdiKDIwOSwgMjE3LCAxNjApXCJdLFxuICAgIFwiY29uc3RydWN0aW9uIG1hdGVyaWFsc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMjQsIDkxLCAyMTEpLCByZ2IoNDksIDExNiwgMjM2KSlcIiwgXCJyZ2IoMTUxLCAyMTgsIDI1NSlcIl0sXG4gICAgXCJzb2Z0d2FyZSB0b29sc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTI5LCA5OCwgMTkpLCByZ2IoMTU0LCAxMjMsIDQ0KSlcIiwgXCJyZ2IoMjU1LCAyNTUsIDE0NilcIl0sXG4gICAgXCJwbGFzdGljc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTIxLCAzMSwgNjApLCByZ2IoMTQ2LCA1NiwgODUpKVwiLCBcInJnYigyNDgsIDE1OCwgMTg3KVwiXSxcbiAgICBcImNvbnN1bWFibGVzIChiYXNpYylcIjogW1wibGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDE0OSwgNDYsIDQ2KSwgcmdiKDE3NCwgNzEsIDcxKSlcIiwgXCJyZ2IoMjU1LCAxNzMsIDE3MylcIl0sXG4gICAgXCJmdWVsc1wiOiBbXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMzAsIDEyMywgMzApLCByZ2IoNTUsIDE0OCwgNTUpKVwiLCBcInJnYigxNTcsIDI1MCwgMTU3KVwiXSxcbiAgICBcInNvZnR3YXJlIHN5c3RlbXNcIjogW1wibGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDYwLCA1MywgNSksIHJnYig4NSwgNzgsIDMwKSlcIiwgXCJyZ2IoMTg3LCAxODAsIDEzMilcIl0sXG4gICAgXCJzaGlwIGtpdHNcIjogW1wibGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDE1NCwgODQsIDApLCByZ2IoMTc4LCAxMDksIDI1KSlcIiwgXCJyZ2IoMjU1LCAyMTEsIDEyNylcIl0sXG4gICAgXCJ1dGlsaXR5XCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxNjEsIDE0OCwgMTM2KSwgcmdiKDE4NiwgMTczLCAxNjEpKVwiLCBcInJnYigyNTUsIDI1NSwgMjU1KVwiXSxcbiAgICBcInNoaXBtZW50XCI6IFtcImxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwMzAzMDMsICMxODE4MTgpXCIsIFwiIzdmN2Y3ZlwiXVxufTtcbmV4cG9ydCBjb25zdCBQTU1HU3R5bGUgPSBgXHJcbi5wYi1taW5pbWl6ZSB7XHJcblx0Zm9udC1zaXplOiAxNHB4O1xyXG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xyXG5cdG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cdG1hcmdpbi1yaWdodDogM3B4O1xyXG5cdG1hcmdpbi10b3A6IDFweDtcclxuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0d2lkdGg6IDE4cHg7XHJcblx0Y3Vyc29yOiBwb2ludGVyO1xyXG59XHJcbi5wYi1taW5pbWl6ZS1jeDpob3ZlciB7XHJcblx0Y29sb3I6ICMyNjM1M2U7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogIzNmYTJkZTtcclxufVxyXG4ucGItbWluaW1pemUtY3gge1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICMyNjM1M2U7XHJcblx0Y29sb3I6ICMzZmEyZGU7XHJcbn1cclxuLnBiLW1pbmltaXplLXNldHRpbmdzOmhvdmVyIHtcclxuXHRjb2xvcjogI2RkZDtcclxufVxyXG4ubWF0LWVsZW1lbnQtbGFyZ2Uge1xyXG5cdGhlaWdodDogNDhweDtcclxuXHR3aWR0aDogNDhweDtcclxufVxyXG4ubWF0LWVsZW1lbnQtbGFyZ2UgZGl2LkNvbG9yZWRJY29uX19jb250YWluZXJfX19kamFSNHIyIHtcclxuXHRoZWlnaHQ6IDQ4cHg7XHJcblx0d2lkdGg6IDQ4cHg7XHJcblx0Zm9udC1zaXplOiAxNS44NHB4O1xyXG5cdGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4ubWF0LWVsZW1lbnQtc21hbGwge1xyXG5cdGhlaWdodDogMzJweDtcclxuXHR3aWR0aDogMzJweDtcclxufVxyXG4uY2hlY2stdGltZS1jb21wbGV0ZSB7XHJcblx0dGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XHJcbn1cclxuLmNoZWNrLXRpbWUtb3ZlcmR1ZSB7XHJcblx0Y29sb3I6ICNkOTUzNGY7XHJcbn1cclxuLmNoZWNrLXRpbWUge1xyXG5cdGNvbG9yOiByZ2IoMTUzLCAxNTMsIDE1MylcclxufVxyXG4uY2hlY2staXRlbSB7XHJcblx0ZGlzcGxheTogZmxleDtcclxuXHRqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcblx0Ym9yZGVyLWJvdHRvbTogc29saWQgMXB4ICM1NTU7XHJcbn1cclxuLmNoZWNrZWQtdGV4dCB7XHJcblx0dGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XHJcblx0Y29sb3I6IHJnYigxNTMsIDE1MywgMTUzKVxyXG59XHJcbi5kZWxldGUtYnV0dG9uIHtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjZDk1MzRmO1xyXG5cdGJvcmRlcjogbm9uZTtcclxuXHRjb2xvcjogI2ZmZjtcclxuXHRsaW5lLWhlaWdodDogMTdweDtcclxuXHRmb250LXdlaWdodDogYm9sZDtcclxuXHRvdXRsaW5lOiBub25lO1xyXG5cdHBhZGRpbmc6IDAgOHB4O1xyXG5cdGZvbnQtc2l6ZTogMTFweDtcclxuXHRjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuLmRlbGV0ZS1idXR0b246aG92ZXIge1xyXG5cdGNvbG9yOiAjMjIyO1xyXG59XHJcbi5ub3Rlcy13cmFwcGVye1xyXG5cdHdpZHRoOiAxMDAlO1xyXG5cdGhlaWdodDogOTMlO1xyXG5cdGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcblxyXG5cclxuLm5vdGVzLXdyYXBwZXIgLnRpdGxlLm5vdGUtdGl0bGUge1xyXG4gICAgcGFkZGluZy10b3A6IDVweDtcclxufVxyXG4ucGItZWRpdC1kaXYge1xyXG4gICAgbWFyZ2luOiAxMHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAyMHB4KTtcclxuICAgIGhlaWdodDogY2FsYygxMDAlIC0gMjBweCAtIDIwcHgpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQyMzYxZDtcclxuICAgIGNvbG9yOiAjY2NjY2NjO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAyMHB4O1xyXG4gICAgbGVmdDogMDtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG5cdGZvbnQtZmFtaWx5OiBcIkRyb2lkIFNhbnNcIixzYW5zLXNlcmlmO1xyXG5cdGZvbnQtc2l6ZTogMTMuMzMzcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMS41O1xyXG4gICAgdGFiLXNpemU6IDQ7XHJcblx0cmVzaXplOiBub25lO1xyXG59XHJcbi5wYi1lZGl0LWRpdjpmb2N1cyB7XHJcblx0b3V0bGluZTogbm9uZTtcclxufVxyXG5cclxuI25vdGUtdGV4dGJveCB7XHJcbiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIGNhcmV0LWNvbG9yOiAjY2NjY2NjO1xyXG4gICAgcmVzaXplOiBub25lO1xyXG4gICAgei1pbmRleDogMDtcclxufVxyXG4jbm90ZS10ZXh0Ym94OmZvY3VzIHtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuI25vdGUtcmVuZGVyLW92ZXJsYXkge1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcbiNub3RlLXJlbmRlci1vdmVybGF5IC5saW5rIHtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xyXG4gICAgei1pbmRleDogMjtcclxuICAgIGRpc3BsYXk6IGlubGluZTtcclxufVxyXG5cclxuXHJcblxyXG4uY2hlY2std3JhcHBlciB7XHJcblx0bWFyZ2luOiA1cHg7XHJcbn1cclxuLnRvb2x0aXAtYmFzZXtcclxuXHRkaXNwbGF5OmZsZXg7XHJcblx0cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O1xyXG5cdGZvbnQtZmFtaWx5OlwiRHJvaWQgU2Fuc1wiLHNhbnMtc2VyaWY7XHJcblx0Zm9udC1zaXplOjEwcHg7XHJcblx0Y29sb3I6I2JiYlxyXG59XHJcbi50b29sdGlwXHJcbntcclxuXHRkaXNwbGF5OiBub25lO1xyXG5cdG1hcmdpbi1sZWZ0OiAxMDBweDtcclxufVxyXG4udG9vbHRpcC1iYXNlOmhvdmVyIC50b29sdGlwXHJcbntcclxuXHRkaXNwbGF5OiBibG9jaztcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMjMyODJiO1xyXG5cdHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxufVxyXG4uc2VsZWN0IHtcclxuXHRib3JkZXI6IDBweDtcclxuXHRib3JkZXItYm90dG9tOiAxcHggc29saWQgIzhkNjQxMTtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjNDIzNjFkO1xyXG5cdGNvbG9yOiAjYmJiO1xyXG5cdG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcblx0Zm9udC13ZWlnaHQ6IGJvbGQ7XHJcblx0ZGlzcGxheTogYmxvY2s7XHJcblx0Zm9udC1zaXplOiAxNnB4O1xyXG5cdHBhZGRpbmctbGVmdDogNXB4O1xyXG59XHJcbi5mbGV4LXRhYmxlIHtcclxuXHR3aWR0aDogMTAwJTtcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG5cdGZsZXg6IDE7XHJcblx0ZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHRmbGV4LXdyYXA6IHdyYXA7XHJcblx0anVzdGlmeS1jb250ZW50OiBsZWZ0O1xyXG5cdGFsaWduLWl0ZW1zOiBsZWZ0O1xyXG59XHJcbi5saXN0IHtcclxuXHRkaXNwbGF5OiBibG9jaztcclxuXHRwYWRkaW5nOiA1cHg7XHJcbn1cclxuLmNoYXQtbGluZSB7XHJcblx0d2lkdGg6IDEwMCU7XHJcblx0ZGlzcGxheTogZ3JpZDtcclxuXHRncmlkLXRlbXBsYXRlLWNvbHVtbnM6IG1pbm1heCg4ZW0sIDFmcikgbWlubWF4KDhlbSwgNGZyKSBtaW5tYXgoOGVtLCAxNWZyKTtcclxuXHRncmlkLWNvbHVtbi1nYXA6IDFweDtcclxuXHRmb250LXNpemU6IDExcHg7XHJcblx0bGluZS1oZWlnaHQ6IDEuMTtcclxufVxyXG4udGltZS1kYXRlIHtcclxuXHRjb2xvcjogIzQ0NDQ0NDtcclxuXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcblx0cGFkZGluZzogMnB4IDVweDtcclxuXHRwYWRkaW5nLXJpZ2h0OiAwcHg7XHJcblx0dGV4dC1hbGlnbjogbGVmdDtcclxuXHR3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG5cdG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuLmNoYXQtbmFtZSB7XHJcblx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG5cdHRleHQtYWxpZ246IHJpZ2h0O1xyXG5cdGNvbG9yOiAjOTk5OTk5O1xyXG5cdHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG5cdHBhZGRpbmc6IDJweCA1cHg7XHJcblx0Ym9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzk5OTk5OTtcclxufVxyXG4uY2hhdC1tZXNzYWdlIHtcclxuXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcblx0dGV4dC1hbGlnbjogbGVmdDtcclxuXHRjb2xvcjogI2JiYmJiYjtcclxuXHR3b3JkLWJyZWFrOiBicmVhay13b3JkO1xyXG5cdHBhZGRpbmc6IDJweCA1cHg7XHJcbn1cclxuLmZpbi10aXRsZSB7XHJcblx0ZGlzcGxheTogYmxvY2s7XHJcblx0Zm9udC1zaXplOiAxMnB4O1xyXG5cdG1hcmdpbi1ib3R0b206IDBweDtcclxuXHRwYWRkaW5nOiA2cHggNHB4IDJweDtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDYzLCAxNjIsIDIyMiwgMC4xNSk7XHJcbn1cclxudGQuYnVybi1ncmVlbiB7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogIzM0NTAzNCAhaW1wb3J0YW50O1xyXG5cdGNvbG9yOiAjOWZiYjlmO1xyXG59XHJcbnRyOmhvdmVyIHRkLmJ1cm4tZ3JlZW4ge1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICM1MDZjNTAgIWltcG9ydGFudDtcclxufVxyXG50ZC5idXJuLXllbGxvdyB7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogIzgzNmUyNCAhaW1wb3J0YW50O1xyXG5cdGNvbG9yOiAjZjZkZjk0O1xyXG59XHJcbnRyOmhvdmVyIHRkLmJ1cm4teWVsbG93IHtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjOWY4YTQwICFpbXBvcnRhbnQ7XHJcbn1cclxudGQuYnVybi1yZWQge1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICM1YTMxMzAgIWltcG9ydGFudDtcclxuXHRjb2xvcjogI2M1OWM5YjtcclxufVxyXG50cjpob3ZlciB0ZC5idXJuLXJlZCB7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogIzc2NGQ0YyAhaW1wb3J0YW50O1xyXG59XHJcbi5pbnYtaGVhZGVyIHtcclxuXHRkaXNwbGF5OiBpbmxpbmU7XHJcblx0cGFkZGluZzogMnB4IDhweDtcclxuXHRjb2xvcjogIzNmYTJkZTtcclxufVxyXG4uaW52LWJvZHkge1xyXG5cdGRpc3BsYXk6IGZsZXg7XHJcblx0ZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHRmbGV4LXdyYXA6IHdyYXA7XHJcblx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcblx0YWxpZ24taXRlbXM6IHN0cmV0Y2g7XHJcblx0bWFyZ2luLWJvdHRvbTogMjNweDtcclxuXHRwYWRkaW5nOiA1cHggOHB4O1xyXG59XHJcbi5wcm9ncmVzcy1iYXIge1xyXG5cdHdpZHRoOiAzMHB4O1xyXG5cdGhlaWdodDogOXB4O1xyXG5cdGJvcmRlcjogMXB4IHNvbGlkICM5OTk7XHJcblx0bWFyZ2luOiAxcHggMnB4O1xyXG59XHJcbi5wcm9ncmVzcy1iYXI6Oi13ZWJraXQtcHJvZ3Jlc3MtdmFsdWUge2JhY2tncm91bmQ6ICNmN2E2MDA7fVxyXG5cclxuLmdyZXktcHJvZ3Jlc3MtYmFyOjotd2Via2l0LXByb2dyZXNzLXZhbHVlIHtiYWNrZ3JvdW5kOiAjZDk1MzRmO31cclxuLmdvb2QtcHJvZ3Jlc3MtYmFyOjotd2Via2l0LXByb2dyZXNzLXZhbHVlIHtiYWNrZ3JvdW5kOiAjNWNiODVjO31cclxuLndhcm5pbmctcHJvZ3Jlc3MtYmFyOjotd2Via2l0LXByb2dyZXNzLXZhbHVlIHtiYWNrZ3JvdW5kOiAjZmZjODU2O31cclxuLmRhbmdlci1wcm9ncmVzcy1iYXI6Oi13ZWJraXQtcHJvZ3Jlc3MtdmFsdWUge2JhY2tncm91bmQ6ICNkOTUzNGY7fVxyXG5cclxuLnhpdC10aWxlIHtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyICFpbXBvcnRhbnQ7XHJcblx0cGFkZGluZy10b3A6IDRweDtcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG5cdGZsZXgtZmxvdzogY29sdW1uO1xyXG59XHJcbi5yZWZyZXNoLWJ1dHRvbiB7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogI2Y3YTYwMDtcclxuXHRjb2xvcjogI2VlZTtcclxuXHRib3JkZXItd2lkdGg6IDBweDtcclxuXHRwYWRkaW5nOiAwcHggOHB4O1xyXG5cdGRpc3BsYXk6IGJsb2NrO1xyXG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xyXG5cdGZvbnQtc2l6ZTogMTFweDtcclxuXHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0bWFyZ2luOiA0cHggOHB4O1xyXG59XHJcbi5yZWZyZXNoLWJ1dHRvbjpob3ZlciB7XHJcblx0Y29sb3I6ICMxZTFlMWU7XHJcbn1cclxuLm5vdGlmaWNhdGlvbiB7XHJcblx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG5cdG1pbi13aWR0aDogNjJweDtcclxuXHRtYXgtd2lkdGg6IDYycHg7XHJcbn1cclxuLmZpbi1ib3gge1xyXG5cdG1hcmdpbjogMXB4O1xyXG5cdG1pbi13aWR0aDogMTAwcHg7XHJcblx0d2lkdGg6IGNhbGMoMzMlIC0gMnB4KTtcclxuXHRtYXgtd2lkdGg6IDE1MHB4O1xyXG5cdHBhZGRpbmc6IDRweDtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMjMyODJiO1xyXG5cdGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG4ubGluayB7XHJcblx0Y29sb3I6ICMzZmEyZGU7XHJcblx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcbi5saW5rOmhvdmVyIHtcclxuXHRjb2xvcjogI2Y3YTYwMCAhaW1wb3J0YW50O1xyXG59XHJcbi5jaGF0LWltYWdlIHtcclxuXHRtYXgtaGVpZ2h0OiAzMDBweDtcclxuXHRtYXgtd2lkdGg6IDkwJTtcclxufVxyXG4uaW5wdXQtdGV4dHtcclxuICAgIHBhZGRpbmc6IDBweCA1cHg7XHJcbiAgICBtYXJnaW46IDVweDtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjNDIzNjFkO1xyXG5cdGJvcmRlci13aWR0aDogMHB4O1xyXG5cdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjOGQ2NDExO1xyXG5cdGNvbG9yOiAjY2NjY2NjO1xyXG5cdFxyXG59XHJcbi5pbnB1dC10ZXh0OmZvY3Vze1xyXG5cdG91dGxpbmU6IG5vbmU7XHJcbn1cclxuLmhpZGRlbi1lbGVtZW50e1xyXG5cdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcclxuXHR2aXNpYmlsaXR5OiBmYWxzZSAhaW1wb3J0YW50O1xyXG5cdG1heC1oZWlnaHQ6IDAgIWltcG9ydGFudDtcclxuXHRwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XHJcblx0bWFyZ2luOiAwICFpbXBvcnRhbnQ7XHJcblx0Zm9udC1zaXplOiAwcHggIWltcG9ydGFudDtcclxufVxyXG4uYnV0dG9uLXVwcGVyLXJpZ2h0e1xyXG5cdGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG5cdGNvbG9yOiAjYmJiO1xyXG5cdGZpbGw6ICNiYmI7XHJcblx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdGRpc3BsYXk6IGJsb2NrO1xyXG5cdGZvbnQtc2l6ZTogMjRweDtcclxuXHRtYXJnaW4tdG9wOiAtOHB4O1xyXG59XHJcbi5idXR0b24tdXBwZXItcmlnaHQ6aG92ZXJ7XHJcblx0Y29sb3I6ICMwMDAgIWltcG9ydGFudDtcclxuXHRmaWxsOiAjMDAwO1xyXG5cdGJhY2tncm91bmQtY29sb3I6IHJnYigyNDcsIDE2NiwgMCk7XHJcbn1gO1xuZXhwb3J0IGNvbnN0IEFkdmFuY2VkU3R5bGUgPSBgXHJcbnNwYW4uR3JpZEl0ZW1WaWV3X19uYW1lX19faDN5WDlMbSB7XHJcblx0ZGlzcGxheTogbm9uZTtcclxufVxyXG5kaXYuR3JpZEl0ZW1WaWV3X19jb250YWluZXJfX194UDJ1Sno4IHtcclxuXHR3aWR0aDogYXV0bztcclxufVxyXG5gO1xuZXhwb3J0IGNvbnN0IEVuaGFuY2VkQ29sb3JzID0gYC8qIGNvbnN1bWFibGVzIChsdXh1cnkpICovXHJcbmRpdlt0aXRsZT1cIlN0ZWxsYXIgUGFsZSBBbGVcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0FMRVwiXSxcclxuLnRvb2x0aXBfQUxFLFxyXG5kaXZbdGl0bGU9XCJDYWZmZWluYXRlZCBJbmZ1c2lvblwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfQ09GXCJdLFxyXG4udG9vbHRpcF9DT0YsXHJcbmRpdlt0aXRsZT1cIkVpbnN0ZWluaXVtLUluZnVzZWQgR2luXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9HSU5cIl0sXHJcbi50b29sdGlwX0dJTixcclxuZGl2W3RpdGxlPVwiS29tYnVjaGFcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0tPTVwiXSxcclxuLnRvb2x0aXBfS09NLFxyXG5kaXZbdGl0bGU9XCJOZXVyb1N0aW11bGFudHNcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX05TVFwiXSxcclxuLnRvb2x0aXBfTlNULFxyXG5kaXZbdGl0bGU9XCJQYWRkZWQgV29yayBPdmVyYWxsXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9QV09cIl0sXHJcbi50b29sdGlwX1BXTyxcclxuZGl2W3RpdGxlPVwiUmVwYWlyIEtpdFwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfUkVQXCJdLFxyXG4udG9vbHRpcF9SRVAsXHJcbmRpdlt0aXRsZT1cIlN0ZW0gQ2VsbCBUcmVhdG1lbnRcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX1NDXCJdLFxyXG4udG9vbHRpcF9TQyxcclxuZGl2W3RpdGxlPVwiVml0YUdlbFwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfVkdcIl0sXHJcbi50b29sdGlwX1ZHLFxyXG4udG9vbHRpcF9XSU4sXHJcbmRpdlt0aXRsZT1cIlNtYXJ0IFppbmZhbmRlbFwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfV0lOXCJdXHJcbntcclxuYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY4MDAwMCwgIzdiMDAxMikgIWltcG9ydGFudDtcclxuY29sb3I6ICNkYjkxOTEgIWltcG9ydGFudDtcclxufVxyXG4vKiBhZ3JpY3VsdHVyYWwgcHJvZHVjdHMgKi9cclxuLnRvb2x0aXBfRk9ELFxyXG4udG9vbHRpcF9DQUYsXHJcbi50b29sdGlwX0hPUCxcclxuLnRvb2x0aXBfR1JOLFxyXG4udG9vbHRpcF9NQUksXHJcbi50b29sdGlwX0hDUCxcclxuLnRvb2x0aXBfTVRQLFxyXG4udG9vbHRpcF9QSUIsXHJcbi50b29sdGlwX1BQQSxcclxuLnRvb2x0aXBfQUxHLFxyXG4udG9vbHRpcF9CRUEsXHJcbi50b29sdGlwX01VUyxcclxuLnRvb2x0aXBfUkNPLFxyXG4udG9vbHRpcF9SU0ksXHJcbi50b29sdGlwX0hFUixcclxuLnRvb2x0aXBfVkVHLFxyXG4udG9vbHRpcF9OVVQsXHJcbi50b29sdGlwX1ZJVCxcclxuLnRvb2x0aXBfR1JBLFxyXG5kaXZbdGl0bGU9XCJQcm90ZWluLVJpY2ggQWxnYWVcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0FMR1wiXSxcclxuZGl2W3RpdGxlPVwiUHJvdGVpbi1SaWNoIEJlYW5zXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9CRUFcIl0sXHJcbmRpdlt0aXRsZT1cIkNhZmZlaW5hdGVkIEJlYW5zXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9DQUZcIl0sXHJcbmRpdlt0aXRsZT1cIkFsbC1QdXJwb3NlIEZvZGRlclwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfRk9EXCJdLFxyXG5kaXZbdGl0bGU9XCJXaW5lLVF1YWxpdHkgR3JhcGVzXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9HUkFcIl0sXHJcbmRpdlt0aXRsZT1cIkhpZ2gtQ2FyYiBHcmFpbnNcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0dSTlwiXSxcclxuZGl2W3RpdGxlPVwiSHlkcm9jYXJib24gUGxhbnRzXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9IQ1BcIl0sXHJcbmRpdlt0aXRsZT1cIlNwaWN5IEhlcmJzXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9IRVJcIl0sXHJcbmRpdlt0aXRsZT1cIkZsb3dlcnkgSG9wc1wiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfSE9QXCJdLFxyXG5kaXZbdGl0bGU9XCJIaWdoLUNhcmIgTWFpemVcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX01BSVwiXSxcclxuZGl2W3RpdGxlPVwiTWVhdCBUaXNzdWUgUGF0dGllc1wiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfTVRQXCJdLFxyXG5kaXZbdGl0bGU9XCJQcm90ZWluLVJpY2ggTXVzaHJvb21zXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9NVVNcIl0sXHJcbmRpdlt0aXRsZT1cIlRyaWdseWNlcmlkZSBOdXRzXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9OVVRcIl0sXHJcbmRpdlt0aXRsZT1cIlBpbmViZXJyaWVzXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9QSUJcIl0sXHJcbmRpdlt0aXRsZT1cIlByb3RlaW4gUGFzdGVcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX1BQQVwiXSxcclxuZGl2W3RpdGxlPVwiUmF3IENvdHRvbiBGaWJlclwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfUkNPXCJdLFxyXG5kaXZbdGl0bGU9XCJSYXcgU2lsayBTdHJhaW5zXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9SU0lcIl0sXHJcbmRpdlt0aXRsZT1cIlRyaWdseWNlcmlkZSBGcnVpdHNcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX1ZFR1wiXSxcclxuZGl2W3RpdGxlPVwiVml0YSBFc3NlbmNlXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9WSVRcIl1cclxue1xyXG5iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMDAzODAwLCAjMGE0NzA4KSAhaW1wb3J0YW50O1xyXG5jb2xvcjogIzhiYjM3YiAhaW1wb3J0YW50O1xyXG59XHJcbi8qIHBsYXN0aWNzICovXHJcbi50b29sdGlwX0RDTCxcclxuLnRvb2x0aXBfRENNLFxyXG4udG9vbHRpcF9EQ1MsXHJcbi50b29sdGlwX1BFLFxyXG4udG9vbHRpcF9QRyxcclxuLnRvb2x0aXBfUFNMLFxyXG4udG9vbHRpcF9QU00sXHJcbi50b29sdGlwX1BTUyxcclxuZGl2W3RpdGxlPVwiRHVyYWJsZSBDYXNpbmcgTFwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfRENMXCJdLFxyXG5kaXZbdGl0bGU9XCJEdXJhYmxlIENhc2luZyBNXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9EQ01cIl0sXHJcbmRpdlt0aXRsZT1cIkR1cmFibGUgQ2FzaW5nIFNcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0RDU1wiXSxcclxuZGl2W3RpdGxlPVwiUG9seS1FdGh5bGVuZVwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfUEVcIl0sXHJcbmRpdlt0aXRsZT1cIlBvbHltZXIgR3JhbnVsYXRlXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9QR1wiXSxcclxuZGl2W3RpdGxlPVwiUG9seW1lciBTaGVldCBUeXBlIExcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX1BTTFwiXSxcclxuZGl2W3RpdGxlPVwiUG9seW1lciBTaGVldCBUeXBlIE1cIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX1BTTVwiXSxcclxuZGl2W3RpdGxlPVwiUG9seW1lciBTaGVldCBUeXBlIFNcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX1BTU1wiXVxyXG57XHJcbmJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM3OTFmNjIsICM5MjM4N2IpICFpbXBvcnRhbnQ7XHJcbmNvbG9yOiAjZjg5ZWUxICFpbXBvcnRhbnQ7XHJcbn1cclxuLyogY29uc3VtYWJsZXMgKGJhc2ljKSAqL1xyXG4udG9vbHRpcF9EVyxcclxuLnRvb2x0aXBfRVhPLFxyXG4udG9vbHRpcF9GSU0sXHJcbi50b29sdGlwX0hNUyxcclxuLnRvb2x0aXBfSFNTLFxyXG4udG9vbHRpcF9MQyxcclxuLnRvb2x0aXBfTUVBLFxyXG4udG9vbHRpcF9NRUQsXHJcbi50b29sdGlwX09WRSxcclxuLnRvb2x0aXBfUERBLFxyXG4udG9vbHRpcF9QVCxcclxuLnRvb2x0aXBfUkFULFxyXG4udG9vbHRpcF9TQ04sXHJcbi50b29sdGlwX1dTLFxyXG5cclxuZGl2W3RpdGxlPVwiRHJpbmtpbmcgV2F0ZXJcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0RXXCJdLFxyXG5kaXZbdGl0bGU9XCJFeG9za2VsZXRvbiBXb3JrIFN1aXRcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0VYT1wiXSxcclxuZGl2W3RpdGxlPVwiRmxhdm91cmVkIEluc3RhLU1lYWxcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0ZJTVwiXSxcclxuZGl2W3RpdGxlPVwiSGF6TWF0IFdvcmsgU3VpdFwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfSE1TXCJdLFxyXG5kaXZbdGl0bGU9XCJTbWFydCBTcGFjZSBTdWl0XCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9IU1NcIl0sXHJcbmRpdlt0aXRsZT1cIkFJLUFzc2lzdGVkIExhYiBDb2F0XCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9MQ1wiXSxcclxuZGl2W3RpdGxlPVwiUXVhbGl0eSBNZWF0IE1lYWxcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX01FQVwiXSxcclxuZGl2W3RpdGxlPVwiQmFzaWMgTWVkaWNhbCBLaXRcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX01FRFwiXSxcclxuZGl2W3RpdGxlPVwiQmFzaWMgT3ZlcmFsbHNcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX09WRVwiXSxcclxuZGl2W3RpdGxlPVwiUGVyc29uYWwgRGF0YSBBc3Npc3RhbnRcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX1BEQVwiXSxcclxuZGl2W3RpdGxlPVwiUG93ZXIgVG9vbHNcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX1BUXCJdLFxyXG5kaXZbdGl0bGU9XCJCYXNpYyBSYXRpb25zXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9SQVRcIl0sXHJcbmRpdlt0aXRsZT1cIk11bHRpLVB1cnBvc2UgU2Nhbm5lclwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfU0NOXCJdLFxyXG5kaXZbdGl0bGU9XCJTY2llbnRpZmljIFdvcmsgU3RhdGlvblwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfV1NcIl1cclxue1xyXG5iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjYTYyYzJhLCAjYmEzNjNjKSAhaW1wb3J0YW50O1xyXG5jb2xvcjogI2ZmOTg5ZSAhaW1wb3J0YW50O1xyXG59XHJcbi8qIGZ1ZWxzICovXHJcbi50b29sdGlwX1NGLFxyXG4udG9vbHRpcF9GRixcclxuZGl2W3RpdGxlPVwiRlRMIEZ1ZWxcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0ZGXCJdLFxyXG5kaXZbdGl0bGU9XCJTVEwgRnVlbFwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfU0ZcIl1cclxue1xyXG5iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNTQ4ZDIyLCAjNmJhMjNjKSAhaW1wb3J0YW50O1xyXG5jb2xvcjogI2NiZmFhMyAhaW1wb3J0YW50O1xyXG59XHJcbi8qIGxpcXVpZHMgKi9cclxuLnRvb2x0aXBfSEVYLFxyXG4udG9vbHRpcF9MRVMsXHJcbi50b29sdGlwX0JUUyxcclxuLnRvb2x0aXBfSDJPLFxyXG5kaXZbdGl0bGU9XCJIZWxpb3Ryb3BlIEV4dHJhY3RcIl0sXHJcbmRpdltkYXRhLXRvb2x0aXAtY29udGVudD1cIiN0b29sdGlwX0hFWFwiXSxcclxuZGl2W3RpdGxlPVwiTGlxdWlkIEVpbnN0ZWluaXVtXCJdLFxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQ9XCIjdG9vbHRpcF9MRVNcIl0sXHJcbmRpdlt0aXRsZT1cIkJhY3RlcmlhbCBUdW5nc3RlbiBTb2x1dGlvblwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfQlRTXCJdLFxyXG5kaXZbdGl0bGU9XCJXYXRlclwiXSxcclxuZGl2W2RhdGEtdG9vbHRpcC1jb250ZW50PVwiI3Rvb2x0aXBfSDJPXCJdXHJcbntcclxuYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY3YThkYSwgIzYwOThjMykgIWltcG9ydGFudDtcclxuY29sb3I6ICNmMWZmZmYgIWltcG9ydGFudDtcclxufVxyXG5kaXYuR3JpZEl0ZW1WaWV3X19jb250YWluZXJfX194UDJ1Sno4IHtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyO1xyXG59XHJcbi8qIGZ1bGwgaXRlbSBuYW1lIGNlbnRlcmluZyAqL1xyXG5zcGFuLkdyaWRJdGVtVmlld19fbmFtZV9fX2gzeVg5TG0ge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwYWRkaW5nLXRvcDogMXB4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59YDtcbmV4cG9ydCBjb25zdCBJY29uU3R5bGUgPSBgXHJcbiAvKiBQclVuSWNvbiB2MC45MFxyXG4qID09PT09PT09PT09PT09PVxyXG4qXHJcbiogV3JpdHRlbiBieSBhbGxvY2F0ZXJcclxuKiBJbnN0YWxsIENocm9tZSBhZGRvbjogU3R5bGVCb3QgXHJcbiogZ290bzogYXBleC5wcm9zcGVyb3VzdW5pdmVyc2UuY29tXHJcbiogcmlnaHQtY2xpY2sgYW55d2hlcmUsIHNlbGVjdDogU3R5bGVCb3QgLT4gU3R5bGUgRWxlbWVudFxyXG4qIENvcHkmUGFzdGUgdGhpcyBmaWxlIGludG8gdGhlIFN0eWxlQm90IHdpbmRvd1xyXG4qXHJcbiogQ1NTIHNjcmlwdCB0byBnaXZlIGljb25zIHRvIGFsbCBjb21tb2RpdGllcyBhbmQgc29tZSBvdGhlciBVSSBjb2xvciBhbmQgbGF5b3V0IGNoYW5nZXMuXHJcbiovXHJcbiBcclxuLyogY29udHJvdmVyc2lhbCBVSSBjaGFuZ2VzIGFuZCBjb2xvcnMgKi9cclxuLyogKGNvbW1lbnQvZGVsZXRlIGlmIG5vdCBkZXNpcmVkKVxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuIFxyXG4vKiBpdGVtIHRpY2tlciBjb2xvciAqL1xyXG4uQ29sb3JlZEljb25fX2xhYmVsX19fT1UxSTRvUCB7XHJcbiAgICBjb2xvcjogI2NjY2NjYztcclxufVxyXG4gXHJcbiBcclxuLyogZnVsbCBpdGVtIG5hbWUgY2VudGVyaW5nICovXHJcbi5HcmlkSXRlbVZpZXdfX25hbWVfX19oM3lYOUxtICB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmctdG9wOiAxcHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuIFxyXG4vKiB0YWJsZSBjb2xvciAqL1xyXG50YWJsZSB0Ym9keSB0ZDpudGgtY2hpbGQob2RkKVxyXG57XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjUyZTtcclxufVxyXG4gXHJcbi8qIGVuZCBVSSBjaGFuZ2VzIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbiBcclxuLyogaXRlbXMgaW4gcHJvZHVjdGlvbiB2aWV3IGFuZCBtYXJrZXQgdmlldyAqL1xyXG5kaXYuTWF0ZXJpYWxJbmZvcm1hdGlvbl9fcmVjaXBlSW5wdXRzX19fZUx2Zm9vcCBkaXYuQnVpbGRpbmdJY29uX19jb250YWluZXJfX19qRjVHVXN6IGRpdi5CdWlsZGluZ0ljb25fX3RpY2tlckNvbnRhaW5lcl9fX05aeDNHOENcclxue1xyXG4gIGhlaWdodDogMzZweDtcclxuICB3aWR0aDogMzZweDtcclxufVxyXG4gXHJcbi8qIGl0ZW1zIGluIHBsYW5ldCB2aWV3ICovXHJcbmRpdi5SZXNvdXJjZVRhYmxlX19ncmlkQ29udGFpbmVyX19feW1yelRjRCBkaXYuTWF0ZXJpYWxJY29uX19jb250YWluZXJfX19xOGdLSXg4IGRpdi5Db2xvcmVkSWNvbl9fY29udGFpbmVyX19fZGphUjRyMjpiZWZvcmVcclxue1xyXG4gIGhlaWdodDogMjBweDtcclxuICB3aWR0aDogMjBweDtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbn1cclxuIFxyXG4vKlxyXG5HcmlkSXRlbVZpZXdfX2NvbnRhaW5lcl9fX3hQMnVKejhcclxuR3JpZEl0ZW1WaWV3X19pbWFnZV9fX3lNb0tPWlZcclxuTWF0ZXJpYWxJY29uX19jb250YWluZXJfX19xOGdLSXg4XHJcbkNvbG9yZWRJY29uX19jb250YWluZXJfX19kamFSNHIyXHJcbkNvbG9yZWRJY29uX19sYWJlbENvbnRhaW5lcl9fX1lWZmd6T2tcclxuKi9cclxuIFxyXG4vKiBkZWZhdWx0IDpiZWZvcmUgZWxlbWVudCB0byBwcmVwYXJlIGZvciBuZXcgaWNvbiovXHJcbmRpdi5Db2xvcmVkSWNvbl9fY29udGFpbmVyX19fZGphUjRyMjpiZWZvcmVcclxue1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGNvbnRlbnQ6IFwiXCI7XHJcbiAgXHJcbiAgLyp3aGlsZSBpdCBpcyBpY29uKi9cclxuICBvcGFjaXR5OiAuMztcclxuICBmb250LXNpemU6IDMwcHg7XHJcbn1cclxuIFxyXG4vKiBjb2xvcmVkIG92ZXJsYXkgaWNvbiAqL1xyXG5kaXYuQ29sb3JlZEljb25fX2xhYmVsQ29udGFpbmVyX19fWVZmZ3pPazpiZWZvcmVcclxue1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBjb250ZW50OiBcIlwiOyAvKiB3aWxsIGJlY29tZSBpY29uICovXHJcbiBcclxuICBvcGFjaXR5OiAwLjE7XHJcbiAgei1pbmRleDogLTE7XHJcbiAgZm9udC1zaXplOiAzMHB4O1xyXG4gIGNvbG9yOiByZ2JhKDEwMCUsIDAlLCAwJSwgMCk7XHJcbn1cclxuXHJcbi8qXHJcbmRpdlt0aXRsZT1cImdvbGQgb3JlXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn6WUXCI7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIGdvbGQ7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJpcm9uIG9yZVwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+llFwiO1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBhcXVhO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiYWx1bWluaXVtIG9yZVwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+llFwiO1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBncmV5O1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwic2lsaWNvbiBvcmVcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIvCfpZRcIjtcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgd2hpdGU7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJ0aXRhbml1bSBvcmVcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIvCfpZRcIjtcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgYmx1ZTtcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cImxpdGhpdW0gb3JlXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn6WUXCI7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIGdyZWVuO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiY29wcGVyIG9yZVwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+llFwiO1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCByZWQ7XHJcbn1cclxuICovXHJcbmRpdlt0aXRsZT1cImZlcnJvLXRpdGFuaXVtXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn5+mXCI7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG4gIGNvbG9yOiByZ2JhKDEsMSwxLDEpO1xyXG4gIG9wYWNpdHk6IDAuMztcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cImFscGhhLXN0YWJpbGl6ZWQgdGl0YW5pdW1cImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIuKsnFwiO1xyXG4gIGZvbnQtc2l6ZTogMTVweDtcclxuICBjb2xvcjogcmdiYSgxLDEsMSwxKTtcclxuICBvcGFjaXR5OiAwLjM7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJmZXJyb21pbml1bVwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi4qycXCI7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG4gIGNvbG9yOiByZ2JhKDEsMSwxLDEpO1xyXG4gIG9wYWNpdHk6IDAuMztcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cImFscGhhLXN0YWJpbGl6ZWQgdHVuZ3N0ZW5cImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIuKsnFwiO1xyXG4gIGZvbnQtc2l6ZTogMTVweDtcclxuICBjb2xvcjogcmdiYSgxLDEsMSwxKTtcclxuICBvcGFjaXR5OiAwLjM7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGVePVwiQmFzaWMgVGhlcm1hbFwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+UpVwiO1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBjb2xvcjogcmdiYSgxLDEsMSwxKTtcclxuICBvcGFjaXR5OiAwLjI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGVePVwiQWR2YW5jZWQgVGhlcm1hbFwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+UpVwiO1xyXG4gIGZvbnQtc2l6ZTogMjVweDtcclxuICBjb2xvcjogcmdiYSgxLDEsMSwxKTtcclxuICBvcGFjaXR5OiAwLjI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiQW50aS1SYWRcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIuKam1wiO1xyXG4gIGZvbnQtc2l6ZTogMjVweDtcclxuICBjb2xvcjogcmdiYSgxLDEsMSwxKTtcclxuICBvcGFjaXR5OiAwLjQ7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGVePVwiQWR2YW5jZWQgQW50aS1SYWRcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBmb250LXNpemU6IDMwcHg7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGVePVwiU3BlY2lhbGl6ZWQgQW50aS1SYWRcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBmb250LXNpemU6IDM1cHg7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiSGlnaC1DYXBhY2l0eSBDXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn5SMXCI7XHJcbiAgZm9udC1zaXplOiAzMHB4O1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBnb2xkO1xyXG4gIG9wYWNpdHk6IC4yNTtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJTaGllbGRlZCBDXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn5SMXCI7XHJcbiAgZm9udC1zaXplOiAzMHB4O1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBibHVlO1xyXG4gIG9wYWNpdHk6IC4wMTtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJCdWRnZXQgQ1wiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+UjFwiO1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgY2hvY29sYXRlO1xyXG4gIG9wYWNpdHk6IC4yO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlKj1cInJhdyBcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIvCfp7ZcIjtcclxuICBmb250LXNpemU6IDMwcHg7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwicmF3IGNvdHRvblwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBncmV5O1xyXG4gIG9wYWNpdHk6IC4yO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlKj1cInJhdyBzaWxrXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIHBsdW07XHJcbiAgb3BhY2l0eTogLjM7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiIGZhYnJpY1wiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+ntVwiO1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJrZXZsYXIgZmFicmljXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIGdyZWVuO1xyXG4gIG9wYWNpdHk6IC4xNTtcclxufVxyXG4gXHJcbiBcclxuZGl2W3RpdGxlKj1cInRlY2hub2tldmxhciBmYWJyaWNcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgYmx1ZXZpb2xldDtcclxuICBvcGFjaXR5OiAuMjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJueWxvbiBmYWJyaWNcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgYmxhY2s7XHJcbiAgb3BhY2l0eTogLjE7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiY290dG9uIGZhYnJpY1wiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBncmV5O1xyXG4gIG9wYWNpdHk6IC4yO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlKj1cInNpbGtlbiBmYWJyaWNcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgcGx1bTtcclxuICBvcGFjaXR5OiAuMztcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJjZXJhbWljIGZhYnJpY1wiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBvcmFuZ2VyZWQ7XHJcbiAgb3BhY2l0eTogLjE1O1xyXG59XHJcbiBcclxuZGl2W3RpdGxlKj1cImNlcmFtaWMtdHVuZ3N0ZW4gZmFicmljXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIGJyb3duO1xyXG4gIG9wYWNpdHk6IC4zO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwibnV0cmllbnQgc29sdXRpb25cImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIvCfp6pcIjtcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgZ3JlZW47XHJcbiAgb3BhY2l0eTogLjM7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJuYW5vLWVuaGFuY2VkIHJlc2luXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn6eqXCI7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIGJsdWV2aW9sZXQ7XHJcbiAgb3BhY2l0eTogLjM7XHJcbiAgZm9udC1zaXplOiAzMnB4O1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiZmx1eFwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+nqlwiO1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCB5ZWxsb3c7XHJcbiAgb3BhY2l0eTogLjE1O1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiaW5kaWdvIGNvbG9yYW50XCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn6eqXCI7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIGluZGlnbztcclxuICBvcGFjaXR5OiAuMztcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cIk9sZmFjdG9yeSBTdWJzdGFuY2VzXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn6eqXCI7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIG9saXZlO1xyXG4gIG9wYWNpdHk6IC4zO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiRERUIFBsYW50IEFnZW50XCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn6eqXCI7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIHJlZDtcclxuICBvcGFjaXR5OiAuMztcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cIlNlZGF0aXZlIFN1YnN0YW5jZVwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+nqlwiO1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBvcmFuZ2U7XHJcbiAgb3BhY2l0eTogLjM7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJkZXNhdHVyYXRpb24gYWdlbnRcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIvCfp6pcIjtcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgd2hpdGU7XHJcbiAgb3BhY2l0eTogLjE7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJicmVhdGhhYmxlIGxpcXVpZFwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+Sp1wiO1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCBhcXVhbWFyaW5lO1xyXG4gIG9wYWNpdHk6IC4yNTtcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cInRoZXJtb2ZsdWlkXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn5KnXCI7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIG9yYW5nZTtcclxuICBvcGFjaXR5OiAuNTtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJmZXJ0aWxpemVyXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLim7BcIjtcclxuICB0ZXh0LXNoYWRvdzogMCAwIDAgeWVsbG93Z3JlZW47XHJcbiAgb3BhY2l0eTogLjM7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiYWNpZFwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi4pijXCI7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMCAwIGdyZWVueWVsbG93O1xyXG4gIG9wYWNpdHk6IC4xO1xyXG4gIGZvbnQtc2l6ZTogNDBweDtcclxufVxyXG4gXHJcbi8qXHJcbiBcclxuZGl2W3RpdGxlKj1cInNvbGFyXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn4yeXCI7XHJcbiAgb3BhY2l0eTogLjE7XHJcbiAgZm9udC1zaXplOiAzMHB4O1xyXG4gIHRleHQtc2hhZG93OiAwIDAgMCB5ZWxsb3c7XHJcbiAgY29sb3I6IHJnYmEoMSwxLDEsMSk7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJsYXJnZSBjYXJnbyBiYXkga2l0XCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLimpZcIjsgb3BhY2l0eTogMC42OyBmb250LXNpemU6IDIwcHg7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJoaWdoLWxvYWQgY2FyZ28gYmF5IGtpdFwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+UlFwiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiaGlnaC12b2x1bWUgY2FyZ28gYmF5IGtpdFwiaV0gZGl2OmJlZm9yZSBcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+OiFwiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiZ29sZCBvcmVcImldIGRpdjpiZWZvcmUgXHJcbntcclxuICBjb250ZW50OiBcIvCfn6hcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cImlyb24gb3JlXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLwn5+mXCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJhbHVtaW5pdW0gb3JlXCJpXSBkaXY6YmVmb3JlIFxyXG57XHJcbiAgY29udGVudDogXCLirJxcIjtcclxufVxyXG4qL1xyXG4gXHJcbi8qIG5vbi1jYXRlZ29yeSBjb2xvciBzcGVjaWFsIGhhY2tzKi9cclxuIFxyXG5kaXZbdGl0bGU9XCJIaWdoLUNhcGFjaXR5IENvbm5lY3RvcnNcIl0sXHJcbmRpdlt0aXRsZT1cIlJlZCBHb2xkXCJdXHJcbntcclxuICAtYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDE0NSAxMjkgNDMpLCByZ2IoMTIwIDcyIDcpKVxyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiU2hpZWxkZWQgQ29ubmVjdG9yc1wiXSxcclxuZGl2W3RpdGxlPVwiQmx1ZSBHb2xkXCJdXHJcbntcclxuICAtYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDE0NSAxMjkgNDMpLCByZ2IoNzAgNzIgMjAwKSlcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cIkFpciBTY3J1YmJlclwiXVxyXG57XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDMwIDk2IDU4KSwgIHJnYig1MSwgMjYsIDc2KSk7XHJcbn1cclxuIFxyXG4vKiBkdyBhbmQgYWxsIGNvbnN1bWFibGVzICovXHJcbiBcclxuLyogXCJub3JtYWxcIiBpY29ucyBhbmQgY29sb3JzICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuIFxyXG4vKiBSQVQgaW5wdXRzICovXHJcbmRpdlt0aXRsZV49XCJIaWdoLUNhcmJcIl0sXHJcbmRpdlt0aXRsZV49XCJQcm90ZWluLVJpY2hcIl0sXHJcbmRpdlt0aXRsZV49XCJUcmlnbHljZXJpZGVcIl1cclxue1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxNDUgMTI5IDQzKSwgcmdiKDcwIDcyIDcpKVxyXG59XHJcbiBcclxuZGl2W2NvbnRlbnQ9XCJJby1kaW5lXCJdXHJcbntcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTUzIDg3IDEpLCByZ2IoODYgNDAgMCkpXHJcbn1cclxuIFxyXG4vKiBvdGhlciBBcmdyaWN1bHR1cmUgKi9cclxuZGl2W3RpdGxlPVwiSHlkcm9jYXJib24gUGxhbnRzXCJdLFxyXG5kaXZbdGl0bGU9XCJTcGljeSBIZXJic1wiXSxcclxuZGl2W3RpdGxlPVwiQWxsLVB1cnBvc2UgRm9kZGVyXCJdLFxyXG5kaXZbdGl0bGU9XCJGbG93ZXJ5IEhvcHNcIl0sXHJcbmRpdlt0aXRsZT1cIkNhZmZlaW5hdGVkIEJlYW5zXCJdLFxyXG5kaXZbdGl0bGU9XCJSYXcgQ290dG9uIEZpYmVyXCJdLFxyXG5kaXZbdGl0bGU9XCJXaW5lLVF1YWxpdHkgR3JhcGVzXCJdLFxyXG5kaXZbdGl0bGU9XCJNZWF0IFRpc3N1ZSBQYXR0aWVzXCJdLFxyXG5kaXZbdGl0bGU9XCJQaW5lYmVycmllc1wiXSxcclxuZGl2W3RpdGxlPVwiUmF3IFNpbGsgU3RyYWluc1wiXSxcclxuZGl2W3RpdGxlPVwiVml0YSBFc3NlbmNlXCJdLFxyXG5kaXZbdGl0bGU9XCJQcm90ZWluIFBhc3RlXCJdIHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTUzIDg3IDEpLCByZ2IoODYgNDAgMCkpXHJcbn1cclxuIFxyXG5kaXZbdGl0bGVePVwiRHJpbmtcIl0sXHJcbmRpdlt0aXRsZV49XCJCYXNpYyBSYVwiXSB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDcxIDEyNiAxNzQpLCByZ2IoNDYgNjYgMTQ5KSlcclxufVxyXG4gXHJcbi8qIGxpcXVpZHMgKi9cclxuZGl2W3RpdGxlKj1cIkhlbGlvdHJvcGVcIl0sXHJcbmRpdlt0aXRsZSo9XCJMaXF1aWQgRWluc1wiXSxcclxuZGl2W3RpdGxlKj1cIkJhY3RlcmlhbCBUdW5cIl0sXHJcbmRpdlt0aXRsZV49XCJXYXRlclwiXSB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDEyMiA4MCA1NSksIHJnYigxOCA3NCAxMjQpKVxyXG59XHJcbiBcclxuLyogY2hlbWljYWxzIGJnIGNvbG9ycyAqL1xyXG5kaXZbdGl0bGUqPVwiU3Vic3RhbmNlXCJdLCBcclxuZGl2W3RpdGxlKj1cIkNoZW1pY2FsXCJdLCBcclxuZGl2W3RpdGxlPVwiTGlxdWlkIENyeXN0YWxzXCJdLCBcclxuZGl2W3RpdGxlKj1cIkJyZWF0aGFibGUgTGlxdWlkXCJdLCBcclxuZGl2W3RpdGxlKj1cIkFnZW50XCJdLCBcclxuZGl2W3RpdGxlKj1cIkZsdXhcIl0sIFxyXG5kaXZbdGl0bGUqPVwiUmVzaW5cIl0sIFxyXG5kaXZbdGl0bGUqPVwiQ29sb3JhbnRcIl0sXHJcbmRpdlt0aXRsZSo9XCJBY2lkXCJdLCBcclxuZGl2W3RpdGxlKj1cIiBCYWN0ZXJpYVwiXSwgXHJcbmRpdlt0aXRsZSo9XCJTb2lsXCJdLFxyXG5kaXZbdGl0bGUqPVwiU3RhYmlsaXplclwiXSxcclxuZGl2W3RpdGxlKj1cIkZlcnRpbGl6ZXJcIl0sXHJcbmRpdlt0aXRsZSo9XCJUaGVybW9GbHVpZFwiXSxcclxuZGl2W3RpdGxlKj1cIkVucmljaGVkXCJdLFxyXG5kaXZbdGl0bGUqPVwiTnV0cmllbnRcIl0ge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxODMsIDQ2LCA5MSksIHJnYigxMTQgMzcgNjIpKVxyXG59XHJcbiBcclxuLyogcHJlZmFicyAqL1xyXG5kaXZbdGl0bGVePVwiQmFzaWMgU3RyXCJdLFxyXG5kaXZbdGl0bGVePVwiQmFzaWMgRGVja1wiXSxcclxuZGl2W3RpdGxlXj1cIkJhc2ljIEJ1bGtcIl0sXHJcbmRpdlt0aXRsZV49XCJCYXNpYyBUcmFuc1wiXSB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDUxIDU0IDY2ICksIHJnYigxNSwgMzAsIDk4KSlcclxufVxyXG5kaXZbdGl0bGVePVwiTGlnaHR3ZWlnaHRcIl0ge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig4NSA5NCAzNSksIHJnYigxNSwgMzAsIDk4KSlcclxufVxyXG5kaXZbdGl0bGVePVwiSGFyZGVuZWRcIl0sIFxyXG5kaXZbdGl0bGVePVwiUmVpbmZvcmNlZFwiXSB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDc4IDQ0IDI3KSwgcmdiKDE1LCAzMCwgOTgpKVxyXG59XHJcbmRpdlt0aXRsZV49XCJBZHZhbmNlZCBEZWNrXCJdLFxyXG5kaXZbdGl0bGVePVwiQWR2YW5jZWQgVHJhbnNwXCJdLFxyXG5kaXZbdGl0bGVePVwiQWR2YW5jZWQgU3RyXCJdLFxyXG5kaXZbdGl0bGVePVwiQWR2YW5jZWQgQnVsa1wiXSB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDcxIDM1IDk0KSwgcmdiKDE1LCAzMCwgOTgpKVxyXG59XHJcbiBcclxuLyogY29uc3RydWN0aW9uIGJnIGNvbG9ycyAqL1xyXG5kaXZbdGl0bGU9XCJJbnN1Rm9hbVwiXSxcclxuZGl2W3RpdGxlPVwiRXBveHkgUmVzaW5cIl0sXHJcbmRpdlt0aXRsZT1cIk1lZ2FUdWJlIENvYXRpbmdcIl0sXHJcbmRpdlt0aXRsZT1cIk5hbm8tQ2FyYm9uIFNoZWV0aW5nXCJdLFxyXG5kaXZbdGl0bGU9XCJOYW5vIEZpYmVyXCJdLFxyXG5kaXZbdGl0bGU9XCJOYW5vLUNvYXRlZCBHbGFzc1wiXSxcclxuZGl2W3RpdGxlPVwiUmVpbmZvcmNlZCBHbGFzc1wiXSxcclxuZGl2W3RpdGxlPVwiUG9seS1TdWxmaXRlIFNlYWxhbnRcIl0sXHJcbmRpdlt0aXRsZT1cIkdsYXNzXCJdLFxyXG5kaXZbdGl0bGU9XCJNaW5lcmFsIENvbnN0cnVjdGlvbiBHcmFudWxhdGVcIl0ge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig3MiAxMjUgMjIxKSwgcmdiKDAgNjQgMTc5KSlcclxufVxyXG4gXHJcbi8qIGNvbnN0cnVjdGlvbiBwYXJ0cyAqL1xyXG5kaXZbdGl0bGU9XCJBZXJvc3RhdCBGb3VuZGF0aW9uXCJdLFxyXG5kaXZbdGl0bGU9XCJBaXIgU2NydWJiZXJcIl0sXHJcbmRpdlt0aXRsZT1cIkRlY29yYXRpdmUgRWxlbWVudHNcIl0sXHJcbmRpdlt0aXRsZT1cIkZsb2F0aW5nIFRhbmtcIl0sXHJcbmRpdlt0aXRsZT1cIkZsb3cgQ29udHJvbCBEZXZpY2VcIl0sXHJcbmRpdlt0aXRsZT1cIkZsdWlkIFBpcGluZ1wiXSxcclxuZGl2W3RpdGxlPVwiQ3lsaW5kcmljYWwgR2FzIENvbnRhaW5lclwiXSxcclxuZGl2W3RpdGxlPVwiR2FzIFZlbnRcIl0sXHJcbmRpdlt0aXRsZT1cIk1hZ25ldGljIEdyb3VuZCBDb3ZlclwiXSxcclxuZGl2W3RpdGxlPVwiTWV0YWwtSGFsaWRlIExpZ2h0aW5nIFN5c3RlbVwiXSxcclxuZGl2W3RpdGxlPVwiTmVvbiBMaWdodGluZyBTeXN0ZW1cIl0sXHJcbmRpdlt0aXRsZT1cIlByZXNzdXJlIFNoaWVsZGluZ1wiXSxcclxuZGl2W3RpdGxlPVwiUmFkaWF0aW9uIFNoaWVsZGluZ1wiXSxcclxuZGl2W3RpdGxlPVwiU3RhYmlsaXplZCBUZWNobmV0aXVtXCJdLFxyXG5kaXZbdGl0bGU9XCJUaGVybWFsIFNoaWVsZGluZ1wiXSxcclxuZGl2W3RpdGxlPVwiVHJ1c3NcIl0ge1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig2NiwgMTAyLCAxMzIpLCByZ2IoNDEsIDc3LCAxMDcpKVxyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiU1RMIEZ1ZWxcIl0sXHJcbmRpdlt0aXRsZT1cIkZUTCBGdWVsXCJdIHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMzAsIDEyMywgMzApLCByZ2IoMzIgOTAgMzIpKVxyXG59XHJcbiBcclxuIFxyXG4vKiBlbGVjdHJvbmljIHN5c3RlbXMgYmcgY29sb3IgKi9cclxuZGl2W3RpdGxlPVwiQXVkaW8gRGlzdHJpYnV0aW9uIFN5c3RlbVwiXSxcclxuZGl2W3RpdGxlPVwiQXV0b21hdGVkIENvb2xpbmcgU3lzdGVtXCJdLFxyXG5kaXZbdGl0bGU9XCJDbGltYXRlIENvbnRyb2xsZXJcIl0sXHJcbmRpdlt0aXRsZT1cIkNvbW11bmljYXRpb24gU3lzdGVtXCJdLFxyXG5kaXZbdGl0bGU9XCJGVEwgRmllbGQgQ29udHJvbGxlclwiXSxcclxuZGl2W3RpdGxlPVwiTGlmZSBTdXBwb3J0IFN5c3RlbVwiXSxcclxuZGl2W3RpdGxlPVwiTG9naXN0aWNzIFN5c3RlbVwiXSxcclxuZGl2W3RpdGxlPVwiU3RhYmlsaXR5IFN1cHBvcnQgU3lzdGVtXCJdLFxyXG5kaXZbdGl0bGU9XCJUYXJnZXRpbmcgQ29tcHV0ZXJcIl0sXHJcbmRpdlt0aXRsZT1cIkNyeW9nZW5pYyBVbml0XCJdXHJcbntcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoNzYsIDUxLCAxNDEpLCAgcmdiKDUxLCAyNiwgNzYpKTtcclxufVxyXG4gXHJcbi8qIGxpZmUgcmVsYXRlZCBlbGVjdHJvbmljcyBzeXN0ZW1zIGJnIGNvbG9yKi9cclxuZGl2W3RpdGxlPVwiV2F0ZXIgUmVjbGFpbWVyXCJdLFxyXG5kaXZbdGl0bGU9XCJMaWZlIFN1cHBvcnQgU3lzdGVtXCJdXHJcbntcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMzAgOTYgNTgpLCAgcmdiKDUxLCAyNiwgNzYpKTtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJpdW1cIl06YmVmb3JlLCBcclxuZGl2W3RpdGxlKj1cInNpdGVcIl06YmVmb3JlLCBcclxuZGl2W3RpdGxlKj1cIm1pbmVyYWxcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLim7BcIjsgb3BhY2l0eTogMC40XHJcbn1cclxuZGl2W3RpdGxlKj1cImNvbnRyb2xsZXJcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn46bXCI7IG9wYWNpdHk6IDAuNlxyXG59XHJcbmRpdlt0aXRsZSo9XCJmaWx0ZXJcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cImRldmljZVwiaV06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwiIE1LXCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+Tu1wiO1xyXG59XHJcbi8qIPCfm7nwn5q/4puyICovXHJcbmRpdlt0aXRsZSo9XCJmbG93IGNvbnRyb2wgZGV2aWNlXCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+av1wiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJnbGFzc1wiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCflLJcIjtcclxuICBmb250LXNpemU6IDI1cHg7XHJcbn1cclxuZGl2W3RpdGxlKj1cImhlYWRwaG9uZVwiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjqdcIjtcclxufVxyXG5kaXZbdGl0bGUqPVwiaG9sb2dyYXBoaWMgZ2xhc3Nlc1wiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfkZNcIjtcclxufVxyXG5kaXZbdGl0bGUqPVwiZGlvZGVcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLilrZcIjtcclxufVxyXG5kaXZbZGF0YS10b29sdGlwLWNvbnRlbnQqPVwiU0FSXCJpXTpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCJzY2FubmVyXCJpXTpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCJzZW5zb3JcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5StXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIkZvdW5kYXRpb25cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp4dcIjtcclxufVxyXG4vKiDwn6eu8J+Oq/Cfjp/wn46eICovXHJcbmRpdlt0aXRsZSo9XCJtZW1vcnlcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cInByb2Nlc3NcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cInRyYW5zaXN0b3JcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cImNpcmN1aXRcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn46fXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cInRlbnNvclwiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp65cIjtcclxufVxyXG5kaXZbdGl0bGU9XCJtZW1vcnkgYmFua1wiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjp5cIjtcclxufVxyXG5kaXZbdGl0bGUqPVwiY2lyY3VpdFwiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjqtcIjtcclxufVxyXG4vKvCfp6fwn46f8J+Sv/Cfk7zwn46eKi9cclxuZGl2W3RpdGxlPVwiTm9uLVZvbGF0aWxlIE1lbW9yeVwiaV06YmVmb3JlXHJcbntcclxuICBjb250ZW50OiBcIvCfk4BcIjtcclxufVxyXG5kaXZbdGl0bGUqPVwic3lzdGVtXCJpXTpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCJjb21wdXRlclwiaV06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwibWFpbmZyYW1lXCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+WpVwiOyBcclxuICBvcGFjaXR5OiAwLjZcclxufVxyXG4vKiDwn46b8J+OmvCfkr7wn5K98J+Sv/Cfk4AgKi9cclxuZGl2W3RpdGxlKj1cIk5hdmlnYXRpb25cIl06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwiQXJ0aWZpY2lhbFwiXTpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCJEYXRhXCJdOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cIk5ldHdvcmtcIl06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwiRGF0YWJhc2VcIl06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwiRnJhbWV3b3JrXCJdOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cIk1hbmFnZW1lbnRcIl06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwiT3BlcmF0aW5nXCJdOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cIkludGVyZmFjZVwiXTpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCJBbGdvcml0aG1cIl06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwiTWFuYWdlclwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+SvlwiO1xyXG4gIG9wYWNpdHk6IDAuMzsgLyogc3lzdGVtIG92ZXJyaWRlKi9cclxufVxyXG5kaXZbdGl0bGUqPVwibW90aGVyYm9hcmRcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cIndhZmVyXCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+Oq1wiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJicm9hZGNhc3RpbmdcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cImFudGVubmFcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cImVtaXR0ZXJcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5OhXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cImxpYnJhcnlcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5OWXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIldvcmtzdGF0aW9uXCJdOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cIkRpc3BsYXlcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfkrtcIjtcclxufVxyXG5kaXZbdGl0bGUqPVwiTGlnaHRcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfkqFcIjtcclxufVxyXG5kaXZbdGl0bGUqPVwiUm9ja1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+lr1wiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJMaXF1aWRcIl06YmVmb3JlLCBcclxuZGl2W3RpdGxlKj1cIkZsdWlkXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5KnXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIkFpclwiXTpiZWZvcmUsIFxyXG5kaXZbdGl0bGUqPVwiR2FzXCJdOmJlZm9yZSxcclxuIGRpdlt0aXRsZSo9XCJBZXJvXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLimIFcIjtcclxufVxyXG5kaXZbdGl0bGUqPVwiQXVkaW9cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCflIpcIjtcclxuICBvcGFjaXR5OiAwLjM7IC8qIHN5c3RlbSBvdmVycmlkZSAqL1xyXG59XHJcbmRpdlt0aXRsZSo9XCJQb3dlclwiXTpiZWZvcmUsIFxyXG5kaXZbdGl0bGUqPVwiQ2FwYWNpdG9yXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5SLXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIlBvd2VyIENlbGxcIl06YmVmb3JlXHJcbntcclxuICBmb250LXNpemU6IDIwcHg7XHJcbn1cclxuLyog8J+UqOKbj+KakvCfm6Dwn5Sn8J+UqeKamfCfl5zwn6ewICovXHJcbmRpdlt0aXRsZSo9XCJGYXN0ZW5lciBLaXRcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCflKdcIjtcclxuICBmb250LXNpemU6IDM1cHg7XHJcbn1cclxuZGl2W3RpdGxlKj1cIlJlcGFpciBLaXRcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp7BcIjtcclxuICBmb250LXNpemU6IDM1cHg7XHJcbn1cclxuZGl2W3RpdGxlKj1cIlRhbmtcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfm6JcIjtcclxuICBmb250LXNpemU6IDM1cHg7XHJcbn1cclxuZGl2W3RpdGxlKj1cIkZUTCBGdWVsIFRhbmtcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6ezXCI7XHJcbiAgZm9udC1zaXplOiAzNXB4O1xyXG59XHJcbmRpdlt0aXRsZSo9XCJQcm90ZWN0aW9uXCJdOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cIlBsYXRlXCJdOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cIlNoaWVsZFwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+boVwiO1xyXG4gIGZvbnQtc2l6ZTogNDBweDtcclxufVxyXG5kaXZbdGl0bGUqPVwiUHJvdGVjdGlvbiBNYXRlcmlhbFwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+nsVwiO1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxufVxyXG5kaXZbdGl0bGUqPVwiQ29ubmVjdG9yc1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+UjFwiO1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxuICBvcGFjaXR5OiAwLjRcclxufVxyXG5kaXZbdGl0bGUqPVwiU2VhdHNcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfqpFcIjtcclxufVxyXG5kaXZbdGl0bGUqPVwiU3Vic3RhbmNlXCJdOmJlZm9yZSwgXHJcbmRpdlt0aXRsZSo9XCJDaGVtaWNhbFwiXTpiZWZvcmUsIFxyXG5kaXZbdGl0bGUqPVwiQWdlbnRcIl06YmVmb3JlLCBcclxuZGl2W3RpdGxlKj1cIkZsdXhcIl06YmVmb3JlLCBcclxuZGl2W3RpdGxlKj1cIlJlc2luXCJdOmJlZm9yZSwgXHJcbmRpdlt0aXRsZSo9XCJDb2xvcmFudFwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+nqlwiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJBY2lkXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLimKNcIjtcclxuICBmb250LXNpemU6IDQwcHg7XHJcbn1cclxuZGl2W3RpdGxlKj1cIkJhY3RlcmlhXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6erXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIkNyeW9cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIuKdhFwiO1xyXG4gIGZvbnQtc2l6ZTogNDBweDtcclxufVxyXG5kaXZbdGl0bGUqPVwiU29pbFwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+llFwiO1xyXG59XHJcbi8qIPCfp7Dwn5Sq8J+puiAqL1xyXG5kaXZbdGl0bGUqPVwiU3VyZ2ljYWxcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6m6XCI7XHJcbiAgZm9udC1zaXplOiAzMHB4O1xyXG59XHJcbi8qIPCfjp7wn5uP8J+bjCAqL1xyXG5kaXZbdGl0bGUqPVwiTWVkaWNhbCBzdHJldGNoZXJcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn46eXCI7XHJcbiAgZm9udC1zaXplOiAzNXB4O1xyXG59XHJcbi8qIPCfp7Dwn5Sq8J+puvCfkoogKi9cclxuZGl2W3RpdGxlKj1cIk1lZGljYWwga2l0XCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+pulwiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJNYWduZXRcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp7JcIjtcclxufVxyXG4vKiDwn5e/8J+WvCAqL1xyXG5kaXZbdGl0bGUqPVwiRGVjb1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+WvFwiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJTb2xhclwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi4pqhXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIlNvbGFyIENlbGxcIl06YmVmb3JlIHtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbn1cclxuIFxyXG4vKiBhbGxveXMg4pmSIPCfn6oqL1xyXG5kaXZbdGl0bGUqPVwiLVRpdGFuaXVtXCJdOjpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCIgVGl0YW5pdW1cIl06OmJlZm9yZVxyXG57XHJcbiAgY29udGVudDogXCLwn5+qXCI7XHJcbiAgZm9udC1zaXplOiAyNXB4O1xyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiRmVycm9taW5pdW1cIl06OmJlZm9yZVxyXG57XHJcbiAgY29udGVudDogXCLwn5+mXCI7XHJcbiAgZm9udC1zaXplOiAyNXB4O1xyXG59XHJcbiBcclxuIFxyXG4vKiAtLS0tIE1lZGljYWwgLS0tLS0tICovXHJcbmRpdlt0aXRsZT1cIkF1dG8tRG9jXCJdLFxyXG5kaXZbdGl0bGU9XCJCYW5kYWdlc1wiXSxcclxuZGl2W3RpdGxlPVwiTWVkaWNhbCBTdHJldGNoZXJcIl0sXHJcbmRpdlt0aXRsZT1cIlBhaW5raWxsZXJzXCJdLFxyXG5kaXZbdGl0bGU9XCJTdXJnaWNhbCBFcXVpcG1lbnRcIl0sXHJcbmRpdlt0aXRsZT1cIlRlc3QgVHViZXNcIl1cclxue1xyXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig2NCAxMzMgNjQpLCByZ2IoNDggODYgNDgpKVxyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiQXV0by1Eb2NcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfkajigI3impXvuI9cIjtcclxufVxyXG5kaXZbdGl0bGU9XCJCYW5kYWdlc1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+nu1wiO1xyXG59XHJcbmRpdlt0aXRsZT1cIlBhaW5raWxsZXJzXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5KKXCI7XHJcbn1cclxuZGl2W3RpdGxlPVwiU3VyZ2ljYWwgRXF1aXBtZW50XCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6m6XCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIlR1YmVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp6pcIjtcclxufVxyXG4vKiDwn5uM8J+bj+KalSAqL1xyXG5kaXZbdGl0bGUqPVwiQ3JldyBRdWFydGVyc1wiXTpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCJUcmF1bWEgQ2FyZVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+bj1wiO1xyXG4gIGZvbnQtc2l6ZTogNDBweDtcclxufVxyXG4vKiAtLS0tLS0tLS0tICovXHJcbiBcclxuZGl2W3RpdGxlKj1cIklvZGluZVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+puFwiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJTb2RpdW1cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp4JcIjtcclxufVxyXG5kaXZbdGl0bGUqPVwiQ2FyYm9uXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn46pXCI7XHJcbn1cclxuLyog8J+ngvCfkr/wn42Z8J+NpeKbsPCfj5QgKi9cclxuZGl2W3RpdGxlPVwiQ2hsb3JpbmVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjaVcIjtcclxufVxyXG5kaXZbdGl0bGU9XCJTdWxmdXJcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfn6FcIjtcclxufVxyXG5kaXZbdGl0bGU9XCJUYW50YWx1bVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+UmFwiO1xyXG59XHJcbmRpdlt0aXRsZT1cIkNhbGNpdW1cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIuKbsFwiO1xyXG59XHJcbmRpdlt0aXRsZT1cIkJlcnlsbGl1bVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi4puwXCI7XHJcbn1cclxuZGl2W3RpdGxlPVwiTWFnbmVzaXVtXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLim7BcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cIkdvbGRcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfn6hcIjtcclxuICBmb250LXNpemU6IDI1cHg7XHJcbn1cclxuIFxyXG4vKiDjgLDwn6eI8J+nivCfn6Twn5+mICovXHJcbiBcclxuZGl2W3RpdGxlPVwiQWx1bWluaXVtXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLirJxcIjtcclxuICBmb250LXNpemU6IDI1cHg7IG9wYWNpdHk6IDAuMlxyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiU3RlZWxcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp4pcIjtcclxuICBmb250LXNpemU6IDI1cHg7IG9wYWNpdHk6IDAuMlxyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiVGl0YW5pdW1cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfn6pcIjtcclxuICBmb250LXNpemU6IDI1cHg7IG9wYWNpdHk6IDAuMlxyXG59XHJcbiBcclxuZGl2W3RpdGxlfj1cIlR1bmdzdGVuXCJdOmJlZm9yZVxyXG57XHJcbiAgY29udGVudDogXCLwn5+rXCI7XHJcbiAgZm9udC1zaXplOiAyNXB4OyBvcGFjaXR5OiAwLjJcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cIlNpbGljb25cIl06YmVmb3Jle1xyXG4gIGNvbnRlbnQ6IFwi44CwXCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbiBcclxuZGl2W3RpdGxlPVwiQ29wcGVyXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5+nXCI7XHJcbiAgZm9udC1zaXplOiAyNXB4OyBvcGFjaXR5OiAwLjJcclxufVxyXG4vKiDwn5+lICovXHJcbmRpdlt0aXRsZT1cIklyb25cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfn6ZcIjtcclxuICBmb250LXNpemU6IDI1cHg7IG9wYWNpdHk6IDAuMlxyXG59XHJcbiBcclxuLyogYWxsb3lzICovXHJcbiBcclxuZGl2W3RpdGxlPVwiUmVkIEdvbGRcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCflLZcIjtcclxuICBmb250LXNpemU6IDI1cHg7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJCbHVlIEdvbGRcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCflLdcIjtcclxuICBmb250LXNpemU6IDI1cHg7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJCcm9uemVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCflLpcIjtcclxuICBmb250LXNpemU6IDI1cHg7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGU9XCJCb3Jvc2lsaWNhdGVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIuOAsFwiO1xyXG59XHJcbiBcclxuLyogLS0tLSAqL1xyXG4gXHJcbi8qIPCflorinZfinpbwn5KIIPCfjKDwn6WW8J+NofCfp6ggKi9cclxuZGl2W3RpdGxlKj1cImZ1ZWwgcm9kXCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+nqFwiO1xyXG59XHJcbmRpdlt0aXRsZT1cImJhc2ljIGZ1ZWwgcm9kXCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi4p6WXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIiByZWFjdG9yXCJpXTpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCIgZ2VuZXJhdG9yXCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+OhlwiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJmaXNzaW9uIHJlYWN0b3JcImldOmJlZm9yZSB7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG59XHJcbmRpdlt0aXRsZSo9XCJyYWRpb2lzb3RvcGUgZ2VuZXJhdG9yXCJpXTpiZWZvcmUge1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxufVxyXG4gXHJcbi8qIC0tLS0gKi9cclxuIFxyXG5kaXZbdGl0bGU9XCJMaW1lc3RvbmVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfpa9cIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJEcm9uZVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi4pyIXCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiT3JlXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6WUXCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiQ3J5c3RhbHNcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfko5cIjtcclxufVxyXG4gXHJcbi8qIC0tLS0tLS0tLS0gKi9cclxuIFxyXG5kaXZbdGl0bGUkPVwiR3JhaW5zXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn4y+XCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUkPVwiTWFpemVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjL1cIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZV49XCJEcmlua1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+ng1wiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlXj1cIlByb3RlaW4tUmljaCBCZWFuc1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+lklwiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlXj1cIkJhc2ljIFJhXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6WrXCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUkPVwiTnV0c1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+lnFwiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlJD1cIkZydWl0c1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+NhVwiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlJD1cIlBsYW50c1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+MslwiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlXj1cIkNhZmZlaW5hdGVkIEJlYW5zXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn4y/XCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUkPVwiQWxnYWVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjYNcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSQ9XCJHcmFwZXNcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjYdcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSQ9XCJIZXJic1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+MtlwiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlJD1cIkZvZGRlclwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+SilwiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlJD1cIkhvcHNcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjL5cIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSQ9XCJDb3R0b24gRmliZXJcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp7ZcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSQ9XCJQYXR0aWVzXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6erXCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUkPVwiTXVzaHJvb21zXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn42EXCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUkPVwiUGluZWJlcnJpZXNcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjZNcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSQ9XCJQYXN0ZVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+lo1wiO1xyXG59XHJcbiBcclxuZGl2W3RpdGxlJD1cIlNvbHV0aW9uXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6eqXCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGVePVwiVml0YSBFc3NlbmNlXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn422XCI7XHJcbn1cclxuIFxyXG4vKiBsaXF1aWRzICovXHJcbmRpdlt0aXRsZV49XCJXYXRlclwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+Sp1wiO1xyXG59XHJcbmRpdlt0aXRsZSo9XCJIZWxpb3Ryb3BlXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6WDXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIkxpcXVpZCBFaW5zXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6WbXCI7XHJcbn1cclxuIFxyXG4vKiDwn46o8J+PgPCfj5Dimr4gKi9cclxuZGl2W3RpdGxlPVwiUG9seW1lciBHcmFudWxhdGVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfj5BcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSQ9XCJQb2x5LUV0aHlsZW5lXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLimr5cIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJTaGVldCBUeXBlXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6e7XCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiRm9hbVwiXTpiZWZvcmUsXHJcbmRpdlt0aXRsZSo9XCJTZWFsXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn4yrXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIkZpYmVyXCJdOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cIkZhYnJpY1wiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+ntVwiO1xyXG59XHJcbmRpdlt0aXRsZT1cIlJhdyBTaWxrIFN0cmFpbnNcIl06YmVmb3JlLFxyXG5kaXZbdGl0bGU9XCJSYXcgQ290dG9uIEZpYmVyXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6e2XCI7XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUkPVwiU3VwcGxpZXNcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfk6BcIjtcclxufVxyXG5kaXZbdGl0bGUkPVwiVW5pZm9ybVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+RllwiO1xyXG59XHJcbmRpdlt0aXRsZSQ9XCJUb29sc2V0XCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5ugXCI7IG9wYWNpdHk6IDAuNFxyXG59XHJcbiBcclxuZGl2W3RpdGxlXj1cIkZUTFwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi4piAXCI7XHJcbiAgZm9udC1zaXplOiA0MHB4OyBvcGFjaXR5OiAwLjVcclxufVxyXG4gXHJcbmRpdlt0aXRsZV49XCJTVExcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfm6JcIjtcclxuICBmb250LXNpemU6IDQwcHg7IG9wYWNpdHk6IDAuNVxyXG59XHJcbiBcclxuZGl2W3RpdGxlJD1cIkNvbnN0cnVjdGlvbiBHcmFudWxhdGVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp7FcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJDYXNpbmdcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp4pcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZSQ9XCJEZWNrIEVsZW1lbnRzXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn46eXCI7XHJcbiAgZm9udC1zaXplOiA0MHB4O1xyXG59XHJcbmRpdlt0aXRsZSQ9XCJTdHJ1Y3R1cmFsIEVsZW1lbnRzXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLim5NcIjtcclxufVxyXG4vKiDwn5uOICovXHJcbmRpdlt0aXRsZSQ9XCJCdWxraGVhZFwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+buFwiO1xyXG59XHJcbi8qIPCfj5fwn6et8J+Mq+KYgPCfjIAgKi9cclxuZGl2W3RpdGxlJD1cIkFwZXJ0dXJlXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn4+XXCI7XHJcbn1cclxuZGl2W3RpdGxlPVwiVHJ1c3NcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfl7xcIjtcclxufVxyXG4gXHJcbi8qIC0tLS0tIGdhc3Nlcy0tLS0tLSAqL1xyXG4vKiDwn5Ko8J+Vs+OAsPCfjIrwn4yr8J+SpfCfm6Lwn6ez8J+ntOKYhCAqL1xyXG4gXHJcbmRpdlt0aXRsZT1cIkFtbW9uaWFcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfqbhcIjtcclxufVxyXG5kaXZbdGl0bGU9XCJBcmdvblwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi4piBXCI7XHJcbn1cclxuZGl2W3RpdGxlPVwiRmx1b3JpbmVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIuKYgVwiO1xyXG59XHJcbmRpdlt0aXRsZT1cIk5lb25cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIuKYgVwiO1xyXG59XHJcbmRpdlt0aXRsZT1cIk5pdHJvZ2VuXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5KnXCI7XHJcbn1cclxuZGl2W3RpdGxlPVwiT3h5Z2VuXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5KoXCI7XHJcbn1cclxuZGl2W3RpdGxlKj1cIkhlbGl1bVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+MjFwiO1xyXG59XHJcbmRpdlt0aXRsZV49XCJIeWRyb2dlblwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+Sq1wiO1xyXG59XHJcbmRpdlt0aXRsZT1cIkhlbGl1bS0zIElzb3RvcGVcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfkqZcIjtcclxufVxyXG4gXHJcbmRpdlt0aXRsZT1cIkNhZmZlaW5hdGVkIEluZnVzaW9uXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLimJVcIjsgb3BhY2l0eTogMC4yXHJcbn1cclxuZGl2W3RpdGxlPVwiQmFzaWMgT3ZlcmFsbHNcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp6VcIjsgb3BhY2l0eTogMC4yXHJcbn1cclxuZGl2W3RpdGxlJD1cIldvcmsgT3ZlcmFsbFwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+mulwiOyBvcGFjaXR5OiAwLjJcclxufVxyXG5kaXZbdGl0bGU9XCJCYXNpYyBPdmVyYWxsc1wiXSB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYig2NCA5NyAxMDQpLCByZ2IoNTcgNzMgMTQ3KSkgfVxyXG5kaXZbdGl0bGU9XCJDYWZmZWluYXRlZCBJbmZ1c2lvblwiXSwgXHJcbmRpdlt0aXRsZSQ9XCJXb3JrIE92ZXJhbGxcIl0geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoNjQgOTcgMTA0KSwgcmdiKDEwNSAzMCAxNDUpKSB9XHJcbiBcclxuZGl2W3RpdGxlPVwiS29tYnVjaGFcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfja9cIjsgb3BhY2l0eTogMC4yXHJcbn1cclxuZGl2W3RpdGxlXj1cIkV4b3NcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfkbfigI3imYDvuI9cIjsgb3BhY2l0eTogMC4yXHJcbn1cclxuZGl2W3RpdGxlXj1cIlBvd2VyIFRvb2xzXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5SMXCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbmRpdlt0aXRsZV49XCJFeG9zXCJdLCBcclxuZGl2W3RpdGxlPVwiUG93ZXIgVG9vbHNcIl0geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoNDIgMTIyIDU0KSwgcmdiKDU3IDczIDE0NykpIH1cclxuZGl2W3RpdGxlPVwiS29tYnVjaGFcIl0sXHJcbmRpdlt0aXRsZT1cIlJlcGFpciBLaXRcIl0geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoNDIgMTIyIDU0KSwgcmdiKDEwNSAzMCAxNDUpKSB9XHJcbiBcclxuZGl2W3RpdGxlJD1cIkFsZVwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+NulwiOyBvcGFjaXR5OiAwLjJcclxufVxyXG5kaXZbdGl0bGU9XCJTdGVtIENlbGwgVHJlYXRtZW50XCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5KJXCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbmRpdlt0aXRsZT1cIkhhek1hdCBXb3JrIFN1aXRcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfkanigI3wn5qSXCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbmRpdlt0aXRsZT1cIk11bHRpLVB1cnBvc2UgU2Nhbm5lclwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+UrVwiOyBvcGFjaXR5OiAwLjJcclxufVxyXG5kaXZbdGl0bGU9XCJCYXNpYyBNZWRpY2FsIEtpdFwiXSwgXHJcbmRpdlt0aXRsZT1cIkhhek1hdCBXb3JrIFN1aXRcIl0sIFxyXG5kaXZbdGl0bGU9XCJNdWx0aS1QdXJwb3NlIFNjYW5uZXJcIl0geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTE2IDEyNCAyNyksIHJnYig1NyA3MyAxNDcpKSBcclxufVxyXG5kaXZbdGl0bGUkPVwiQWxlXCJdLCBcclxuZGl2W3RpdGxlPVwiU3RlbSBDZWxsIFRyZWF0bWVudFwiXSB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYigxMTYgMTI0IDI3KSwgcmdiKDEwNSAzMCAxNDUpKSBcclxufVxyXG4gXHJcbmRpdlt0aXRsZSQ9XCJHaW5cIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfpYNcIjsgb3BhY2l0eTogMC4yXHJcbn1cclxuZGl2W3RpdGxlJD1cIk1lYWxcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfpaFcIjsgb3BhY2l0eTogMC4yXHJcbn1cclxuZGl2W3RpdGxlPVwiVml0YUdlbFwiXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+nqlwiOyBvcGFjaXR5OiAwLjJcclxufVxyXG5kaXZbdGl0bGU9XCJTbWFydCBTcGFjZSBTdWl0XCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5Go4oCN8J+agFwiOyBvcGFjaXR5OiAwLjJcclxufVxyXG5kaXZbdGl0bGUqPVwicGVyc29uYWxcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5OxXCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbmRpdlt0aXRsZT1cIkZsYXZvdXJlZCBJbnN0YS1NZWFsXCJdLCBcclxuZGl2W3RpdGxlPVwiUGVyc29uYWwgRGF0YSBBc3Npc3RhbnRcIl0sIFxyXG5kaXZbdGl0bGU9XCJTbWFydCBTcGFjZSBTdWl0XCJdIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDUyIDkzIDE1OSksIHJnYig1NyA3MyAxNDcpKSB9XHJcbmRpdlt0aXRsZSQ9XCJHaW5cIl0sIFxyXG5kaXZbdGl0bGU9XCJWaXRhR2VsXCJdIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDUyIDkzIDE1OSksIHJnYigxMDUgMzAgMTQ1KSkgfVxyXG4gXHJcbiBcclxuZGl2W3RpdGxlPVwiU21hcnQgWmluZmFuZGVsXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn423XCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbmRpdlt0aXRsZSQ9XCJNZWF0IE1lYWxcIl06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfjbFcIjsgb3BhY2l0eTogMC4yXHJcbn1cclxuZGl2W3RpdGxlPVwiTmV1cm9TdGltdWxhbnRzXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5KKXCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbmRpdlt0aXRsZT1cIkFJLUFzc2lzdGVkIExhYiBDb2F0XCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn6W8XCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbmRpdlt0aXRsZT1cIlNjaWVudGlmaWMgV29yayBTdGF0aW9uXCJdOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5SsXCI7IG9wYWNpdHk6IDAuMlxyXG59XHJcbmRpdlt0aXRsZSQ9XCJNZWF0IE1lYWxcIl0sIFxyXG5kaXZbdGl0bGU9XCJBSS1Bc3Npc3RlZCBMYWIgQ29hdFwiXSwgXHJcbmRpdlt0aXRsZT1cIlNjaWVudGlmaWMgV29yayBTdGF0aW9uXCJdIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiKDE1NSA5MiAxNjkpLCByZ2IoNTcgNzMgMTQ3KSkgfVxyXG5kaXZbdGl0bGU9XCJTbWFydCBaaW5mYW5kZWxcIl0sIFxyXG5kaXZbdGl0bGU9XCJOZXVyb1N0aW11bGFudHNcIl0geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTU1IDkyIDE2OSksIHJnYigxMDUgMzAgMTQ1KSkgfVxyXG4gXHJcbi8qIPCflbnimI7wn5OeICovXHJcbmRpdlt0aXRsZSo9XCJjb21tYW5kIGJyaWRnZVwiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIuKYjlwiOyBvcGFjaXR5OiAwLjRcclxufVxyXG4gXHJcbi8qIOKbsOKYouKamfCfmrDwn4yhICovXHJcbmRpdlt0aXRsZSo9XCJlbmdpbmVcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn5qAXCI7IG9wYWNpdHk6IDAuNFxyXG59XHJcbiBcclxuZGl2W3RpdGxlKj1cIm5venpsZVwiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIuKbsFwiOyBvcGFjaXR5OiAwLjRcclxufVxyXG4gXHJcbi8qIPCfp6jwn4yf8J+ns/Cfm44gKi9cclxuZGl2W3RpdGxlKj1cImNvbWJ1c3Rpb24gY2hhbWJlclwiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfp7NcIjsgb3BhY2l0eTogMC40XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwicHVtcFwiaV06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwicGlwZVwiaV06YmVmb3JlLFxyXG5kaXZbdGl0bGUqPVwicGlwaW5nXCJpXTpiZWZvcmVcclxue1xyXG4gIGNvbnRlbnQ6IFwi8J+asFwiOyBvcGFjaXR5OiAwLjRcclxufVxyXG4gXHJcbmRpdlt0aXRsZSo9XCJ2ZW50XCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi4pmoXCI7XHJcbiAgZm9udC1zaXplOiA0MHB4OyBvcGFjaXR5OiAwLjRcclxufVxyXG4gXHJcbi8qIPCfl7zwn6eH8J+Ul+Kbk/Cfm6Hwn5OO8J+WhyAqLyBcclxuZGl2W3RpdGxlKj1cInN0cnVjdHVyYWwgc3BhY2VcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLim5NcIjsgb3BhY2l0eTogMC40XHJcbn1cclxuIFxyXG4vKiDwn6eK8J+TpiAqLyBcclxuZGl2W3RpdGxlKj1cImNhcmdvIGJheVwiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfk6ZcIjsgb3BhY2l0eTogMC40XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwiaGFiaXRhdFwiaV06YmVmb3JlIHtcclxuICBjb250ZW50OiBcIvCfj6BcIjsgb3BhY2l0eTogMC40XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwic3VyZ2VyeSB1bml0XCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi4pqVXCI7IG9wYWNpdHk6IDAuNFxyXG59XHJcbiBcclxuLyrwn5eE8J+Or/CfjqEqL1xyXG5kaXZbdGl0bGUqPVwiZW50ZXJ0YWlubWVudCB1bml0XCJpXTpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwi8J+OoVwiOyBvcGFjaXR5OiAwLjRcclxufVxyXG4gXHJcbi8qIPCfjqggKi9cclxuZGl2W3RpdGxlKj1cIndvcmtzaG9wIHVuaXRcImldOmJlZm9yZSB7XHJcbiAgY29udGVudDogXCLwn46oXCI7IG9wYWNpdHk6IDAuNFxyXG59XHJcbiBcclxuLyogc2l6ZXMgKi9cclxuIFxyXG5kaXZbdGl0bGUqPVwic21hbGxcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlKj1cInRpbnlcImldOmJlZm9yZSxcclxuZGl2W3RpdGxlJD1cIiBzXCJpXTpiZWZvcmUgXHJcbntcclxuICBmb250LXNpemU6IDIwcHg7IG9wYWNpdHk6IDAuNFxyXG59XHJcbiBcclxuZGl2W3RpdGxlKj1cIm1lZGl1bVwiaV06YmVmb3JlLFxyXG5kaXZbdGl0bGUkPVwiIG1cImldOmJlZm9yZSBcclxue1xyXG4gIGZvbnQtc2l6ZTogMjVweDsgb3BhY2l0eTogMC40XHJcbn1cclxuIFxyXG5kaXZbdGl0bGUqPVwidHJhbnNpc3RvclwiaV06YmVmb3JlIFxyXG57XHJcbiAgZm9udC1zaXplOiAyNXB4OyBvcGFjaXR5OiAwLjRcclxufVxyXG4gXHJcbiBcclxuLyogYnVpbGRpbmdzIC0ga2lsbCBzdHJheSBpY29ucyAqL1xyXG5kaXYuQnVpbGRpbmdJY29uX19jb250YWluZXJfX19qRjVHVXN6OmJlZm9yZVxyXG57XHJcbiAgY29udGVudDogXCJcIjtcclxufVxyXG4gICAgXHJcbiAgICAvKiBpdGVtcyBpbiBtYXJrZXQgdmlldyAqL1xyXG50YWJsZS5Ccm9rZXJMaXN0X190YWJsZV9fX3lsZ2VpeWcgPlxyXG50Ym9keSA+XHJcbnRyID5cclxudGQgPlxyXG5kaXYuTWF0ZXJpYWxJY29uX19jb250YWluZXJfX19xOGdLSXg4ID5cclxuZGl2LkNvbG9yZWRJY29uX19jb250YWluZXJfX19kamFSNHIyOmJlZm9yZSBcclxue1xyXG4gIGZvbnQtc2l6ZTogMjRweDtcclxufVxyXG5cclxuLyogaXRlbXMgaW4gYnVpbGRpbmcgdmlldyAqL1xyXG5kaXYuQnVpbGRpbmdJbmZvcm1hdGlvbl9fcmVjaXBlX19fdXphbnhYdyA+XHJcbmRpdiA+XHJcbmRpdi5NYXRlcmlhbEljb25fX2NvbnRhaW5lcl9fX3E4Z0tJeDggPlxyXG5kaXYuQ29sb3JlZEljb25fX2NvbnRhaW5lcl9fX2RqYVI0cjI6YmVmb3JlXHJcbntcclxuICBmb250LXNpemU6IDI2cHg7XHJcbn1cclxuXHJcbi8qIGl0ZW1zIGluIHJlY2lwZSB2aWV3ICovXHJcbmRpdi5NYXRlcmlhbEluZm9ybWF0aW9uX19yZWNpcGVJbnB1dHNfX19lTHZmb29wID5cclxuZGl2Lk1hdGVyaWFsSWNvbl9fY29udGFpbmVyX19fcThnS0l4OCA+XHJcbmRpdi5Db2xvcmVkSWNvbl9fY29udGFpbmVyX19fZGphUjRyMjpiZWZvcmVcclxue1xyXG4gIGZvbnQtc2l6ZTogMjZweDtcclxufVxyXG5cclxuLyogaXRlbXMgaW4gcGxhbmV0IHZpZXcgKi9cclxuZGl2LlJlc291cmNlVGFibGVfX2dyaWRDb250YWluZXJfX195bXJ6VGNEID5cclxuZGl2Lk1hdGVyaWFsSWNvbl9fY29udGFpbmVyX19fcThnS0l4OCA+XHJcbmRpdi5Db2xvcmVkSWNvbl9fY29udGFpbmVyX19fZGphUjRyMjpiZWZvcmVcclxue1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxufWA7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9TdHlsZS50c1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgY29uc3QgQ3VycmVuY3lTeW1ib2xzID0ge1xuICAgIFwiQ0lTXCI6IFwi4oKhXCIsXG4gICAgXCJBSUNcIjogXCLigrNcIixcbiAgICBcIk5DQ1wiOiBcIuKCplwiLFxuICAgIFwiSUNBXCI6IFwix4JcIixcbiAgICBcIkVDRFwiOiBcIuKCrFwiLFxufTtcbmV4cG9ydCBjb25zdCBGYWN0aW9uSGVhZGVycyA9IHtcbiAgICBcIkNhc3RpbGxvLUl0b1wiOiBcIkNJXCIsXG4gICAgXCJJbnNpdG9yXCI6IFwiSUNcIixcbiAgICBcIkFudGFyZXNcIjogXCJBSVwiLFxuICAgIFwiTkVPIENoYXJ0ZXJcIjogXCJOQ1wiXG59O1xuZXhwb3J0IGNvbnN0IFJhdGluZ0NvbG9ycyA9IHtcbiAgICBcIlBcIjogXCIjMWI2YjljXCIsXG4gICAgXCJVXCI6IFwiIzhiMjExZVwiLFxuICAgIFwiRlwiOiBcIiNlMjZjMzdcIixcbiAgICBcIkVcIjogXCIjZTc3ODJiXCIsXG4gICAgXCJEXCI6IFwiI2U4N2QyOFwiLFxuICAgIFwiQ1wiOiBcIiNlZDg5MWNcIixcbiAgICBcIkJcIjogXCIjZjE5NTEwXCIsXG4gICAgXCJBXCI6IFwiI2Y2YTIwNFwiXG59O1xuZXhwb3J0IGNvbnN0IEV4Y2hhbmdlcyA9IHsgXCJBbnRhcmVzIFN0YXRpb24gQ29tbW9kaXR5IEV4Y2hhbmdlXCI6IFwiQU5UXCIsIFwiQmVudGVuIFN0YXRpb24gQ29tbW9kaXR5IEV4Y2hhbmdlXCI6IFwiQkVOXCIsIFwiTW9yaWEgU3RhdGlvbiBDb21tb2RpdHkgRXhjaGFuZ2VcIjogXCJNT1JcIiwgXCJIb3J0dXMgU3RhdGlvbiBDb21tb2RpdHkgRXhjaGFuZ2VcIjogXCJIUlRcIiwgXCJIdWJ1ciBTdGF0aW9uIENvbW1vZGl0eSBFeGNoYW5nZVwiOiBcIkhVQlwiLCBcIkFyY2xpZ2h0IFN0YXRpb24gQ29tbW9kaXR5IEV4Y2hhbmdlXCI6IFwiQVJDXCIgfTtcbmV4cG9ydCBjb25zdCBTdGF0aW9ucyA9IHsgXCJBbnRhcmVzIFN0YXRpb25cIjogXCJBTlRcIiwgXCJCZW50ZW4gU3RhdGlvblwiOiBcIkJFTlwiLCBcIk1vcmlhIFN0YXRpb25cIjogXCJNT1JcIiwgXCJIb3J0dXMgU3RhdGlvblwiOiBcIkhSVFwiLCBcIkh1YnVyIFN0YXRpb25cIjogXCJIVUJcIiwgXCJBY3JsaWdodCBTdGF0aW9uXCI6IFwiQVJDXCIgfTtcbmV4cG9ydCBjb25zdCBOb25Qcm9kdWN0aW9uQnVpbGRpbmdzID0gW1wiQ01cIiwgXCJIQjFcIiwgXCJIQjJcIiwgXCJIQjNcIiwgXCJIQjRcIiwgXCJIQjVcIiwgXCJIQkJcIiwgXCJIQkNcIiwgXCJIQkxcIiwgXCJIQk1cIiwgXCJTVE9cIl07XG5leHBvcnQgY29uc3QgRnJpZW5kbHlOYW1lcyA9IHtcbiAgICBcIkxvY2FsTWFya2V0QWRzXCI6IFwiTE0gVW5pdCBQcmljZXNcIixcbiAgICBcIk9yZGVyRVRBc1wiOiBcIk9yZGVyIEVUQXNcIixcbiAgICBcIkZsaWdodEVUQXNcIjogXCJGbGlnaHQgUGxhbm5pbmcgRVRBc1wiLFxuICAgIFwiU2hpcHBpbmdBZHNcIjogXCJMTSBTaGlwcGluZyBSYXRlc1wiLFxuICAgIFwiUG9zdExNXCI6IFwiTE0gUG9zdGluZyBVbml0IFByaWNlXCIsXG4gICAgXCJDb250cmFjdERyYWZ0c1wiOiBcIkNPTlREIFVuaXQgUHJpY2VzXCIsXG4gICAgXCJRdWV1ZUxvYWRcIjogXCJRdWV1ZSBQZXJjZW50IERpc3BsYXlcIixcbiAgICBcIkNvbnN1bWFibGVUaW1lcnNcIjogXCJXb3JrZm9yY2UgQ29uc3VtYWJsZSBCdXJuXCIsXG4gICAgXCJGbGVldEVUQXNcIjogXCJGbGVldCBFVEFzXCIsXG4gICAgXCJOb3RpZmljYXRpb25zXCI6IFwiTm90aWZpY2F0aW9uc1wiLFxuICAgIFwiU2NyZWVuVW5wYWNrXCI6IFwiU2NyZWVuIFVucGFja1wiLFxuICAgIFwiSW1hZ2VDcmVhdG9yXCI6IFwiQ2hhdCBJbWFnZSBDcmVhdG9yXCIsXG4gICAgXCJJbnZlbnRvcnlPcmdhbml6ZXJcIjogXCJJbnZlbnRvcnkgU29ydGluZ1wiLFxuICAgIFwiQ29tbWFuZENvcnJlY3RlclwiOiBcIkNvbW1hbmQgQ29ycmVjdGVyXCIsXG4gICAgXCJDYWxjdWxhdG9yQnV0dG9uXCI6IFwiQ2FsY3VsYXRvciBCdXR0b25cIixcbiAgICBcIlNpZGViYXJcIjogXCJTaWRlYmFyXCIsXG4gICAgXCJIZWFkZXJNaW5pbWl6ZXJcIjogXCJNaW5pbWl6ZSBIZWFkZXJzIChNYXN0ZXIpXCIsXG4gICAgXCJQZW5kaW5nQ29udHJhY3RzXCI6IFwiUGVuZGluZyBDb250cmFjdHNcIixcbiAgICBcIkNvbXBhY3RVSVwiOiBcIkNvbXBhY3QgVUlcIixcbiAgICBcIkZvcm11bGFSZXBsYWNlclwiOiBcIkZvcm11bGEgUmVwbGFjZXJcIixcbiAgICBcIkFkdmFuY2VkTW9kZVwiOiBcIkFkdmFuY2VkIE1pbmltaWFsaXN0IE1vZGUgKE1hc3RlcilcIlxufTtcbmV4cG9ydCBjb25zdCBTb3J0aW5nVHJpYW5nbGVIVE1MID0gYFxyXG48ZGl2IHRpdGxlPVwiXCI+PHN2ZyBhcmlhLWhpZGRlbj1cInRydWVcIiB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIiByb2xlPVwiaW1nXCIgdmVyc2lvbj1cIjEuMVwiIGZpbGw9XCJjdXJyZW50Y29sb3JcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHlsZT1cInZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XCI+PGc+PHBhdGggZD1cIk0uODg2ODEgMS4wOTc3NTJsMTIuMTM3NzQgMjEuMDIzMThMMjUuNDIyOTY0IDEuMTA1NDQ2elwiPjwvcGF0aD48L2c+PC9zdmc+PC9kaXY+YDtcbmV4cG9ydCBjb25zdCBQbGFuZXRDb21tYW5kcyA9IFtcIkFETVwiLCBcIkJTQ1wiLCBcIkNPR0NcIiwgXCJDT0dDUEVYXCIsIFwiQ09HQ1VcIiwgXCJGTFRQXCIsIFwiTFJcIiwgXCJMTVBcIiwgXCJMTVwiLCBcIlBMSVwiLCBcIlBPUElcIiwgXCJQT1BSXCIsIFwiUFBTXCIsIFwiU0hZXCIsIFwiV0FSXCIsIFwiQlNcIl07XG5leHBvcnQgY29uc3QgU3lzdGVtTmFtZXMgPSB7XG4gICAgXCJBUkNMSUdIVFwiOiBcIkFNLTc4M1wiLFxuICAgIFwiRk9SR0UtS0VFUFwiOiBcIkZLLTM3MVwiLFxuICAgIFwiTU9VTlQgT0xZTVBVU1wiOiBcIkhNLTA0OVwiLFxuICAgIFwiR0FURVdBWVwiOiBcIkhNLTIyM1wiLFxuICAgIFwiTkVPIEVERU5cIjogXCJKUy0yOTlcIixcbiAgICBcIkVCSVNVXCI6IFwiSlMtOTUyXCIsXG4gICAgXCJCQVNUQUJMT05cIjogXCJLVy0wMjBcIixcbiAgICBcIkRPTFpFTkFcIjogXCJMRy00MThcIixcbiAgICBcIlRSSU5JVFlcIjogXCJPRi0yNTlcIixcbiAgICBcIk1PUklBXCI6IFwiT1QtNTgwXCIsXG4gICAgXCJPVVRFUiBIRUFWRU5cIjogXCJQRy04OTlcIixcbiAgICBcIkFVUlVNXCI6IFwiUUotNjUwXCIsXG4gICAgXCJBQ0VUQVJFU1wiOiBcIlFKLTY4NFwiLFxuICAgIFwiSFVCVVJcIjogXCJURC0yMDNcIixcbiAgICBcIkhPVEVJXCI6IFwiVVYtMTM1XCIsXG4gICAgXCJCRU5URU5cIjogXCJVVi0zNTFcIixcbiAgICBcIkRBSUtPS1VcIjogXCJVVi03OTZcIixcbiAgICBcIkhPUlRVU1wiOiBcIlZILTMzMVwiLFxuICAgIFwiTUlEV0FZXCI6IFwiV0ItNjc1XCIsXG4gICAgXCJBTlRBUkVTIElJSVwiOiBcIlpWLTE5NFwiLFxuICAgIFwiQU5UQVJFUyBJXCI6IFwiWlYtMzA3XCIsXG4gICAgXCJBTlRBUkVTIElJXCI6IFwiWlYtNzU5XCJcbn07XG5leHBvcnQgY29uc3QgUGxhbmV0TmFtZXMgPSB7XG4gICAgXCJMRU1VUklBXCI6IFwiQUotNzY4YVwiLFxuICAgIFwiR0FMTFVTXCI6IFwiQU0tNzgzYlwiLFxuICAgIFwiRU1FTlRJT1JcIjogXCJBTS03ODNjXCIsXG4gICAgXCJUWVBIT05cIjogXCJBVS01MjJiXCIsXG4gICAgXCJOT1ZBIEhPTlNIVVwiOiBcIkJTLTc4OGNcIixcbiAgICBcIlRBQ09UT1BJQVwiOiBcIkNCLTA0NWJcIixcbiAgICBcIlBZUkdPU1wiOiBcIkNILTc3MWFcIixcbiAgICBcIlRBTE9TSUFcIjogXCJEQy04MjNiXCIsXG4gICAgXCJPUk1cIjogXCJEVy00NTZnXCIsXG4gICAgXCJNQU5JRk9MRFwiOiBcIkVMLTE3OWJcIixcbiAgICBcIk5PVkEgVU5BTEFTS0FcIjogXCJFWi00NzZiXCIsXG4gICAgXCJUT0tUVVwiOiBcIkZLLTAzN2ZcIixcbiAgICBcIkxBIEZPUkdFXCI6IFwiRkstMzcxYlwiLFxuICAgIFwiQk9VQ0hFUlwiOiBcIkZLLTc5NGJcIixcbiAgICBcIlZBVUxUXCI6IFwiR0MtNjQ1YlwiLFxuICAgIFwiQ0hVXCI6IFwiR1ktMTEwY1wiLFxuICAgIFwiUE9TRUlET05cIjogXCJITS0wNDliXCIsXG4gICAgXCJBUE9USEVDQVJZXCI6IFwiSUEtNjAzYlwiLFxuICAgIFwiRUxFQ1RST05JQ0FcIjogXCJJWS0wMjhjXCIsXG4gICAgXCJORU1FU0lTXCI6IFwiSlMtMjk5YVwiLFxuICAgIFwiR0lCU09OXCI6IFwiSlMtOTUyY1wiLFxuICAgIFwiQVVTVFJBTElBXCI6IFwiS0ktNDQ2YVwiLFxuICAgIFwiREVNRVRFUlwiOiBcIktJLTQ0NmJcIixcbiAgICBcIkhFUk1FU1wiOiBcIktJLTQ0OGJcIixcbiAgICBcIlJPQ0tcIjogXCJLUS05NjZiXCIsXG4gICAgXCJNSUxMSVdBWVNcIjogXCJLVy0wMjBjXCIsXG4gICAgXCJHSUVESSBQUklNRVwiOiBcIktXLTM1OGJcIixcbiAgICBcIkVUSEVSV0lORFwiOiBcIktXLTY4OGNcIixcbiAgICBcIktJTlpBXCI6IFwiTEctNDE4YlwiLFxuICAgIFwiUExBTkVUIE1DIFBMQU5FVEZBQ0VcIjogXCJMRy05MTNlXCIsXG4gICAgXCJBUkFUT1JBXCI6IFwiTFMtMjMxYlwiLFxuICAgIFwiR1JJRkZPTlNUT05FXCI6IFwiTFMtMzAwY1wiLFxuICAgIFwiSlVSQVwiOiBcIk9GLTI1OWRcIixcbiAgICBcIkJFUlRISUVSXCI6IFwiT0YtMzc1YlwiLFxuICAgIFwiQURBTElOQVwiOiBcIk9GLTM3NWNcIixcbiAgICBcIkRBTkFLSUxcIjogXCJPVC00NDJiXCIsXG4gICAgXCJJSVJPTlwiOiBcIk9ULTU4MGFcIixcbiAgICBcIk1PTlRFTVwiOiBcIk9ULTU4MGJcIixcbiAgICBcIlZBTExJU1wiOiBcIk9ULTU4MGNcIixcbiAgICBcIlBBTExBREFcIjogXCJPVC01ODBkXCIsXG4gICAgXCJQUklTTVwiOiBcIk9ULTg4OWFcIixcbiAgICBcIkpFRVRJWVVcIjogXCJPVC04ODliXCIsXG4gICAgXCJTQUxBRElOXCI6IFwiUEctODk5YlwiLFxuICAgIFwiTkFTQ0VOVFwiOiBcIlFKLTE0OWNcIixcbiAgICBcIkVMT05cIjogXCJRSi02NTBjXCIsXG4gICAgXCJMT00gUEFMQU5LQVwiOiBcIlFKLTY4NGFcIixcbiAgICBcIkFDRUxBTkRcIjogXCJRSi02ODRiXCIsXG4gICAgXCJDSVJDQVwiOiBcIlFRLTAwMWFcIixcbiAgICBcIkNJUkNFXCI6IFwiUVEtMDAxYlwiLFxuICAgIFwiQ0VMRUJESUxcIjogXCJRUS02NDViXCIsXG4gICAgXCJNQUxBSEFUXCI6IFwiUkMtMDQwYlwiLFxuICAgIFwiSVJPTkZPUkdFXCI6IFwiUkMtMDQwY1wiLFxuICAgIFwiSUNFIFNUQVRJT04gQUxQSEFcIjogXCJTRS0xMTBjXCIsXG4gICAgXCJTSEVPTFwiOiBcIlRELTIwM2JcIixcbiAgICBcIlJIQVpFU1wiOiBcIlRELTIyOGJcIixcbiAgICBcIkFTQkVTVE9TIExFQUQgQVNCRVNUT1NcIjogXCJVVi0wNzJjXCIsXG4gICAgXCJLQVRPQVwiOiBcIlVWLTM1MWFcIixcbiAgICBcIllBTk5JQ0tcIjogXCJVVi0zNTFiXCIsXG4gICAgXCJVTUJSQVwiOiBcIlVWLTM1MWNcIixcbiAgICBcIkJJT0dFTkVTSVNcIjogXCJVVi0zNTFkXCIsXG4gICAgXCJQUk9YSU9OXCI6IFwiVVYtNzk2YlwiLFxuICAgIFwiUEhBTlRBU01cIjogXCJWSC0wNDNhXCIsXG4gICAgXCJQUk9NSVRPUlwiOiBcIlZILTMzMWFcIixcbiAgICBcIkhFTElPTiBQUklNRVwiOiBcIlZILTMzMWRcIixcbiAgICBcIk9EWVNTRVVTXCI6IFwiVkgtMzMxZlwiLFxuICAgIFwiQVZBTE9OXCI6IFwiVkgtMzMxZ1wiLFxuICAgIFwiSFlEUk9OXCI6IFwiVkgtMzMxaVwiLFxuICAgIFwiR0FTV09STERcIjogXCJXQi02NzVpXCIsXG4gICAgXCJNSU1BUlwiOiBcIldDLTcwMmJcIixcbiAgICBcIk1BR1VTXCI6IFwiWEQtMzU0YlwiLFxuICAgIFwiVVBPTk9SXCI6IFwiWEgtMzI5YVwiLFxuICAgIFwiTElCRVJUQVNcIjogXCJYSC01OTRhXCIsXG4gICAgXCJLSVJVTkFcIjogXCJYSC01OTRiXCIsXG4gICAgXCJDT1JURVpcIjogXCJYSC01OTRjXCIsXG4gICAgXCJLVUJcIjogXCJZSS0wNTlmXCIsXG4gICAgXCJIQVJQSU5BXCI6IFwiWUktMjA5aFwiLFxuICAgIFwiQVJDQURJQVwiOiBcIllJLTY4M2NcIixcbiAgICBcIlZFUkRBTlRcIjogXCJZSS03MTViXCIsXG4gICAgXCJOT1JXSUNLXCI6IFwiWUstNjQ5YlwiLFxuICAgIFwiTklLRVwiOiBcIlpWLTE5NGFcIixcbiAgICBcIkhFUEhBRVNUVVNcIjogXCJaVi0zMDdjXCIsXG4gICAgXCJQSE9CT1NcIjogXCJaVi0zMDdkXCIsXG4gICAgXCJWVUxDQU5cIjogXCJaVi03NTliXCIsXG4gICAgXCJERUlNT1NcIjogXCJaVi03NTljXCIsXG4gICAgXCJIQVJNT05JQVwiOiBcIlpWLTg5NmJcIlxufTtcbmV4cG9ydCBjb25zdCBNYXRlcmlhbE5hbWVzID0ge1xuICAgIFwiQUFSXCI6IFtcIkFudGVubmEgQXJyYXlcIiwgXCJlbGVjdHJvbmljIGRldmljZXNcIl0sXG4gICAgXCJBQkhcIjogW1wiQWR2YW5jZWQgQnVsa2hlYWRcIiwgXCJjb25zdHJ1Y3Rpb24gcHJlZmFic1wiXSxcbiAgICBcIkFDU1wiOiBbXCJBdXRvbWF0ZWQgQ29vbGluZyBTeXN0ZW1cIiwgXCJlbGVjdHJvbmljIHN5c3RlbXNcIl0sXG4gICAgXCJBREVcIjogW1wiQWR2YW5jZWQgRGVjayBFbGVtZW50c1wiLCBcImNvbnN0cnVjdGlvbiBwcmVmYWJzXCJdLFxuICAgIFwiQURSXCI6IFtcIkF1dG8tRG9jXCIsIFwibWVkaWNhbCBlcXVpcG1lbnRcIl0sXG4gICAgXCJBRFNcIjogW1wiQXVkaW8gRGlzdHJpYnV0aW9uIFN5c3RlbVwiLCBcImVsZWN0cm9uaWMgc3lzdGVtc1wiXSxcbiAgICBcIkFFRlwiOiBbXCJBZXJvc3RhdCBGb3VuZGF0aW9uXCIsIFwiY29uc3RydWN0aW9uIHBhcnRzXCJdLFxuICAgIFwiQUVOXCI6IFtcIkFkdmFuY2VkIFNUTCBFbmdpbmVcIiwgXCJzaGlwIGVuZ2luZXNcIl0sXG4gICAgXCJBRlBcIjogW1wiQWR2YW5jZWQgRnVlbCBQdW1wXCIsIFwic2hpcCBlbmdpbmVzXCJdLFxuICAgIFwiQUZSXCI6IFtcIkFkdmFuY2VkIEZ1ZWwgUm9kXCIsIFwic2hpcCBlbmdpbmVzXCJdLFxuICAgIFwiQUdTXCI6IFtcIkFkdmFuY2VkIEhpZ2gtRyBTZWF0c1wiLCBcInNoaXAgcGFydHNcIl0sXG4gICAgXCJBSFBcIjogW1wiQWR2YW5jZWQgSHVsbCBQbGF0ZVwiLCBcInNoaXAgcGFydHNcIl0sXG4gICAgXCJBSVJcIjogW1wiQWlyIFNjcnViYmVyXCIsIFwiY29uc3RydWN0aW9uIHBhcnRzXCJdLFxuICAgIFwiQUxcIjogW1wiQWx1bWluaXVtXCIsIFwibWV0YWxzXCJdLFxuICAgIFwiQUxFXCI6IFtcIlN0ZWxsYXIgUGFsZSBBbGVcIiwgXCJjb25zdW1hYmxlcyAobHV4dXJ5KVwiXSxcbiAgICBcIkFMR1wiOiBbXCJQcm90ZWluLVJpY2ggQWxnYWVcIiwgXCJhZ3JpY3VsdHVyYWwgcHJvZHVjdHNcIl0sXG4gICAgXCJBTE9cIjogW1wiQWx1bWluaXVtIE9yZVwiLCBcIm9yZXNcIl0sXG4gICAgXCJBTU1cIjogW1wiQW1tb25pYVwiLCBcImdhc2VzXCJdLFxuICAgIFwiQU5aXCI6IFtcIkFkdmFuY2VkIE5venpsZVwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIkFQVFwiOiBbXCJBZHZhbmNlZCBUaGVybWFsIFByb3RlY3Rpb24gVGlsZVwiLCBcInNoaXAgc2hpZWxkc1wiXSxcbiAgICBcIkFSXCI6IFtcIkFyZ29uXCIsIFwiZ2FzZXNcIl0sXG4gICAgXCJBUlBcIjogW1wiQWR2YW5jZWQgQW50aS1yYWQgUGxhdGVcIiwgXCJzaGlwIHNoaWVsZHNcIl0sXG4gICAgXCJBU0VcIjogW1wiQWR2YW5jZWQgU3RydWN0dXJhbCBFbGVtZW50c1wiLCBcImNvbnN0cnVjdGlvbiBwcmVmYWJzXCJdLFxuICAgIFwiQVNUXCI6IFtcIkFscGhhLVN0YWJpbGl6ZWQgVGl0YW5pdW1cIiwgXCJhbGxveXNcIl0sXG4gICAgXCJBVEFcIjogW1wiQWR2YW5jZWQgVHJhbnNwYXJlbnQgQXBlcnR1cmVcIiwgXCJjb25zdHJ1Y3Rpb24gcHJlZmFic1wiXSxcbiAgICBcIkFUUFwiOiBbXCJBZHZhbmNlZCBUaGVybWFsIFByb3RlY3Rpb24gTWF0ZXJpYWxcIiwgXCJzaGlwIHBhcnRzXCJdLFxuICAgIFwiQVVcIjogW1wiR29sZFwiLCBcIm1ldGFsc1wiXSxcbiAgICBcIkFVT1wiOiBbXCJHb2xkIE9yZVwiLCBcIm9yZXNcIl0sXG4gICAgXCJBV0ZcIjogW1wiQWN0aXZlIFdhdGVyIEZpbHRlclwiLCBcImVsZWN0cm9uaWMgZGV2aWNlc1wiXSxcbiAgICBcIkFXSFwiOiBbXCJBZHZhbmNlZCBXaGlwcGxlIFNoaWVsZGluZ1wiLCBcInNoaXAgc2hpZWxkc1wiXSxcbiAgICBcIkJBQ1wiOiBbXCJIZWxwZnVsIEJhY3RlcmlhXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiQkFJXCI6IFtcIkJhc2ljIEFJIEZyYW1ld29ya1wiLCBcInNvZnR3YXJlIGNvbXBvbmVudHNcIl0sXG4gICAgXCJCQkhcIjogW1wiQmFzaWMgQnVsa2hlYWRcIiwgXCJjb25zdHJ1Y3Rpb24gcHJlZmFic1wiXSxcbiAgICBcIkJDT1wiOiBbXCJCdWRnZXQgQ29ubmVjdG9yc1wiLCBcImVsZWN0cm9uaWMgcGllY2VzXCJdLFxuICAgIFwiQkRFXCI6IFtcIkJhc2ljIERlY2sgRWxlbWVudHNcIiwgXCJjb25zdHJ1Y3Rpb24gcHJlZmFic1wiXSxcbiAgICBcIkJFXCI6IFtcIkJlcnlsbGl1bVwiLCBcImVsZW1lbnRzXCJdLFxuICAgIFwiQkVBXCI6IFtcIlByb3RlaW4tUmljaCBCZWFuc1wiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIkJFUlwiOiBbXCJCZXJ5bCBDcnlzdGFsc1wiLCBcIm1pbmVyYWxzXCJdLFxuICAgIFwiQkZQXCI6IFtcIkJhc2ljIEZ1ZWwgUHVtcFwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIkJGUlwiOiBbXCJCYXNpYyBGdWVsIFJvZFwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIkJHQ1wiOiBbXCJTaGllbGRlZCBDb25uZWN0b3JzXCIsIFwiZWxlY3Ryb25pYyBwaWVjZXNcIl0sXG4gICAgXCJCR09cIjogW1wiQmx1ZSBHb2xkXCIsIFwiYWxsb3lzXCJdLFxuICAgIFwiQkdTXCI6IFtcIkJhc2ljIEhpZ2gtRyBTZWF0c1wiLCBcInNoaXAgcGFydHNcIl0sXG4gICAgXCJCSFBcIjogW1wiQmFzaWMgSHVsbCBQbGF0ZVwiLCBcInNoaXAgcGFydHNcIl0sXG4gICAgXCJCSURcIjogW1wiRnVsbC1Cb2R5IEludGVyYWN0aW9uIERldmljZVwiLCBcImVsZWN0cm9uaWMgZGV2aWNlc1wiXSxcbiAgICBcIkJMXCI6IFtcIkJyZWF0aGFibGUgTGlxdWlkXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiQkxFXCI6IFtcIkRlc2F0dXJhdGlvbiBBZ2VudFwiLCBcImNoZW1pY2Fsc1wiXSxcbiAgICBcIkJNRlwiOiBbXCJCYXNpYyBNYWluZnJhbWVcIiwgXCJlbGVjdHJvbmljIGRldmljZXNcIl0sXG4gICAgXCJCTkRcIjogW1wiQmFuZGFnZXNcIiwgXCJtZWRpY2FsIGVxdWlwbWVudFwiXSxcbiAgICBcIkJPUlwiOiBbXCJCb3JvbiBDcnlzdGFsc1wiLCBcIm1pbmVyYWxzXCJdLFxuICAgIFwiQk9TXCI6IFtcIkJvcm9zaWxpY2F0ZVwiLCBcImFsbG95c1wiXSxcbiAgICBcIkJQVFwiOiBbXCJCYXNpYyBUaGVybWFsIFByb3RlY3Rpb24gVGlsZVwiLCBcInNoaXAgc2hpZWxkc1wiXSxcbiAgICBcIkJSMVwiOiBbXCJDb21tYW5kIEJyaWRnZSBNSzFcIiwgXCJ1bml0IHByZWZhYnNcIl0sXG4gICAgXCJCUjJcIjogW1wiQ29tbWFuZCBCcmlkZ2UgTUsyXCIsIFwidW5pdCBwcmVmYWJzXCJdLFxuICAgIFwiQlJNXCI6IFtcIkJpb3JlYWN0aXZlIE1pbmVyYWxzXCIsIFwibWluZXJhbHNcIl0sXG4gICAgXCJCUk9cIjogW1wiQnJvbnplXCIsIFwiYWxsb3lzXCJdLFxuICAgIFwiQlJQXCI6IFtcIkJhc2ljIEFudGktcmFkIFBsYXRlXCIsIFwic2hpcCBzaGllbGRzXCJdLFxuICAgIFwiQlJTXCI6IFtcIlNob3J0LWRpc3RhbmNlIENvbW1hbmQgQnJpZGdlXCIsIFwidW5pdCBwcmVmYWJzXCJdLFxuICAgIFwiQlNDXCI6IFtcIkJvZHkgU2Nhbm5lclwiLCBcImVsZWN0cm9uaWMgZGV2aWNlc1wiXSxcbiAgICBcIkJTRVwiOiBbXCJCYXNpYyBTdHJ1Y3R1cmFsIEVsZW1lbnRzXCIsIFwiY29uc3RydWN0aW9uIHByZWZhYnNcIl0sXG4gICAgXCJCVEFcIjogW1wiQmFzaWMgVHJhbnNwYXJlbnQgQXBlcnR1cmVcIiwgXCJjb25zdHJ1Y3Rpb24gcHJlZmFic1wiXSxcbiAgICBcIkJUU1wiOiBbXCJCYWN0ZXJpYWwgVHVuZ3N0ZW4gU29sdXRpb25cIiwgXCJsaXF1aWRzXCJdLFxuICAgIFwiQldIXCI6IFtcIkJhc2ljIFdoaXBwbGUgU2hpZWxkaW5nXCIsIFwic2hpcCBzaGllbGRzXCJdLFxuICAgIFwiQldTXCI6IFtcIkJhc2ljIFdvcmtzdGF0aW9uXCIsIFwiZWxlY3Ryb25pYyBkZXZpY2VzXCJdLFxuICAgIFwiQ1wiOiBbXCJDYXJib25cIiwgXCJlbGVtZW50c1wiXSxcbiAgICBcIkNBXCI6IFtcIkNhbGNpdW1cIiwgXCJlbGVtZW50c1wiXSxcbiAgICBcIkNBRlwiOiBbXCJDYWZmZWluYXRlZCBCZWFuc1wiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIkNBUFwiOiBbXCJFbGVjdHJpYyBGaWVsZCBDYXBhY2l0b3JcIiwgXCJlbGVjdHJvbmljIHBpZWNlc1wiXSxcbiAgICBcIkNCTFwiOiBbXCJMYXJnZSBDYXBhY2l0b3IgQmFua1wiLCBcImVuZXJneSBzeXN0ZW1zXCJdLFxuICAgIFwiQ0JNXCI6IFtcIk1lZGl1bSBDYXBhY2l0b3IgQmFua1wiLCBcImVuZXJneSBzeXN0ZW1zXCJdLFxuICAgIFwiQ0JTXCI6IFtcIlNtYWxsIENhcGFjaXRvciBCYW5rXCIsIFwiZW5lcmd5IHN5c3RlbXNcIl0sXG4gICAgXCJDQ1wiOiBbXCJDbGltYXRlIENvbnRyb2xsZXJcIiwgXCJlbGVjdHJvbmljIHN5c3RlbXNcIl0sXG4gICAgXCJDQ0RcIjogW1wiQ3Jvd2QgQ29udHJvbCBEcm9uZVwiLCBcImRyb25lc1wiXSxcbiAgICBcIkNEXCI6IFtcIkNhcGFjaXRpdmUgRGlzcGxheVwiLCBcImVsZWN0cm9uaWMgcGFydHNcIl0sXG4gICAgXCJDRlwiOiBbXCJDZXJhbWljIEZhYnJpY1wiLCBcInRleHRpbGVzXCJdLFxuICAgIFwiQ0hBXCI6IFtcIkNvbWJ1c3Rpb24gQ2hhbWJlclwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIkNMXCI6IFtcIkNobG9yaW5lXCIsIFwiZWxlbWVudHNcIl0sXG4gICAgXCJDTElcIjogW1wiQ2FsaWNoZSBSb2NrXCIsIFwibWluZXJhbHNcIl0sXG4gICAgXCJDTUtcIjogW1wiXCIsIFwiY29uc3RydWN0aW9uIG1hdGVyaWFsc1wiXSxcbiAgICBcIkNPRlwiOiBbXCJDYWZmZWluYXRlZCBJbmZ1c2lvblwiLCBcImNvbnN1bWFibGVzIChsdXh1cnkpXCJdLFxuICAgIFwiQ09NXCI6IFtcIkNvbW11bmljYXRpb24gU3lzdGVtXCIsIFwiZWxlY3Ryb25pYyBzeXN0ZW1zXCJdLFxuICAgIFwiQ09UXCI6IFtcIkNvdHRvbiBGYWJyaWNcIiwgXCJ0ZXh0aWxlc1wiXSxcbiAgICBcIkNRTFwiOiBbXCJDcmV3IFF1YXJ0ZXJzIChMYXJnZSlcIiwgXCJ1bml0IHByZWZhYnNcIl0sXG4gICAgXCJDUU1cIjogW1wiQ3JldyBRdWFydGVycyAoTWVkaXVtKVwiLCBcInVuaXQgcHJlZmFic1wiXSxcbiAgICBcIkNRU1wiOiBbXCJDcmV3IFF1YXJ0ZXJzIChTbWFsbClcIiwgXCJ1bml0IHByZWZhYnNcIl0sXG4gICAgXCJDUVRcIjogW1wiQ3JldyBRdWFydGVycyAoVGlueSlcIiwgXCJ1bml0IHByZWZhYnNcIl0sXG4gICAgXCJDUlVcIjogW1wiQ3J5b2dlbmljIFVuaXRcIiwgXCJlbGVjdHJvbmljIHN5c3RlbXNcIl0sXG4gICAgXCJDU1RcIjogW1wiQ3J5b2dlbmljIFN0YWJpbGl6ZXJcIiwgXCJjaGVtaWNhbHNcIl0sXG4gICAgXCJDVEZcIjogW1wiQ2VyYW1pYy1UdW5nc3RlbiBGYWJyaWNcIiwgXCJ0ZXh0aWxlc1wiXSxcbiAgICBcIkNVXCI6IFtcIkNvcHBlclwiLCBcIm1ldGFsc1wiXSxcbiAgICBcIkNVT1wiOiBbXCJDb3BwZXIgT3JlXCIsIFwib3Jlc1wiXSxcbiAgICBcIkRBXCI6IFtcIkRhdGEgQW5hbHl6ZXJcIiwgXCJzb2Z0d2FyZSB0b29sc1wiXSxcbiAgICBcIkRDSFwiOiBbXCJEcm9uZSBDaGFzc2lzXCIsIFwiZHJvbmVzXCJdLFxuICAgIFwiRENMXCI6IFtcIkR1cmFibGUgQ2FzaW5nIExcIiwgXCJwbGFzdGljc1wiXSxcbiAgICBcIkRDTVwiOiBbXCJEdXJhYmxlIENhc2luZyBNXCIsIFwicGxhc3RpY3NcIl0sXG4gICAgXCJEQ1NcIjogW1wiRHVyYWJsZSBDYXNpbmcgU1wiLCBcInBsYXN0aWNzXCJdLFxuICAgIFwiRERcIjogW1wiRGlzdHJpYnV0ZWQgRGF0YWJhc2VcIiwgXCJzb2Z0d2FyZSB0b29sc1wiXSxcbiAgICBcIkREVFwiOiBbXCJERFQgUGxhbnQgQWdlbnRcIiwgXCJjaGVtaWNhbHNcIl0sXG4gICAgXCJERUNcIjogW1wiRGVjb3JhdGl2ZSBFbGVtZW50c1wiLCBcImNvbnN0cnVjdGlvbiBwYXJ0c1wiXSxcbiAgICBcIkRJU1wiOiBbXCJJbmZvcm1hdGlvbiBEaXNwbGF5XCIsIFwiZWxlY3Ryb25pYyBwYXJ0c1wiXSxcbiAgICBcIkRPVVwiOiBbXCJEcm9uZSBPcGVyYXRpb25zIFVuaXRcIiwgXCJ1bml0IHByZWZhYnNcIl0sXG4gICAgXCJEUkZcIjogW1wiRHJvbmUgRnJhbWVcIiwgXCJkcm9uZXNcIl0sXG4gICAgXCJEVlwiOiBbXCJEYXRhIFZpc3VhbGl6ZXJcIiwgXCJzb2Z0d2FyZSB0b29sc1wiXSxcbiAgICBcIkRXXCI6IFtcIkRyaW5raW5nIFdhdGVyXCIsIFwiY29uc3VtYWJsZXMgKGJhc2ljKVwiXSxcbiAgICBcIkVEQ1wiOiBbXCJFbnRlcnRhaW5tZW50IERhdGEgQ29yZVwiLCBcInNvZnR3YXJlIHRvb2xzXCJdLFxuICAgIFwiRUVTXCI6IFtcIkVucmljaGVkIEVpbnN0ZWluaXVtXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiRU5HXCI6IFtcIlN0YW5kYXJkIFNUTCBFbmdpbmVcIiwgXCJzaGlwIGVuZ2luZXNcIl0sXG4gICAgXCJFUE9cIjogW1wiRXBveHkgUmVzaW5cIiwgXCJjb25zdHJ1Y3Rpb24gbWF0ZXJpYWxzXCJdLFxuICAgIFwiRVNcIjogW1wiRWluc3RlaW5pdW1cIiwgXCJlbGVtZW50c1wiXSxcbiAgICBcIkVUQ1wiOiBbXCJFbnJpY2hlZCBUZWNobmV0aXVtXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiRVhPXCI6IFtcIkV4b3NrZWxldG9uIFdvcmsgU3VpdFwiLCBcImNvbnN1bWFibGVzIChiYXNpYylcIl0sXG4gICAgXCJGXCI6IFtcIkZsdW9yaW5lXCIsIFwiZ2FzZXNcIl0sXG4gICAgXCJGQUxcIjogW1wiRmVycm9taW5pdW1cIiwgXCJhbGxveXNcIl0sXG4gICAgXCJGQU5cIjogW1wiQWN0aXZlIENvb2xpbmcgRGV2aWNlXCIsIFwiZWxlY3Ryb25pYyBwYXJ0c1wiXSxcbiAgICBcIkZDXCI6IFtcIkZsb3cgQ29udHJvbCBEZXZpY2VcIiwgXCJjb25zdHJ1Y3Rpb24gcGFydHNcIl0sXG4gICAgXCJGRVwiOiBbXCJJcm9uXCIsIFwibWV0YWxzXCJdLFxuICAgIFwiRkVPXCI6IFtcIklyb24gT3JlXCIsIFwib3Jlc1wiXSxcbiAgICBcIkZFVFwiOiBbXCJGZXJyby1UaXRhbml1bVwiLCBcImFsbG95c1wiXSxcbiAgICBcIkZGXCI6IFtcIkZUTCBGdWVsXCIsIFwiZnVlbHNcIl0sXG4gICAgXCJGRkNcIjogW1wiRlRMIEZpZWxkIENvbnRyb2xsZXJcIiwgXCJlbGVjdHJvbmljIHN5c3RlbXNcIl0sXG4gICAgXCJGSU1cIjogW1wiRmxhdm91cmVkIEluc3RhLU1lYWxcIiwgXCJjb25zdW1hYmxlcyAoYmFzaWMpXCJdLFxuICAgIFwiRklSXCI6IFtcIkZpc3Npb24gUmVhY3RvclwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIkZMT1wiOiBbXCJGbG9hdGluZyBUYW5rXCIsIFwiY29uc3RydWN0aW9uIHBhcnRzXCJdLFxuICAgIFwiRkxQXCI6IFtcIkZsdWlkIFBpcGluZ1wiLCBcImNvbnN0cnVjdGlvbiBwYXJ0c1wiXSxcbiAgICBcIkZMWFwiOiBbXCJGbHV4XCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiRk9EXCI6IFtcIkFsbC1QdXJwb3NlIEZvZGRlclwiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIkZTRVwiOiBbXCJGdWVsLXNhdmluZyBTVEwgRW5naW5lXCIsIFwic2hpcCBlbmdpbmVzXCJdLFxuICAgIFwiRlVOXCI6IFtcIkVudGVydGFpbm1lbnQgVW5pdFwiLCBcInVuaXQgcHJlZmFic1wiXSxcbiAgICBcIkdBTFwiOiBbXCJHYWxlcml0ZSBSb2NrXCIsIFwibWluZXJhbHNcIl0sXG4gICAgXCJHQ1wiOiBbXCJDeWxpbmRyaWNhbCBHYXMgQ29udGFpbmVyXCIsIFwiY29uc3RydWN0aW9uIHBhcnRzXCJdLFxuICAgIFwiR0NIXCI6IFtcIkdsYXNzIENvbWJ1c3Rpb24gQ2hhbWJlclwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIkdFTlwiOiBbXCJHbGFzcy1iYXNlZCBTVEwgRW5naW5lXCIsIFwic2hpcCBlbmdpbmVzXCJdLFxuICAgIFwiR0lOXCI6IFtcIkVpbnN0ZWluaXVtLUluZnVzZWQgR2luXCIsIFwiY29uc3VtYWJsZXMgKGx1eHVyeSlcIl0sXG4gICAgXCJHTFwiOiBbXCJHbGFzc1wiLCBcImNvbnN0cnVjdGlvbiBtYXRlcmlhbHNcIl0sXG4gICAgXCJHTlpcIjogW1wiR2xhc3MgTm96emxlXCIsIFwic2hpcCBlbmdpbmVzXCJdLFxuICAgIFwiR1JBXCI6IFtcIldpbmUtUXVhbGl0eSBHcmFwZXNcIiwgXCJhZ3JpY3VsdHVyYWwgcHJvZHVjdHNcIl0sXG4gICAgXCJHUk5cIjogW1wiSGlnaC1DYXJiIEdyYWluc1wiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIkdWXCI6IFtcIkdhcyBWZW50XCIsIFwiY29uc3RydWN0aW9uIHBhcnRzXCJdLFxuICAgIFwiSFwiOiBbXCJIeWRyb2dlblwiLCBcImdhc2VzXCJdLFxuICAgIFwiSDJPXCI6IFtcIldhdGVyXCIsIFwibGlxdWlkc1wiXSxcbiAgICBcIkhBQlwiOiBbXCJIYWJpdGF0IFVuaXRcIiwgXCJ1bml0IHByZWZhYnNcIl0sXG4gICAgXCJIQUxcIjogW1wiSGFsaXRlIENyeXN0YWxzXCIsIFwibWluZXJhbHNcIl0sXG4gICAgXCJIQ0NcIjogW1wiSGlnaC1DYXBhY2l0eSBDb25uZWN0b3JzXCIsIFwiZWxlY3Ryb25pYyBwaWVjZXNcIl0sXG4gICAgXCJIQ1BcIjogW1wiSHlkcm9jYXJib24gUGxhbnRzXCIsIFwiYWdyaWN1bHR1cmFsIHByb2R1Y3RzXCJdLFxuICAgIFwiSERcIjogW1wiSG9sb2dyYXBoaWMgRGlzcGxheVwiLCBcImVsZWN0cm9uaWMgZGV2aWNlc1wiXSxcbiAgICBcIkhFXCI6IFtcIkhlbGl1bVwiLCBcImdhc2VzXCJdLFxuICAgIFwiSEUzXCI6IFtcIkhlbGl1bS0zIElzb3RvcGVcIiwgXCJnYXNlc1wiXSxcbiAgICBcIkhFUlwiOiBbXCJTcGljeSBIZXJic1wiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIkhFWFwiOiBbXCJIZWxpb3Ryb3BlIEV4dHJhY3RcIiwgXCJsaXF1aWRzXCJdLFxuICAgIFwiSEhQXCI6IFtcIkhhcmRlbmVkIEh1bGwgUGxhdGVcIiwgXCJzaGlwIHBhcnRzXCJdLFxuICAgIFwiSE1TXCI6IFtcIkhhek1hdCBXb3JrIFN1aXRcIiwgXCJjb25zdW1hYmxlcyAoYmFzaWMpXCJdLFxuICAgIFwiSE5aXCI6IFtcIkh5cGVydGhydXN0IE5venpsZVwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIkhPR1wiOiBbXCJIb2xvZ3JhcGhpYyBHbGFzc2VzXCIsIFwiZWxlY3Ryb25pYyBkZXZpY2VzXCJdLFxuICAgIFwiSE9QXCI6IFtcIkZsb3dlcnkgSG9wc1wiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIkhQQ1wiOiBbXCJIYW5kaGVsZCBQZXJzb25hbCBDb25zb2xlXCIsIFwiZWxlY3Ryb25pYyBkZXZpY2VzXCJdLFxuICAgIFwiSFBSXCI6IFtcIkhpZ2gtcG93ZXIgRlRMIFJlYWN0b3JcIiwgXCJzaGlwIGVuZ2luZXNcIl0sXG4gICAgXCJIU0VcIjogW1wiSGFyZGVuZWQgU3RydWN0dXJhbCBFbGVtZW50c1wiLCBcImNvbnN0cnVjdGlvbiBwcmVmYWJzXCJdLFxuICAgIFwiSFNTXCI6IFtcIlNtYXJ0IFNwYWNlIFN1aXRcIiwgXCJjb25zdW1hYmxlcyAoYmFzaWMpXCJdLFxuICAgIFwiSFRFXCI6IFtcIkh5cGVydGhydXN0IFNUTCBFbmdpbmVcIiwgXCJzaGlwIGVuZ2luZXNcIl0sXG4gICAgXCJIWVJcIjogW1wiSHlwZXItcG93ZXIgUmVhY3RvclwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIklcIjogW1wiSW9kaW5lXCIsIFwiZWxlbWVudHNcIl0sXG4gICAgXCJJRENcIjogW1wiSW5mb3JtYXRpb24gRGF0YSBDb3JlXCIsIFwic29mdHdhcmUgc3lzdGVtc1wiXSxcbiAgICBcIklNTVwiOiBbXCJJbmZvcm1hdGlvbiBNYW5hZ2VtZW50IFN5c3RlbVwiLCBcInNvZnR3YXJlIHN5c3RlbXNcIl0sXG4gICAgXCJJTkRcIjogW1wiSW5kaWdvIENvbG9yYW50XCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiSU5TXCI6IFtcIkluc3VGb2FtXCIsIFwiY29uc3RydWN0aW9uIG1hdGVyaWFsc1wiXSxcbiAgICBcIkpVSVwiOiBbXCJTZWRhdGl2ZSBTdWJzdGFuY2VcIiwgXCJjaGVtaWNhbHNcIl0sXG4gICAgXCJLT01cIjogW1wiS29tYnVjaGFcIiwgXCJjb25zdW1hYmxlcyAobHV4dXJ5KVwiXSxcbiAgICBcIktWXCI6IFtcIktldmxhciBGYWJyaWNcIiwgXCJ0ZXh0aWxlc1wiXSxcbiAgICBcIkxCSFwiOiBbXCJMaWdodHdlaWdodCBCdWxraGVhZFwiLCBcImNvbnN0cnVjdGlvbiBwcmVmYWJzXCJdLFxuICAgIFwiTENcIjogW1wiQUktQXNzaXN0ZWQgTGFiIENvYXRcIiwgXCJjb25zdW1hYmxlcyAoYmFzaWMpXCJdLFxuICAgIFwiTENCXCI6IFtcIkxhcmdlIENhcmdvIEJheSBLaXRcIiwgXCJzaGlwIGtpdHNcIl0sXG4gICAgXCJMQ1JcIjogW1wiTGlxdWlkIENyeXN0YWxzXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiTERcIjogW1wiTG9jYWwgRGF0YWJhc2VcIiwgXCJzb2Z0d2FyZSBjb21wb25lbnRzXCJdLFxuICAgIFwiTERFXCI6IFtcIkxpZ2h0d2VpZ2h0IERlY2sgRWxlbWVudHNcIiwgXCJjb25zdHJ1Y3Rpb24gcHJlZmFic1wiXSxcbiAgICBcIkxESVwiOiBbXCJMYXNlciBEaW9kZXNcIiwgXCJlbGVjdHJvbmljIHBpZWNlc1wiXSxcbiAgICBcIkxFU1wiOiBbXCJMaXF1aWQgRWluc3RlaW5pdW1cIiwgXCJsaXF1aWRzXCJdLFxuICAgIFwiTEZFXCI6IFtcIkxhcmdlIEZUTCBFbWl0dGVyXCIsIFwic2hpcCBlbmdpbmVzXCJdLFxuICAgIFwiTEZMXCI6IFtcIkxhcmdlIEZUTCBGdWVsIFRhbmsgS2l0XCIsIFwic2hpcCBraXRzXCJdLFxuICAgIFwiTEZQXCI6IFtcIkxvdy1oZWF0IEZ1ZWwgUHVtcFwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIkxIUFwiOiBbXCJMaWdodHdlaWdodCBIdWxsIFBsYXRlXCIsIFwic2hpcCBwYXJ0c1wiXSxcbiAgICBcIkxJXCI6IFtcIkxpdGhpdW1cIiwgXCJtZXRhbHNcIl0sXG4gICAgXCJMSU9cIjogW1wiTGl0aGl1bSBPcmVcIiwgXCJvcmVzXCJdLFxuICAgIFwiTElTXCI6IFtcIkxpZmUgU3VwcG9ydCBTeXN0ZW1cIiwgXCJlbGVjdHJvbmljIHN5c3RlbXNcIl0sXG4gICAgXCJMSVRcIjogW1wiTmVvbiBMaWdodGluZyBTeXN0ZW1cIiwgXCJjb25zdHJ1Y3Rpb24gcGFydHNcIl0sXG4gICAgXCJMT0dcIjogW1wiTG9naXN0aWNzIFN5c3RlbVwiLCBcImVsZWN0cm9uaWMgc3lzdGVtc1wiXSxcbiAgICBcIkxTRVwiOiBbXCJMaWdodHdlaWdodCBTdHJ1Y3R1cmFsIEVsZW1lbnRzXCIsIFwiY29uc3RydWN0aW9uIHByZWZhYnNcIl0sXG4gICAgXCJMU0xcIjogW1wiTGFyZ2UgU1RMIEZ1ZWwgVGFuayBLaXRcIiwgXCJzaGlwIGtpdHNcIl0sXG4gICAgXCJMU1RcIjogW1wiTGltZXN0b25lXCIsIFwibWluZXJhbHNcIl0sXG4gICAgXCJMVEFcIjogW1wiTGlnaHR3ZWlnaHQgVHJhbnNwYXJlbnQgQXBlcnR1cmVcIiwgXCJjb25zdHJ1Y3Rpb24gcHJlZmFic1wiXSxcbiAgICBcIkxVXCI6IFtcIkxhYm9yYXRvcnkgVW5pdFwiLCBcInVuaXQgcHJlZmFic1wiXSxcbiAgICBcIk1BR1wiOiBbXCJNYWduZXRpdGVcIiwgXCJtaW5lcmFsc1wiXSxcbiAgICBcIk1BSVwiOiBbXCJIaWdoLUNhcmIgTWFpemVcIiwgXCJhZ3JpY3VsdHVyYWwgcHJvZHVjdHNcIl0sXG4gICAgXCJNQlwiOiBbXCJNb3RoZXJib2FyZFwiLCBcImVsZWN0cm9uaWMgcGFydHNcIl0sXG4gICAgXCJNQ0JcIjogW1wiTWVkaXVtIENhcmdvIEJheSBLaXRcIiwgXCJzaGlwIGtpdHNcIl0sXG4gICAgXCJNQ0dcIjogW1wiTWluZXJhbCBDb25zdHJ1Y3Rpb24gR3JhbnVsYXRlXCIsIFwiY29uc3RydWN0aW9uIG1hdGVyaWFsc1wiXSxcbiAgICBcIk1FQVwiOiBbXCJRdWFsaXR5IE1lYXQgTWVhbFwiLCBcImNvbnN1bWFibGVzIChiYXNpYylcIl0sXG4gICAgXCJNRURcIjogW1wiQmFzaWMgTWVkaWNhbCBLaXRcIiwgXCJjb25zdW1hYmxlcyAoYmFzaWMpXCJdLFxuICAgIFwiTUZFXCI6IFtcIk1lZGl1bSBGVEwgRW1pdHRlclwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIk1GS1wiOiBbXCJNZWRpdW0gRmFzdGVuZXIgS2l0XCIsIFwiZWxlY3Ryb25pYyBwaWVjZXNcIl0sXG4gICAgXCJNRkxcIjogW1wiTWVkaXVtIEZUTCBGdWVsIFRhbmsgS2l0XCIsIFwic2hpcCBraXRzXCJdLFxuICAgIFwiTUdcIjogW1wiTWFnbmVzaXVtXCIsIFwiZWxlbWVudHNcIl0sXG4gICAgXCJNR0NcIjogW1wiTWFnbmV0aWMgR3JvdW5kIENvdmVyXCIsIFwiY29uc3RydWN0aW9uIHBhcnRzXCJdLFxuICAgIFwiTUdTXCI6IFtcIk1hZ25lc2l0ZVwiLCBcIm1pbmVyYWxzXCJdLFxuICAgIFwiTUhMXCI6IFtcIk1ldGFsLUhhbGlkZSBMaWdodGluZyBTeXN0ZW1cIiwgXCJjb25zdHJ1Y3Rpb24gcGFydHNcIl0sXG4gICAgXCJNSFBcIjogW1wiTWljcm8gSGVhZHBob25lc1wiLCBcImVsZWN0cm9uaWMgZGV2aWNlc1wiXSxcbiAgICBcIk1MSVwiOiBbXCJNYWNoaW5lIExlYXJuaW5nIEludGVyZmFjZVwiLCBcInNvZnR3YXJlIGNvbXBvbmVudHNcIl0sXG4gICAgXCJNUENcIjogW1wiTWljcm8tUHJvY2Vzc29yXCIsIFwiZWxlY3Ryb25pYyBwYXJ0c1wiXSxcbiAgICBcIk1TTFwiOiBbXCJNZWRpdW0gU1RMIEZ1ZWwgVGFuayBLaXRcIiwgXCJzaGlwIGtpdHNcIl0sXG4gICAgXCJNVENcIjogW1wiTWVnYVR1YmUgQ29hdGluZ1wiLCBcImNvbnN0cnVjdGlvbiBtYXRlcmlhbHNcIl0sXG4gICAgXCJNVFBcIjogW1wiTWVhdCBUaXNzdWUgUGF0dGllc1wiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIk1VU1wiOiBbXCJQcm90ZWluLVJpY2ggTXVzaHJvb21zXCIsIFwiYWdyaWN1bHR1cmFsIHByb2R1Y3RzXCJdLFxuICAgIFwiTVdGXCI6IFtcIk1lZGl1bSBXYWZlclwiLCBcImVsZWN0cm9uaWMgcGllY2VzXCJdLFxuICAgIFwiTlwiOiBbXCJOaXRyb2dlblwiLCBcImdhc2VzXCJdLFxuICAgIFwiTkFcIjogW1wiU29kaXVtXCIsIFwiZWxlbWVudHNcIl0sXG4gICAgXCJOQUJcIjogW1wiU29kaXVtIEJvcm9oeWRyaWRlXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiTkNTXCI6IFtcIk5hbm8tQ2FyYm9uIFNoZWV0aW5nXCIsIFwiY29uc3RydWN0aW9uIG1hdGVyaWFsc1wiXSxcbiAgICBcIk5FXCI6IFtcIk5lb25cIiwgXCJnYXNlc1wiXSxcbiAgICBcIk5GXCI6IFtcIk5ldHdvcmtpbmcgRnJhbWV3b3JrXCIsIFwic29mdHdhcmUgY29tcG9uZW50c1wiXSxcbiAgICBcIk5GSVwiOiBbXCJOYW5vIEZpYmVyXCIsIFwiY29uc3RydWN0aW9uIG1hdGVyaWFsc1wiXSxcbiAgICBcIk5HXCI6IFtcIk5hbm8tQ29hdGVkIEdsYXNzXCIsIFwiY29uc3RydWN0aW9uIG1hdGVyaWFsc1wiXSxcbiAgICBcIk5MXCI6IFtcIk55bG9uIEZhYnJpY1wiLCBcInRleHRpbGVzXCJdLFxuICAgIFwiTk5cIjogW1wiTmV1cmFsIE5ldHdvcmtcIiwgXCJzb2Z0d2FyZSB0b29sc1wiXSxcbiAgICBcIk5PWlwiOiBbXCJCYXNpYyBOb3p6bGVcIiwgXCJzaGlwIGVuZ2luZXNcIl0sXG4gICAgXCJOUlwiOiBbXCJOYW5vLUVuaGFuY2VkIFJlc2luXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiTlNcIjogW1wiTnV0cmllbnQgU29sdXRpb25cIiwgXCJjaGVtaWNhbHNcIl0sXG4gICAgXCJOU1RcIjogW1wiTmV1cm9TdGltdWxhbnRzXCIsIFwiY29uc3VtYWJsZXMgKGx1eHVyeSlcIl0sXG4gICAgXCJOVVRcIjogW1wiVHJpZ2x5Y2VyaWRlIE51dHNcIiwgXCJhZ3JpY3VsdHVyYWwgcHJvZHVjdHNcIl0sXG4gICAgXCJOVjFcIjogW1wiTmF2aWdhdGlvbiBNb2R1bGUgTUsxXCIsIFwic2hpcCBwYXJ0c1wiXSxcbiAgICBcIk5WMlwiOiBbXCJOYXZpZ2F0aW9uIE1vZHVsZSBNSzJcIiwgXCJzaGlwIHBhcnRzXCJdLFxuICAgIFwiT1wiOiBbXCJPeHlnZW5cIiwgXCJnYXNlc1wiXSxcbiAgICBcIk9GRlwiOiBbXCJPZmZpY2UgU3VwcGxpZXNcIiwgXCJ1dGlsaXR5XCJdLFxuICAgIFwiT0xGXCI6IFtcIk9sZmFjdG9yeSBTdWJzdGFuY2VzXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiT1NcIjogW1wiT3BlcmF0aW5nIFN5c3RlbVwiLCBcInNvZnR3YXJlIHRvb2xzXCJdLFxuICAgIFwiT1ZFXCI6IFtcIkJhc2ljIE92ZXJhbGxzXCIsIFwiY29uc3VtYWJsZXMgKGJhc2ljKVwiXSxcbiAgICBcIlBDQlwiOiBbXCJQcmludGVkIENpcmN1aXQgQm9hcmRcIiwgXCJlbGVjdHJvbmljIHBhcnRzXCJdLFxuICAgIFwiUERBXCI6IFtcIlBlcnNvbmFsIERhdGEgQXNzaXN0YW50XCIsIFwiY29uc3VtYWJsZXMgKGJhc2ljKVwiXSxcbiAgICBcIlBFXCI6IFtcIlBvbHktRXRoeWxlbmVcIiwgXCJwbGFzdGljc1wiXSxcbiAgICBcIlBGRVwiOiBbXCJQcmVtaXVtIEZlcnRpbGl6ZXJcIiwgXCJjaGVtaWNhbHNcIl0sXG4gICAgXCJQR1wiOiBbXCJQb2x5bWVyIEdyYW51bGF0ZVwiLCBcInBsYXN0aWNzXCJdLFxuICAgIFwiUElCXCI6IFtcIlBpbmViZXJyaWVzXCIsIFwiYWdyaWN1bHR1cmFsIHByb2R1Y3RzXCJdLFxuICAgIFwiUEtcIjogW1wiUGFpbmtpbGxlcnNcIiwgXCJtZWRpY2FsIGVxdWlwbWVudFwiXSxcbiAgICBcIlBPV1wiOiBbXCJQb3dlciBDZWxsXCIsIFwiZW5lcmd5IHN5c3RlbXNcIl0sXG4gICAgXCJQUEFcIjogW1wiUHJvdGVpbiBQYXN0ZVwiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIlBTSFwiOiBbXCJQcmVzc3VyZSBTaGllbGRpbmdcIiwgXCJjb25zdHJ1Y3Rpb24gcGFydHNcIl0sXG4gICAgXCJQU0xcIjogW1wiUG9seW1lciBTaGVldCBUeXBlIExcIiwgXCJwbGFzdGljc1wiXSxcbiAgICBcIlBTTVwiOiBbXCJQb2x5bWVyIFNoZWV0IFR5cGUgTVwiLCBcInBsYXN0aWNzXCJdLFxuICAgIFwiUFNTXCI6IFtcIlBvbHltZXIgU2hlZXQgVHlwZSBTXCIsIFwicGxhc3RpY3NcIl0sXG4gICAgXCJQVFwiOiBbXCJQb3dlciBUb29sc1wiLCBcImNvbnN1bWFibGVzIChiYXNpYylcIl0sXG4gICAgXCJQV09cIjogW1wiUGFkZGVkIFdvcmsgT3ZlcmFsbFwiLCBcImNvbnN1bWFibGVzIChsdXh1cnkpXCJdLFxuICAgIFwiUUNSXCI6IFtcIlF1aWNrLWNoYXJnZSBGVEwgUmVhY3RvclwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIlJBRFwiOiBbXCJSYWRpbyBEZXZpY2VcIiwgXCJlbGVjdHJvbmljIGRldmljZXNcIl0sXG4gICAgXCJSQUdcIjogW1wiUmFkaW9pc290b3BlIEdlbmVyYXRvclwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIlJBTVwiOiBbXCJNZW1vcnkgQmFua1wiLCBcImVsZWN0cm9uaWMgcGFydHNcIl0sXG4gICAgXCJSQVRcIjogW1wiQmFzaWMgUmF0aW9uc1wiLCBcImNvbnN1bWFibGVzIChiYXNpYylcIl0sXG4gICAgXCJSQkhcIjogW1wiUmVpbmZvcmNlZCBCdWxraGVhZFwiLCBcImNvbnN0cnVjdGlvbiBwcmVmYWJzXCJdLFxuICAgIFwiUkNPXCI6IFtcIlJhdyBDb3R0b24gRmliZXJcIiwgXCJhZ3JpY3VsdHVyYWwgcHJvZHVjdHNcIl0sXG4gICAgXCJSQ1NcIjogW1wiUmVhY3RvciBDb250cm9sIFN5c3RlbVwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIlJDVFwiOiBbXCJTdGFuZGFyZCBGVEwgUmVhY3RvclwiLCBcInNoaXAgZW5naW5lc1wiXSxcbiAgICBcIlJERVwiOiBbXCJSZWluZm9yY2VkIERlY2sgRWxlbWVudHNcIiwgXCJjb25zdHJ1Y3Rpb24gcHJlZmFic1wiXSxcbiAgICBcIlJETFwiOiBbXCJMYXJnZSBTaGlwLVJlcGFpciBEcm9uZSBPcGVyYXRpb25zIFVuaXRcIiwgXCJ1bml0IHByZWZhYnNcIl0sXG4gICAgXCJSRFNcIjogW1wiU21hbGwgU2hpcC1SZXBhaXIgRHJvbmUgT3BlcmF0aW9ucyBVbml0XCIsIFwidW5pdCBwcmVmYWJzXCJdLFxuICAgIFwiUkVBXCI6IFtcIkNoZW1pY2FsIFJlYWdlbnRzXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiUkVEXCI6IFtcIlJlc2N1ZSBEcm9uZVwiLCBcImRyb25lc1wiXSxcbiAgICBcIlJFUFwiOiBbXCJSZXBhaXIgS2l0XCIsIFwiY29uc3VtYWJsZXMgKGx1eHVyeSlcIl0sXG4gICAgXCJSR1wiOiBbXCJSZWluZm9yY2VkIEdsYXNzXCIsIFwiY29uc3RydWN0aW9uIG1hdGVyaWFsc1wiXSxcbiAgICBcIlJHT1wiOiBbXCJSZWQgR29sZFwiLCBcImFsbG95c1wiXSxcbiAgICBcIlJIUFwiOiBbXCJSZWluZm9yY2VkIEh1bGwgUGxhdGVcIiwgXCJzaGlwIHBhcnRzXCJdLFxuICAgIFwiUk9NXCI6IFtcIk5vbi1Wb2xhdGlsZSBNZW1vcnlcIiwgXCJlbGVjdHJvbmljIHBhcnRzXCJdLFxuICAgIFwiUlNFXCI6IFtcIlJlaW5mb3JjZWQgU3RydWN0dXJhbCBFbGVtZW50c1wiLCBcImNvbnN0cnVjdGlvbiBwcmVmYWJzXCJdLFxuICAgIFwiUlNIXCI6IFtcIlJhZGlhdGlvbiBTaGllbGRpbmdcIiwgXCJjb25zdHJ1Y3Rpb24gcGFydHNcIl0sXG4gICAgXCJSU0lcIjogW1wiUmF3IFNpbGsgU3RyYWluc1wiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIlJUQVwiOiBbXCJSZWluZm9yY2VkIFRyYW5zcGFyZW50IEFwZXJ0dXJlXCIsIFwiY29uc3RydWN0aW9uIHByZWZhYnNcIl0sXG4gICAgXCJTXCI6IFtcIlN1bGZ1clwiLCBcImVsZW1lbnRzXCJdLFxuICAgIFwiU0FcIjogW1wiU2VhcmNoIEFsZ29yaXRobVwiLCBcInNvZnR3YXJlIGNvbXBvbmVudHNcIl0sXG4gICAgXCJTQUxcIjogW1wiU29ydGluZyBBbGdvcml0aG1cIiwgXCJzb2Z0d2FyZSBjb21wb25lbnRzXCJdLFxuICAgIFwiU0FSXCI6IFtcIlNlbnNvciBBcnJheVwiLCBcImVsZWN0cm9uaWMgZGV2aWNlc1wiXSxcbiAgICBcIlNDXCI6IFtcIlN0ZW0gQ2VsbCBUcmVhdG1lbnRcIiwgXCJjb25zdW1hYmxlcyAobHV4dXJ5KVwiXSxcbiAgICBcIlNDQlwiOiBbXCJTbWFsbCBDYXJnbyBCYXkgS2l0XCIsIFwic2hpcCBraXRzXCJdLFxuICAgIFwiU0NOXCI6IFtcIk11bHRpLVB1cnBvc2UgU2Nhbm5lclwiLCBcImNvbnN1bWFibGVzIChiYXNpYylcIl0sXG4gICAgXCJTQ1JcIjogW1wiU3VsZnVyIENyeXN0YWxzXCIsIFwibWluZXJhbHNcIl0sXG4gICAgXCJTRFJcIjogW1wiU3VyZ2ljYWwgRHJvbmVcIiwgXCJkcm9uZXNcIl0sXG4gICAgXCJTRUFcIjogW1wiUG9seS1TdWxmaXRlIFNlYWxhbnRcIiwgXCJjb25zdHJ1Y3Rpb24gbWF0ZXJpYWxzXCJdLFxuICAgIFwiU0VOXCI6IFtcIlNlbnNvclwiLCBcImVsZWN0cm9uaWMgcGFydHNcIl0sXG4gICAgXCJTRVFcIjogW1wiU3VyZ2ljYWwgRXF1aXBtZW50XCIsIFwibWVkaWNhbCBlcXVpcG1lbnRcIl0sXG4gICAgXCJTRlwiOiBbXCJTVEwgRnVlbFwiLCBcImZ1ZWxzXCJdLFxuICAgIFwiU0ZFXCI6IFtcIlNtYWxsIEZUTCBFbWl0dGVyXCIsIFwic2hpcCBlbmdpbmVzXCJdLFxuICAgIFwiU0ZLXCI6IFtcIlNtYWxsIEZhc3RlbmVyIEtpdFwiLCBcImVsZWN0cm9uaWMgcGllY2VzXCJdLFxuICAgIFwiU0ZMXCI6IFtcIlNtYWxsIEZUTCBGdWVsIFRhbmsgS2l0XCIsIFwic2hpcCBraXRzXCJdLFxuICAgIFwiU0lcIjogW1wiU2lsaWNvblwiLCBcIm1ldGFsc1wiXSxcbiAgICBcIlNJTFwiOiBbXCJTaWxrZW4gRmFicmljXCIsIFwidGV4dGlsZXNcIl0sXG4gICAgXCJTSU9cIjogW1wiU2lsaWNvbiBPcmVcIiwgXCJvcmVzXCJdLFxuICAgIFwiU05NXCI6IFtcIlNwYXRpYWwgTmF2aWdhdGlvbiBNYXBcIiwgXCJzb2Z0d2FyZSBzeXN0ZW1zXCJdLFxuICAgIFwiU09JXCI6IFtcIkFydGlmaWNpYWwgU29pbFwiLCBcImNoZW1pY2Fsc1wiXSxcbiAgICBcIlNPTFwiOiBbXCJTb2xhciBDZWxsXCIsIFwiZW5lcmd5IHN5c3RlbXNcIl0sXG4gICAgXCJTUFwiOiBbXCJTb2xhciBQYW5lbFwiLCBcImVuZXJneSBzeXN0ZW1zXCJdLFxuICAgIFwiU1JEXCI6IFtcIlNoaXAtUmVwYWlyIERyb25lXCIsIFwiZHJvbmVzXCJdLFxuICAgIFwiU1JQXCI6IFtcIlNwZWNpYWxpemVkIEFudGktcmFkIFBsYXRlXCIsIFwic2hpcCBzaGllbGRzXCJdLFxuICAgIFwiU1NDXCI6IFtcIlN0cnVjdHVyYWwgU3BhY2VjcmFmdCBDb21wb25lbnRcIiwgXCJzaGlwIHBhcnRzXCJdLFxuICAgIFwiU1NMXCI6IFtcIlNtYWxsIFNUTCBGdWVsIFRhbmsgS2l0XCIsIFwic2hpcCBraXRzXCJdLFxuICAgIFwiU1RMXCI6IFtcIlN0ZWVsXCIsIFwibWV0YWxzXCJdLFxuICAgIFwiU1RSXCI6IFtcIk1lZGljYWwgU3RyZXRjaGVyXCIsIFwibWVkaWNhbCBlcXVpcG1lbnRcIl0sXG4gICAgXCJTVFNcIjogW1wiU3RhYmlsaXR5IFN1cHBvcnQgU3lzdGVtXCIsIFwiZWxlY3Ryb25pYyBzeXN0ZW1zXCJdLFxuICAgIFwiU1VcIjogW1wiU3VyZ2VyeSBVbml0XCIsIFwidW5pdCBwcmVmYWJzXCJdLFxuICAgIFwiU1VEXCI6IFtcIlN1cnZlaWxsYW5jZSBEcm9uZVwiLCBcImRyb25lc1wiXSxcbiAgICBcIlNVTlwiOiBbXCJTYWZldHkgVW5pZm9ybVwiLCBcInV0aWxpdHlcIl0sXG4gICAgXCJTV0ZcIjogW1wiU21hbGwgV2FmZXJcIiwgXCJlbGVjdHJvbmljIHBpZWNlc1wiXSxcbiAgICBcIlRBXCI6IFtcIlRhbnRhbHVtXCIsIFwiZWxlbWVudHNcIl0sXG4gICAgXCJUQUNcIjogW1wiVGFyZ2V0aW5nIENvbXB1dGVyXCIsIFwiZWxlY3Ryb25pYyBzeXN0ZW1zXCJdLFxuICAgIFwiVEFJXCI6IFtcIlRhbnRhbGl0ZSBSb2NrXCIsIFwibWluZXJhbHNcIl0sXG4gICAgXCJUQ1wiOiBbXCJUZWNobmV0aXVtXCIsIFwiZWxlbWVudHNcIl0sXG4gICAgXCJUQ0JcIjogW1wiVGlueSBDYXJnbyBCYXkgS2l0XCIsIFwic2hpcCBraXRzXCJdLFxuICAgIFwiVENMXCI6IFtcIlRDTCBBY2lkXCIsIFwiY2hlbWljYWxzXCJdLFxuICAgIFwiVENPXCI6IFtcIlRlY2huZXRpdW0gT3hpZGVcIiwgXCJtaW5lcmFsc1wiXSxcbiAgICBcIlRDU1wiOiBbXCJTdGFiaWxpemVkIFRlY2huZXRpdW1cIiwgXCJjb25zdHJ1Y3Rpb24gcGFydHNcIl0sXG4gICAgXCJUQ1VcIjogW1wiVHJhdW1hIENhcmUgVW5pdFwiLCBcInVuaXQgcHJlZmFic1wiXSxcbiAgICBcIlRIRlwiOiBbXCJUaGVybW9GbHVpZFwiLCBcImNoZW1pY2Fsc1wiXSxcbiAgICBcIlRIUFwiOiBbXCJCYXNpYyBUaGVybWFsIFByb3RlY3Rpb24gTWF0ZXJpYWxcIiwgXCJzaGlwIHBhcnRzXCJdLFxuICAgIFwiVElcIjogW1wiVGl0YW5pdW1cIiwgXCJtZXRhbHNcIl0sXG4gICAgXCJUSU9cIjogW1wiVGl0YW5pdW0gT3JlXCIsIFwib3Jlc1wiXSxcbiAgICBcIlRLXCI6IFtcIlRlY2hub0tldmxhciBGYWJyaWNcIiwgXCJ0ZXh0aWxlc1wiXSxcbiAgICBcIlRQVVwiOiBbXCJUZW5zb3IgUHJvY2Vzc2luZyBVbml0XCIsIFwiZWxlY3Ryb25pYyBwYXJ0c1wiXSxcbiAgICBcIlRSQVwiOiBbXCJBdWRpbyBUcmFuc21pdHRlclwiLCBcImVsZWN0cm9uaWMgcGFydHNcIl0sXG4gICAgXCJUUk5cIjogW1wiQWR2YW5jZWQgVHJhbnNpc3RvclwiLCBcImVsZWN0cm9uaWMgcGllY2VzXCJdLFxuICAgIFwiVFJVXCI6IFtcIlRydXNzXCIsIFwiY29uc3RydWN0aW9uIHBhcnRzXCJdLFxuICAgIFwiVFNcIjogW1wiVGVjdG9zaWxpc2l0ZVwiLCBcIm1pbmVyYWxzXCJdLFxuICAgIFwiVFNIXCI6IFtcIlRoZXJtYWwgU2hpZWxkaW5nXCIsIFwiY29uc3RydWN0aW9uIHBhcnRzXCJdLFxuICAgIFwiVFVCXCI6IFtcIlRlc3QgVHViZXNcIiwgXCJtZWRpY2FsIGVxdWlwbWVudFwiXSxcbiAgICBcIlVUU1wiOiBbXCJVbml2ZXJzYWwgVG9vbHNldFwiLCBcInV0aWxpdHlcIl0sXG4gICAgXCJWQ0JcIjogW1wiSGlnaC12b2x1bWUgQ2FyZ28gQmF5IEtpdFwiLCBcInNoaXAga2l0c1wiXSxcbiAgICBcIlZFR1wiOiBbXCJUcmlnbHljZXJpZGUgRnJ1aXRzXCIsIFwiYWdyaWN1bHR1cmFsIHByb2R1Y3RzXCJdLFxuICAgIFwiVkdcIjogW1wiVml0YUdlbFwiLCBcImNvbnN1bWFibGVzIChsdXh1cnkpXCJdLFxuICAgIFwiVklUXCI6IFtcIlZpdGEgRXNzZW5jZVwiLCBcImFncmljdWx0dXJhbCBwcm9kdWN0c1wiXSxcbiAgICBcIlZTQ1wiOiBbXCJWZXJ5IFNtYWxsIENhcmdvIEJheSBLaXRcIiwgXCJzaGlwIGtpdHNcIl0sXG4gICAgXCJXXCI6IFtcIlR1bmdzdGVuXCIsIFwibWV0YWxzXCJdLFxuICAgIFwiV0FJXCI6IFtcIldlYWsgQXJ0aWZpY2lhbCBJbnRlbGxpZ2VuY2VcIiwgXCJzb2Z0d2FyZSBzeXN0ZW1zXCJdLFxuICAgIFwiV0FMXCI6IFtcIkFscGhhLVN0YWJpbGl6ZWQgVHVuZ3N0ZW5cIiwgXCJhbGxveXNcIl0sXG4gICAgXCJXQ0JcIjogW1wiSGlnaC1sb2FkIENhcmdvIEJheSBLaXRcIiwgXCJzaGlwIGtpdHNcIl0sXG4gICAgXCJXSU5cIjogW1wiU21hcnQgWmluZmFuZGVsXCIsIFwiY29uc3VtYWJsZXMgKGx1eHVyeSlcIl0sXG4gICAgXCJXTVwiOiBbXCJXaW5kb3cgTWFuYWdlclwiLCBcInNvZnR3YXJlIGNvbXBvbmVudHNcIl0sXG4gICAgXCJXT1JcIjogW1wiSGFuZGNyYWZ0IFdvcmtzaG9wIFVuaXRcIiwgXCJ1bml0IHByZWZhYnNcIl0sXG4gICAgXCJXUlwiOiBbXCJXYXRlciBSZWNsYWltZXJcIiwgXCJlbGVjdHJvbmljIHN5c3RlbXNcIl0sXG4gICAgXCJXU1wiOiBbXCJTY2llbnRpZmljIFdvcmsgU3RhdGlvblwiLCBcImNvbnN1bWFibGVzIChiYXNpYylcIl0sXG4gICAgXCJaSVJcIjogW1wiWmlyY29uIENyeXN0YWxzXCIsIFwibWluZXJhbHNcIl0sXG4gICAgXCJaUlwiOiBbXCJaaXJjb25pdW1cIiwgXCJlbGVtZW50c1wiXSxcbn07XG5leHBvcnQgY29uc3QgTWF0ZXJpYWxzID0ge1xuICAgIFwiQW50ZW5uYSBBcnJheVwiOiBbXCJBQVJcIiwgMC43OCwgMC41XSxcbiAgICBcIkFkdmFuY2VkIEJ1bGtoZWFkXCI6IFtcIkFCSFwiLCAwLjYsIDAuOV0sXG4gICAgXCJBdXRvbWF0ZWQgQ29vbGluZyBTeXN0ZW1cIjogW1wiQUNTXCIsIDAuMywgMC4yXSxcbiAgICBcIkFkdmFuY2VkIERlY2sgRWxlbWVudHNcIjogW1wiQURFXCIsIDAuNCwgMS41XSxcbiAgICBcIkF1dG8tRG9jXCI6IFtcIkFEUlwiLCAwLjEsIDAuMV0sXG4gICAgXCJBdWRpbyBEaXN0cmlidXRpb24gU3lzdGVtXCI6IFtcIkFEU1wiLCAwLjcsIDJdLFxuICAgIFwiQWVyb3N0YXQgRm91bmRhdGlvblwiOiBbXCJBRUZcIiwgMiwgNV0sXG4gICAgXCJBZHZhbmNlZCBTVEwgRW5naW5lXCI6IFtcIkFFTlwiLCAxNCwgN10sXG4gICAgXCJBZHZhbmNlZCBGdWVsIFB1bXBcIjogW1wiQUZQXCIsIDEsIDAuMjVdLFxuICAgIFwiQWR2YW5jZWQgRnVlbCBSb2RcIjogW1wiQUZSXCIsIDAuNCwgMC4xXSxcbiAgICBcIkFkdmFuY2VkIEhpZ2gtRyBTZWF0c1wiOiBbXCJBR1NcIiwgMzAsIDVdLFxuICAgIFwiQWR2YW5jZWQgSHVsbCBQbGF0ZVwiOiBbXCJBSFBcIiwgMjAsIDEwXSxcbiAgICBcIkFpciBTY3J1YmJlclwiOiBbXCJBSVJcIiwgMS43LCAzXSxcbiAgICBcIkFsdW1pbml1bVwiOiBbXCJBTFwiLCAyLjcsIDFdLFxuICAgIFwiU3RlbGxhciBQYWxlIEFsZVwiOiBbXCJBTEVcIiwgMC4xLCAwLjFdLFxuICAgIFwiUHJvdGVpbi1SaWNoIEFsZ2FlXCI6IFtcIkFMR1wiLCAwLjcsIDFdLFxuICAgIFwiQWx1bWluaXVtIE9yZVwiOiBbXCJBTE9cIiwgMS4zNSwgMV0sXG4gICAgXCJBbW1vbmlhXCI6IFtcIkFNTVwiLCAwLjg2LCAxXSxcbiAgICBcIkFkdmFuY2VkIE5venpsZVwiOiBbXCJBTlpcIiwgNiwgM10sXG4gICAgXCJBZHZhbmNlZCBUaGVybWFsIFByb3RlY3Rpb24gVGlsZVwiOiBbXCJBUFRcIiwgMC4wMywgMC4zXSxcbiAgICBcIkFyZ29uXCI6IFtcIkFSXCIsIDEuNzg0LCAxXSxcbiAgICBcIkFkdmFuY2VkIEFudGktcmFkIFBsYXRlXCI6IFtcIkFSUFwiLCAwLjA0LCAwLjJdLFxuICAgIFwiQWR2YW5jZWQgU3RydWN0dXJhbCBFbGVtZW50c1wiOiBbXCJBU0VcIiwgMC41LCAwLjZdLFxuICAgIFwiQWxwaGEtU3RhYmlsaXplZCBUaXRhbml1bVwiOiBbXCJBU1RcIiwgNC45OCwgMV0sXG4gICAgXCJBZHZhbmNlZCBUcmFuc3BhcmVudCBBcGVydHVyZVwiOiBbXCJBVEFcIiwgMC4zLCAwLjRdLFxuICAgIFwiQWR2YW5jZWQgVGhlcm1hbCBQcm90ZWN0aW9uIE1hdGVyaWFsXCI6IFtcIkFUUFwiLCAyLjksIDFdLFxuICAgIFwiR29sZFwiOiBbXCJBVVwiLCAxOS4zMiwgMV0sXG4gICAgXCJHb2xkIE9yZVwiOiBbXCJBVU9cIiwgMy44NiwgMV0sXG4gICAgXCJBY3RpdmUgV2F0ZXIgRmlsdGVyXCI6IFtcIkFXRlwiLCAwLjgsIDEuMl0sXG4gICAgXCJBZHZhbmNlZCBXaGlwcGxlIFNoaWVsZGluZ1wiOiBbXCJBV0hcIiwgMC4xMiwgMV0sXG4gICAgXCJIZWxwZnVsIEJhY3RlcmlhXCI6IFtcIkJBQ1wiLCAwLjE1LCAwLjE1XSxcbiAgICBcIkJhc2ljIEFJIEZyYW1ld29ya1wiOiBbXCJCQUlcIiwgMC4wMDEsIDAuMDFdLFxuICAgIFwiQmFzaWMgQnVsa2hlYWRcIjogW1wiQkJIXCIsIDAuNSwgMC44XSxcbiAgICBcIkJ1ZGdldCBDb25uZWN0b3JzXCI6IFtcIkJDT1wiLCAwLjAwNSwgMC4wMDJdLFxuICAgIFwiQmFzaWMgRGVjayBFbGVtZW50c1wiOiBbXCJCREVcIiwgMC4xLCAxLjVdLFxuICAgIFwiQmVyeWxsaXVtXCI6IFtcIkJFXCIsIDEuODQsIDFdLFxuICAgIFwiUHJvdGVpbi1SaWNoIEJlYW5zXCI6IFtcIkJFQVwiLCAwLjgsIDFdLFxuICAgIFwiQmVyeWwgQ3J5c3RhbHNcIjogW1wiQkVSXCIsIDEuOTIsIDFdLFxuICAgIFwiQmFzaWMgRnVlbCBQdW1wXCI6IFtcIkJGUFwiLCAwLjgsIDAuMl0sXG4gICAgXCJCYXNpYyBGdWVsIFJvZFwiOiBbXCJCRlJcIiwgMC4zLCAwLjFdLFxuICAgIFwiU2hpZWxkZWQgQ29ubmVjdG9yc1wiOiBbXCJCR0NcIiwgMC4wMSwgMC4wMDJdLFxuICAgIFwiQmx1ZSBHb2xkXCI6IFtcIkJHT1wiLCAxOS4zMiwgMV0sXG4gICAgXCJCYXNpYyBIaWdoLUcgU2VhdHNcIjogW1wiQkdTXCIsIDIwLCAzXSxcbiAgICBcIkJhc2ljIEh1bGwgUGxhdGVcIjogW1wiQkhQXCIsIDEwLCAxMF0sXG4gICAgXCJGdWxsLUJvZHkgSW50ZXJhY3Rpb24gRGV2aWNlXCI6IFtcIkJJRFwiLCAwLjA1LCAwLjA1XSxcbiAgICBcIkJyZWF0aGFibGUgTGlxdWlkXCI6IFtcIkJMXCIsIDEuMTIsIDFdLFxuICAgIFwiRGVzYXR1cmF0aW9uIEFnZW50XCI6IFtcIkJMRVwiLCAwLjUsIDAuNV0sXG4gICAgXCJCYXNpYyBNYWluZnJhbWVcIjogW1wiQk1GXCIsIDAuOCwgMS4yXSxcbiAgICBcIkJhbmRhZ2VzXCI6IFtcIkJORFwiLCAwLjAwMSwgMC4wMDVdLFxuICAgIFwiQm9yb24gQ3J5c3RhbHNcIjogW1wiQk9SXCIsIDEuOCwgMV0sXG4gICAgXCJCb3Jvc2lsaWNhdGVcIjogW1wiQk9TXCIsIDEuNSwgMV0sXG4gICAgXCJCYXNpYyBUaGVybWFsIFByb3RlY3Rpb24gVGlsZVwiOiBbXCJCUFRcIiwgMC4wMiwgMC4zXSxcbiAgICBcIkNvbW1hbmQgQnJpZGdlIE1LMVwiOiBbXCJCUjFcIiwgMTgwLCAzMDBdLFxuICAgIFwiQ29tbWFuZCBCcmlkZ2UgTUsyXCI6IFtcIkJSMlwiLCAyODAsIDQwMF0sXG4gICAgXCJCaW9yZWFjdGl2ZSBNaW5lcmFsc1wiOiBbXCJCUk1cIiwgMi41LCAxXSxcbiAgICBcIkJyb256ZVwiOiBbXCJCUk9cIiwgOC43MywgMV0sXG4gICAgXCJCYXNpYyBBbnRpLXJhZCBQbGF0ZVwiOiBbXCJCUlBcIiwgMC4wMywgMC4yXSxcbiAgICBcIlNob3J0LWRpc3RhbmNlIENvbW1hbmQgQnJpZGdlXCI6IFtcIkJSU1wiLCAxNTAsIDIwMF0sXG4gICAgXCJCb2R5IFNjYW5uZXJcIjogW1wiQlNDXCIsIDAuMSwgMC4xXSxcbiAgICBcIkJhc2ljIFN0cnVjdHVyYWwgRWxlbWVudHNcIjogW1wiQlNFXCIsIDAuMywgMC41XSxcbiAgICBcIkJhc2ljIFRyYW5zcGFyZW50IEFwZXJ0dXJlXCI6IFtcIkJUQVwiLCAwLjMsIDAuNF0sXG4gICAgXCJCYWN0ZXJpYWwgVHVuZ3N0ZW4gU29sdXRpb25cIjogW1wiQlRTXCIsIDEuMDUsIDFdLFxuICAgIFwiQmFzaWMgV2hpcHBsZSBTaGllbGRpbmdcIjogW1wiQldIXCIsIDAuMSwgMV0sXG4gICAgXCJCYXNpYyBXb3Jrc3RhdGlvblwiOiBbXCJCV1NcIiwgMC4wNSwgMC4xXSxcbiAgICBcIkNhcmJvblwiOiBbXCJDXCIsIDIuMjUsIDFdLFxuICAgIFwiQ2FsY2l1bVwiOiBbXCJDQVwiLCAxLjU0LCAxXSxcbiAgICBcIkNhZmZlaW5hdGVkIEJlYW5zXCI6IFtcIkNBRlwiLCAwLjg2LCAxXSxcbiAgICBcIkVsZWN0cmljIEZpZWxkIENhcGFjaXRvclwiOiBbXCJDQVBcIiwgMC4wMDEsIDAuMDAxXSxcbiAgICBcIkxhcmdlIENhcGFjaXRvciBCYW5rXCI6IFtcIkNCTFwiLCA1LjQsIDIuNF0sXG4gICAgXCJNZWRpdW0gQ2FwYWNpdG9yIEJhbmtcIjogW1wiQ0JNXCIsIDMuNiwgMS42XSxcbiAgICBcIlNtYWxsIENhcGFjaXRvciBCYW5rXCI6IFtcIkNCU1wiLCAxLjgsIDAuOF0sXG4gICAgXCJDbGltYXRlIENvbnRyb2xsZXJcIjogW1wiQ0NcIiwgMC41LCAxXSxcbiAgICBcIkNyb3dkIENvbnRyb2wgRHJvbmVcIjogW1wiQ0NEXCIsIDAuMywgMC4wNV0sXG4gICAgXCJDYXBhY2l0aXZlIERpc3BsYXlcIjogW1wiQ0RcIiwgMC4wMDQsIDAuMDAyXSxcbiAgICBcIkNlcmFtaWMgRmFicmljXCI6IFtcIkNGXCIsIDIuODIsIDFdLFxuICAgIFwiQ29tYnVzdGlvbiBDaGFtYmVyXCI6IFtcIkNIQVwiLCAxLjIsIDAuN10sXG4gICAgXCJDaGxvcmluZVwiOiBbXCJDTFwiLCAzLjIsIDFdLFxuICAgIFwiQ2FsaWNoZSBSb2NrXCI6IFtcIkNMSVwiLCAyLjQyLCAxXSxcbiAgICBcIlwiOiBbXCJDTUtcIiwgNC41NiwgMzMuMl0sXG4gICAgXCJDYWZmZWluYXRlZCBJbmZ1c2lvblwiOiBbXCJDT0ZcIiwgMC4xLCAwLjFdLFxuICAgIFwiQ29tbXVuaWNhdGlvbiBTeXN0ZW1cIjogW1wiQ09NXCIsIDAuNSwgMS41XSxcbiAgICBcIkNvdHRvbiBGYWJyaWNcIjogW1wiQ09UXCIsIDAuNzcsIDFdLFxuICAgIFwiQ3JldyBRdWFydGVycyAoTGFyZ2UpXCI6IFtcIkNRTFwiLCA3NSwgMTUwXSxcbiAgICBcIkNyZXcgUXVhcnRlcnMgKE1lZGl1bSlcIjogW1wiQ1FNXCIsIDUwLCAxMDBdLFxuICAgIFwiQ3JldyBRdWFydGVycyAoU21hbGwpXCI6IFtcIkNRU1wiLCAyNSwgNTBdLFxuICAgIFwiQ3JldyBRdWFydGVycyAoVGlueSlcIjogW1wiQ1FUXCIsIDEyLjUsIDI1XSxcbiAgICBcIkNyeW9nZW5pYyBVbml0XCI6IFtcIkNSVVwiLCAyLjIsIDJdLFxuICAgIFwiQ3J5b2dlbmljIFN0YWJpbGl6ZXJcIjogW1wiQ1NUXCIsIDEuMTQsIDFdLFxuICAgIFwiQ2VyYW1pYy1UdW5nc3RlbiBGYWJyaWNcIjogW1wiQ1RGXCIsIDQuMzIsIDFdLFxuICAgIFwiQ29wcGVyXCI6IFtcIkNVXCIsIDguOTIsIDFdLFxuICAgIFwiQ29wcGVyIE9yZVwiOiBbXCJDVU9cIiwgNC4wMSwgMV0sXG4gICAgXCJEYXRhIEFuYWx5emVyXCI6IFtcIkRBXCIsIDAuMDAxLCAwLjAxXSxcbiAgICBcIkRyb25lIENoYXNzaXNcIjogW1wiRENIXCIsIDAuMiwgMC4wM10sXG4gICAgXCJEdXJhYmxlIENhc2luZyBMXCI6IFtcIkRDTFwiLCAwLjA4LCAwLjhdLFxuICAgIFwiRHVyYWJsZSBDYXNpbmcgTVwiOiBbXCJEQ01cIiwgMC4wNCwgMC40XSxcbiAgICBcIkR1cmFibGUgQ2FzaW5nIFNcIjogW1wiRENTXCIsIDAuMDEsIDAuMV0sXG4gICAgXCJEaXN0cmlidXRlZCBEYXRhYmFzZVwiOiBbXCJERFwiLCAwLjAwMSwgMC4wMV0sXG4gICAgXCJERFQgUGxhbnQgQWdlbnRcIjogW1wiRERUXCIsIDAuMTEsIDAuMV0sXG4gICAgXCJEZWNvcmF0aXZlIEVsZW1lbnRzXCI6IFtcIkRFQ1wiLCAwLjUsIDJdLFxuICAgIFwiSW5mb3JtYXRpb24gRGlzcGxheVwiOiBbXCJESVNcIiwgMC4wMiwgMC4wMl0sXG4gICAgXCJEcm9uZSBPcGVyYXRpb25zIFVuaXRcIjogW1wiRE9VXCIsIDUsIDRdLFxuICAgIFwiRHJvbmUgRnJhbWVcIjogW1wiRFJGXCIsIDAuMSwgMC4wMl0sXG4gICAgXCJEYXRhIFZpc3VhbGl6ZXJcIjogW1wiRFZcIiwgMC4wMDEsIDAuMDFdLFxuICAgIFwiRHJpbmtpbmcgV2F0ZXJcIjogW1wiRFdcIiwgMC4xLCAwLjFdLFxuICAgIFwiRW50ZXJ0YWlubWVudCBEYXRhIENvcmVcIjogW1wiRURDXCIsIDAuMDAxLCAwLjAxXSxcbiAgICBcIkVucmljaGVkIEVpbnN0ZWluaXVtXCI6IFtcIkVFU1wiLCA5LjIsIDFdLFxuICAgIFwiU3RhbmRhcmQgU1RMIEVuZ2luZVwiOiBbXCJFTkdcIiwgOCwgNF0sXG4gICAgXCJFcG94eSBSZXNpblwiOiBbXCJFUE9cIiwgMC4wNCwgMC4wMl0sXG4gICAgXCJFaW5zdGVpbml1bVwiOiBbXCJFU1wiLCAwLjg4LCAwLjFdLFxuICAgIFwiRW5yaWNoZWQgVGVjaG5ldGl1bVwiOiBbXCJFVENcIiwgNC4xLCAxXSxcbiAgICBcIkV4b3NrZWxldG9uIFdvcmsgU3VpdFwiOiBbXCJFWE9cIiwgMC4xLCAwLjA1XSxcbiAgICBcIkZsdW9yaW5lXCI6IFtcIkZcIiwgMS42OTYsIDFdLFxuICAgIFwiRmVycm9taW5pdW1cIjogW1wiRkFMXCIsIDMuMjIsIDFdLFxuICAgIFwiQWN0aXZlIENvb2xpbmcgRGV2aWNlXCI6IFtcIkZBTlwiLCAwLjEsIDAuMV0sXG4gICAgXCJGbG93IENvbnRyb2wgRGV2aWNlXCI6IFtcIkZDXCIsIDAuNSwgMC4yNV0sXG4gICAgXCJJcm9uXCI6IFtcIkZFXCIsIDcuODc0LCAxXSxcbiAgICBcIklyb24gT3JlXCI6IFtcIkZFT1wiLCA1LjksIDFdLFxuICAgIFwiRmVycm8tVGl0YW5pdW1cIjogW1wiRkVUXCIsIDYuODUsIDFdLFxuICAgIFwiRlRMIEZ1ZWxcIjogW1wiRkZcIiwgMC4wNSwgMC4wMV0sXG4gICAgXCJGVEwgRmllbGQgQ29udHJvbGxlclwiOiBbXCJGRkNcIiwgNTAsIDE2XSxcbiAgICBcIkZsYXZvdXJlZCBJbnN0YS1NZWFsXCI6IFtcIkZJTVwiLCAwLjU1LCAwLjVdLFxuICAgIFwiRmlzc2lvbiBSZWFjdG9yXCI6IFtcIkZJUlwiLCA3LCA0LjldLFxuICAgIFwiRmxvYXRpbmcgVGFua1wiOiBbXCJGTE9cIiwgMSwgMl0sXG4gICAgXCJGbHVpZCBQaXBpbmdcIjogW1wiRkxQXCIsIDAuMywgMl0sXG4gICAgXCJGbHV4XCI6IFtcIkZMWFwiLCAwLjI1LCAwLjFdLFxuICAgIFwiQWxsLVB1cnBvc2UgRm9kZGVyXCI6IFtcIkZPRFwiLCAxLjIsIDFdLFxuICAgIFwiRnVlbC1zYXZpbmcgU1RMIEVuZ2luZVwiOiBbXCJGU0VcIiwgNiwgM10sXG4gICAgXCJFbnRlcnRhaW5tZW50IFVuaXRcIjogW1wiRlVOXCIsIDUsIDRdLFxuICAgIFwiR2FsZXJpdGUgUm9ja1wiOiBbXCJHQUxcIiwgMi41MSwgMV0sXG4gICAgXCJDeWxpbmRyaWNhbCBHYXMgQ29udGFpbmVyXCI6IFtcIkdDXCIsIDAuMDUsIDAuMV0sXG4gICAgXCJHbGFzcyBDb21idXN0aW9uIENoYW1iZXJcIjogW1wiR0NIXCIsIDEsIDAuNl0sXG4gICAgXCJHbGFzcy1iYXNlZCBTVEwgRW5naW5lXCI6IFtcIkdFTlwiLCA1LCAzXSxcbiAgICBcIkVpbnN0ZWluaXVtLUluZnVzZWQgR2luXCI6IFtcIkdJTlwiLCAwLjEsIDAuMV0sXG4gICAgXCJHbGFzc1wiOiBbXCJHTFwiLCAwLjAxNiwgMC4wMV0sXG4gICAgXCJHbGFzcyBOb3p6bGVcIjogW1wiR05aXCIsIDEuNSwgMV0sXG4gICAgXCJXaW5lLVF1YWxpdHkgR3JhcGVzXCI6IFtcIkdSQVwiLCAxLjEsIDFdLFxuICAgIFwiSGlnaC1DYXJiIEdyYWluc1wiOiBbXCJHUk5cIiwgMC45LCAxXSxcbiAgICBcIkdhcyBWZW50XCI6IFtcIkdWXCIsIDAuMjUsIDAuMTVdLFxuICAgIFwiSHlkcm9nZW5cIjogW1wiSFwiLCAwLjA3LCAxXSxcbiAgICBcIldhdGVyXCI6IFtcIkgyT1wiLCAwLjIsIDAuMl0sXG4gICAgXCJIYWJpdGF0IFVuaXRcIjogW1wiSEFCXCIsIDEwLCA4XSxcbiAgICBcIkhhbGl0ZSBDcnlzdGFsc1wiOiBbXCJIQUxcIiwgMi4xNywgMV0sXG4gICAgXCJIaWdoLUNhcGFjaXR5IENvbm5lY3RvcnNcIjogW1wiSENDXCIsIDAuMDEsIDAuMDAyXSxcbiAgICBcIkh5ZHJvY2FyYm9uIFBsYW50c1wiOiBbXCJIQ1BcIiwgMC44LCAxXSxcbiAgICBcIkhvbG9ncmFwaGljIERpc3BsYXlcIjogW1wiSERcIiwgMC4wNSwgMl0sXG4gICAgXCJIZWxpdW1cIjogW1wiSEVcIiwgMC4xNDUsIDFdLFxuICAgIFwiSGVsaXVtLTMgSXNvdG9wZVwiOiBbXCJIRTNcIiwgMC4xNDUsIDFdLFxuICAgIFwiU3BpY3kgSGVyYnNcIjogW1wiSEVSXCIsIDAuNCwgMV0sXG4gICAgXCJIZWxpb3Ryb3BlIEV4dHJhY3RcIjogW1wiSEVYXCIsIDEuMSwgMV0sXG4gICAgXCJIYXJkZW5lZCBIdWxsIFBsYXRlXCI6IFtcIkhIUFwiLCAxNSwgMTBdLFxuICAgIFwiSGF6TWF0IFdvcmsgU3VpdFwiOiBbXCJITVNcIiwgMC4wNSwgMC4wNV0sXG4gICAgXCJIeXBlcnRocnVzdCBOb3p6bGVcIjogW1wiSE5aXCIsIDYsIDEyXSxcbiAgICBcIkhvbG9ncmFwaGljIEdsYXNzZXNcIjogW1wiSE9HXCIsIDAuMDEsIDAuMDFdLFxuICAgIFwiRmxvd2VyeSBIb3BzXCI6IFtcIkhPUFwiLCAwLjM1LCAxXSxcbiAgICBcIkhhbmRoZWxkIFBlcnNvbmFsIENvbnNvbGVcIjogW1wiSFBDXCIsIDAuMDAzLCAwLjAwM10sXG4gICAgXCJIaWdoLXBvd2VyIEZUTCBSZWFjdG9yXCI6IFtcIkhQUlwiLCAxOCwgMTVdLFxuICAgIFwiSGFyZGVuZWQgU3RydWN0dXJhbCBFbGVtZW50c1wiOiBbXCJIU0VcIiwgMy4xLCAwLjddLFxuICAgIFwiU21hcnQgU3BhY2UgU3VpdFwiOiBbXCJIU1NcIiwgMC4wNSwgMC4wNV0sXG4gICAgXCJIeXBlcnRocnVzdCBTVEwgRW5naW5lXCI6IFtcIkhURVwiLCAyMCwgMTBdLFxuICAgIFwiSHlwZXItcG93ZXIgUmVhY3RvclwiOiBbXCJIWVJcIiwgMzUsIDI1XSxcbiAgICBcIklvZGluZVwiOiBbXCJJXCIsIDQuOTMsIDFdLFxuICAgIFwiSW5mb3JtYXRpb24gRGF0YSBDb3JlXCI6IFtcIklEQ1wiLCAwLjAwMSwgMC4wMV0sXG4gICAgXCJJbmZvcm1hdGlvbiBNYW5hZ2VtZW50IFN5c3RlbVwiOiBbXCJJTU1cIiwgMC4wMDEsIDAuMDFdLFxuICAgIFwiSW5kaWdvIENvbG9yYW50XCI6IFtcIklORFwiLCAwLjIxLCAwLjJdLFxuICAgIFwiSW5zdUZvYW1cIjogW1wiSU5TXCIsIDAuMDYsIDAuMV0sXG4gICAgXCJTZWRhdGl2ZSBTdWJzdGFuY2VcIjogW1wiSlVJXCIsIDEuMiwgMV0sXG4gICAgXCJLb21idWNoYVwiOiBbXCJLT01cIiwgMC4xLCAwLjFdLFxuICAgIFwiS2V2bGFyIEZhYnJpY1wiOiBbXCJLVlwiLCAxLjY1LCAxXSxcbiAgICBcIkxpZ2h0d2VpZ2h0IEJ1bGtoZWFkXCI6IFtcIkxCSFwiLCAwLjIsIDAuNl0sXG4gICAgXCJBSS1Bc3Npc3RlZCBMYWIgQ29hdFwiOiBbXCJMQ1wiLCAwLjA1LCAwLjA1XSxcbiAgICBcIkxhcmdlIENhcmdvIEJheSBLaXRcIjogW1wiTENCXCIsIDIwMCwgMjAwXSxcbiAgICBcIkxpcXVpZCBDcnlzdGFsc1wiOiBbXCJMQ1JcIiwgMC4xNSwgMC4xXSxcbiAgICBcIkxvY2FsIERhdGFiYXNlXCI6IFtcIkxEXCIsIDAuMDAxLCAwLjAxXSxcbiAgICBcIkxpZ2h0d2VpZ2h0IERlY2sgRWxlbWVudHNcIjogW1wiTERFXCIsIDAuMSwgMS4yXSxcbiAgICBcIkxhc2VyIERpb2Rlc1wiOiBbXCJMRElcIiwgMC4wMDEsIDAuMDAxXSxcbiAgICBcIkxpcXVpZCBFaW5zdGVpbml1bVwiOiBbXCJMRVNcIiwgOC44NCwgMV0sXG4gICAgXCJMYXJnZSBGVEwgRW1pdHRlclwiOiBbXCJMRkVcIiwgMC40LCAxLjZdLFxuICAgIFwiTGFyZ2UgRlRMIEZ1ZWwgVGFuayBLaXRcIjogW1wiTEZMXCIsIDYwLCAxMF0sXG4gICAgXCJMb3ctaGVhdCBGdWVsIFB1bXBcIjogW1wiTEZQXCIsIDAuNSwgMC4xXSxcbiAgICBcIkxpZ2h0d2VpZ2h0IEh1bGwgUGxhdGVcIjogW1wiTEhQXCIsIDUsIDEwXSxcbiAgICBcIkxpdGhpdW1cIjogW1wiTElcIiwgMC41NSwgMV0sXG4gICAgXCJMaXRoaXVtIE9yZVwiOiBbXCJMSU9cIiwgMi43NSwgMV0sXG4gICAgXCJMaWZlIFN1cHBvcnQgU3lzdGVtXCI6IFtcIkxJU1wiLCA1LjYsIDddLFxuICAgIFwiTmVvbiBMaWdodGluZyBTeXN0ZW1cIjogW1wiTElUXCIsIDEsIDJdLFxuICAgIFwiTG9naXN0aWNzIFN5c3RlbVwiOiBbXCJMT0dcIiwgMC41LCAxLjVdLFxuICAgIFwiTGlnaHR3ZWlnaHQgU3RydWN0dXJhbCBFbGVtZW50c1wiOiBbXCJMU0VcIiwgMC4zLCAxLjJdLFxuICAgIFwiTGFyZ2UgU1RMIEZ1ZWwgVGFuayBLaXRcIjogW1wiTFNMXCIsIDEyNSwgMTAwXSxcbiAgICBcIkxpbWVzdG9uZVwiOiBbXCJMU1RcIiwgMi43MywgMV0sXG4gICAgXCJMaWdodHdlaWdodCBUcmFuc3BhcmVudCBBcGVydHVyZVwiOiBbXCJMVEFcIiwgMC4zLCAwLjVdLFxuICAgIFwiTGFib3JhdG9yeSBVbml0XCI6IFtcIkxVXCIsIDgsIDZdLFxuICAgIFwiTWFnbmV0aXRlXCI6IFtcIk1BR1wiLCA1LjE1LCAxXSxcbiAgICBcIkhpZ2gtQ2FyYiBNYWl6ZVwiOiBbXCJNQUlcIiwgMS4zLCAxXSxcbiAgICBcIk1vdGhlcmJvYXJkXCI6IFtcIk1CXCIsIDAuMDc1LCAwLjA3NV0sXG4gICAgXCJNZWRpdW0gQ2FyZ28gQmF5IEtpdFwiOiBbXCJNQ0JcIiwgMTAwLCAxMDBdLFxuICAgIFwiTWluZXJhbCBDb25zdHJ1Y3Rpb24gR3JhbnVsYXRlXCI6IFtcIk1DR1wiLCAwLjI0LCAwLjFdLFxuICAgIFwiUXVhbGl0eSBNZWF0IE1lYWxcIjogW1wiTUVBXCIsIDAuNiwgMC41XSxcbiAgICBcIkJhc2ljIE1lZGljYWwgS2l0XCI6IFtcIk1FRFwiLCAwLjMsIDAuMV0sXG4gICAgXCJNZWRpdW0gRlRMIEVtaXR0ZXJcIjogW1wiTUZFXCIsIDAuMiwgMC44XSxcbiAgICBcIk1lZGl1bSBGYXN0ZW5lciBLaXRcIjogW1wiTUZLXCIsIDAuMSwgMC4wNV0sXG4gICAgXCJNZWRpdW0gRlRMIEZ1ZWwgVGFuayBLaXRcIjogW1wiTUZMXCIsIDI0LCA0XSxcbiAgICBcIk1hZ25lc2l1bVwiOiBbXCJNR1wiLCAwLjI3LCAwLjE2XSxcbiAgICBcIk1hZ25ldGljIEdyb3VuZCBDb3ZlclwiOiBbXCJNR0NcIiwgMC42LCAwLjldLFxuICAgIFwiTWFnbmVzaXRlXCI6IFtcIk1HU1wiLCAxLjczLCAxXSxcbiAgICBcIk1ldGFsLUhhbGlkZSBMaWdodGluZyBTeXN0ZW1cIjogW1wiTUhMXCIsIDAuMSwgMC4wNV0sXG4gICAgXCJNaWNybyBIZWFkcGhvbmVzXCI6IFtcIk1IUFwiLCAwLjAwMSwgMC4wMDFdLFxuICAgIFwiTWFjaGluZSBMZWFybmluZyBJbnRlcmZhY2VcIjogW1wiTUxJXCIsIDAuMDAxLCAwLjAxXSxcbiAgICBcIk1pY3JvLVByb2Nlc3NvclwiOiBbXCJNUENcIiwgMC4wMDEsIDAuMDAxXSxcbiAgICBcIk1lZGl1bSBTVEwgRnVlbCBUYW5rIEtpdFwiOiBbXCJNU0xcIiwgNTAsIDUwXSxcbiAgICBcIk1lZ2FUdWJlIENvYXRpbmdcIjogW1wiTVRDXCIsIDAuMDMyLCAwLjAxXSxcbiAgICBcIk1lYXQgVGlzc3VlIFBhdHRpZXNcIjogW1wiTVRQXCIsIDAuNywgMV0sXG4gICAgXCJQcm90ZWluLVJpY2ggTXVzaHJvb21zXCI6IFtcIk1VU1wiLCAwLjgsIDFdLFxuICAgIFwiTWVkaXVtIFdhZmVyXCI6IFtcIk1XRlwiLCAwLjAwOCwgMC4wMDhdLFxuICAgIFwiTml0cm9nZW5cIjogW1wiTlwiLCAwLjgwNywgMV0sXG4gICAgXCJTb2RpdW1cIjogW1wiTkFcIiwgMC45NywgMV0sXG4gICAgXCJTb2RpdW0gQm9yb2h5ZHJpZGVcIjogW1wiTkFCXCIsIDAuMSwgMC4wNV0sXG4gICAgXCJOYW5vLUNhcmJvbiBTaGVldGluZ1wiOiBbXCJOQ1NcIiwgMC4wMjgsIDAuMDFdLFxuICAgIFwiTmVvblwiOiBbXCJORVwiLCAwLjksIDFdLFxuICAgIFwiTmV0d29ya2luZyBGcmFtZXdvcmtcIjogW1wiTkZcIiwgMC4wMDEsIDAuMDFdLFxuICAgIFwiTmFubyBGaWJlclwiOiBbXCJORklcIiwgMC4wMzIsIDAuMDFdLFxuICAgIFwiTmFuby1Db2F0ZWQgR2xhc3NcIjogW1wiTkdcIiwgMC4wMjIsIDAuMDFdLFxuICAgIFwiTnlsb24gRmFicmljXCI6IFtcIk5MXCIsIDEuMTMsIDFdLFxuICAgIFwiTmV1cmFsIE5ldHdvcmtcIjogW1wiTk5cIiwgMC4wMDEsIDAuMDFdLFxuICAgIFwiQmFzaWMgTm96emxlXCI6IFtcIk5PWlwiLCAzLCAxLjVdLFxuICAgIFwiTmFuby1FbmhhbmNlZCBSZXNpblwiOiBbXCJOUlwiLCAwLjA1LCAwLjA1XSxcbiAgICBcIk51dHJpZW50IFNvbHV0aW9uXCI6IFtcIk5TXCIsIDAuNiwgMC41XSxcbiAgICBcIk5ldXJvU3RpbXVsYW50c1wiOiBbXCJOU1RcIiwgMC4wNSwgMC4wNV0sXG4gICAgXCJUcmlnbHljZXJpZGUgTnV0c1wiOiBbXCJOVVRcIiwgMC45LCAxXSxcbiAgICBcIk5hdmlnYXRpb24gTW9kdWxlIE1LMVwiOiBbXCJOVjFcIiwgNC4yLCAyXSxcbiAgICBcIk5hdmlnYXRpb24gTW9kdWxlIE1LMlwiOiBbXCJOVjJcIiwgNi43LCAzXSxcbiAgICBcIk94eWdlblwiOiBbXCJPXCIsIDEuMTQxLCAxXSxcbiAgICBcIk9mZmljZSBTdXBwbGllc1wiOiBbXCJPRkZcIiwgMC4wMiwgMC4yXSxcbiAgICBcIk9sZmFjdG9yeSBTdWJzdGFuY2VzXCI6IFtcIk9MRlwiLCAwLjAxLCAwLjAwMV0sXG4gICAgXCJPcGVyYXRpbmcgU3lzdGVtXCI6IFtcIk9TXCIsIDAuMDAxLCAwLjAxXSxcbiAgICBcIkJhc2ljIE92ZXJhbGxzXCI6IFtcIk9WRVwiLCAwLjAyLCAwLjAyNV0sXG4gICAgXCJQcmludGVkIENpcmN1aXQgQm9hcmRcIjogW1wiUENCXCIsIDAuMDUsIDAuMDVdLFxuICAgIFwiUGVyc29uYWwgRGF0YSBBc3Npc3RhbnRcIjogW1wiUERBXCIsIDAuMDAyLCAwLjAwMl0sXG4gICAgXCJQb2x5LUV0aHlsZW5lXCI6IFtcIlBFXCIsIDAuMDEsIDAuMDFdLFxuICAgIFwiUHJlbWl1bSBGZXJ0aWxpemVyXCI6IFtcIlBGRVwiLCAwLjksIDFdLFxuICAgIFwiUG9seW1lciBHcmFudWxhdGVcIjogW1wiUEdcIiwgMC4wMDIsIDAuMDAxXSxcbiAgICBcIlBpbmViZXJyaWVzXCI6IFtcIlBJQlwiLCAwLjMsIDFdLFxuICAgIFwiUGFpbmtpbGxlcnNcIjogW1wiUEtcIiwgMC4wMDEsIDAuMDAxXSxcbiAgICBcIlBvd2VyIENlbGxcIjogW1wiUE9XXCIsIDAuMDUsIDAuMV0sXG4gICAgXCJQcm90ZWluIFBhc3RlXCI6IFtcIlBQQVwiLCAyLCAxXSxcbiAgICBcIlByZXNzdXJlIFNoaWVsZGluZ1wiOiBbXCJQU0hcIiwgNC4yLCAwLjhdLFxuICAgIFwiUG9seW1lciBTaGVldCBUeXBlIExcIjogW1wiUFNMXCIsIDAuMDgsIDAuOF0sXG4gICAgXCJQb2x5bWVyIFNoZWV0IFR5cGUgTVwiOiBbXCJQU01cIiwgMC4wNCwgMC40XSxcbiAgICBcIlBvbHltZXIgU2hlZXQgVHlwZSBTXCI6IFtcIlBTU1wiLCAwLjAxLCAwLjFdLFxuICAgIFwiUG93ZXIgVG9vbHNcIjogW1wiUFRcIiwgMC4yNSwgMC4yXSxcbiAgICBcIlBhZGRlZCBXb3JrIE92ZXJhbGxcIjogW1wiUFdPXCIsIDAuMDUsIDAuMDVdLFxuICAgIFwiUXVpY2stY2hhcmdlIEZUTCBSZWFjdG9yXCI6IFtcIlFDUlwiLCAxNCwgMTBdLFxuICAgIFwiUmFkaW8gRGV2aWNlXCI6IFtcIlJBRFwiLCAwLjAwMywgMC4wMDVdLFxuICAgIFwiUmFkaW9pc290b3BlIEdlbmVyYXRvclwiOiBbXCJSQUdcIiwgNSwgMy40XSxcbiAgICBcIk1lbW9yeSBCYW5rXCI6IFtcIlJBTVwiLCAwLjAwMSwgMC4wMDFdLFxuICAgIFwiQmFzaWMgUmF0aW9uc1wiOiBbXCJSQVRcIiwgMC4yMSwgMC4xXSxcbiAgICBcIlJlaW5mb3JjZWQgQnVsa2hlYWRcIjogW1wiUkJIXCIsIDIuNCwgMC45XSxcbiAgICBcIlJhdyBDb3R0b24gRmliZXJcIjogW1wiUkNPXCIsIDAuOTUsIDFdLFxuICAgIFwiUmVhY3RvciBDb250cm9sIFN5c3RlbVwiOiBbXCJSQ1NcIiwgMC42NywgMC41XSxcbiAgICBcIlN0YW5kYXJkIEZUTCBSZWFjdG9yXCI6IFtcIlJDVFwiLCA3LCA0XSxcbiAgICBcIlJlaW5mb3JjZWQgRGVjayBFbGVtZW50c1wiOiBbXCJSREVcIiwgMS40LCAxLjVdLFxuICAgIFwiTGFyZ2UgU2hpcC1SZXBhaXIgRHJvbmUgT3BlcmF0aW9ucyBVbml0XCI6IFtcIlJETFwiLCAxNTAsIDMwXSxcbiAgICBcIlNtYWxsIFNoaXAtUmVwYWlyIERyb25lIE9wZXJhdGlvbnMgVW5pdFwiOiBbXCJSRFNcIiwgNTAsIDEwXSxcbiAgICBcIkNoZW1pY2FsIFJlYWdlbnRzXCI6IFtcIlJFQVwiLCAwLjA1LCAwLjA1XSxcbiAgICBcIlJlc2N1ZSBEcm9uZVwiOiBbXCJSRURcIiwgMC4zLCAwLjA1XSxcbiAgICBcIlJlcGFpciBLaXRcIjogW1wiUkVQXCIsIDAuMDA2LCAwLjAwMl0sXG4gICAgXCJSZWluZm9yY2VkIEdsYXNzXCI6IFtcIlJHXCIsIDAuMDMyLCAwLjAxXSxcbiAgICBcIlJlZCBHb2xkXCI6IFtcIlJHT1wiLCAxOS4zMiwgMV0sXG4gICAgXCJSZWluZm9yY2VkIEh1bGwgUGxhdGVcIjogW1wiUkhQXCIsIDEyLCAxMF0sXG4gICAgXCJOb24tVm9sYXRpbGUgTWVtb3J5XCI6IFtcIlJPTVwiLCAwLjAwMSwgMC4wMDFdLFxuICAgIFwiUmVpbmZvcmNlZCBTdHJ1Y3R1cmFsIEVsZW1lbnRzXCI6IFtcIlJTRVwiLCAxLjksIDAuN10sXG4gICAgXCJSYWRpYXRpb24gU2hpZWxkaW5nXCI6IFtcIlJTSFwiLCAzLjcsIDAuOF0sXG4gICAgXCJSYXcgU2lsayBTdHJhaW5zXCI6IFtcIlJTSVwiLCAxLjEsIDFdLFxuICAgIFwiUmVpbmZvcmNlZCBUcmFuc3BhcmVudCBBcGVydHVyZVwiOiBbXCJSVEFcIiwgMS41LCAwLjVdLFxuICAgIFwiU3VsZnVyXCI6IFtcIlNcIiwgMC41MiwgMC4yNV0sXG4gICAgXCJTZWFyY2ggQWxnb3JpdGhtXCI6IFtcIlNBXCIsIDAuMDAxLCAwLjAxXSxcbiAgICBcIlNvcnRpbmcgQWxnb3JpdGhtXCI6IFtcIlNBTFwiLCAwLjAwMSwgMC4wMV0sXG4gICAgXCJTZW5zb3IgQXJyYXlcIjogW1wiU0FSXCIsIDEuNywgMl0sXG4gICAgXCJTdGVtIENlbGwgVHJlYXRtZW50XCI6IFtcIlNDXCIsIDAuMDQsIDAuMDFdLFxuICAgIFwiU21hbGwgQ2FyZ28gQmF5IEtpdFwiOiBbXCJTQ0JcIiwgNTAsIDUwXSxcbiAgICBcIk11bHRpLVB1cnBvc2UgU2Nhbm5lclwiOiBbXCJTQ05cIiwgMC4wMDEsIDAuMDAxXSxcbiAgICBcIlN1bGZ1ciBDcnlzdGFsc1wiOiBbXCJTQ1JcIiwgMi4wNSwgMV0sXG4gICAgXCJTdXJnaWNhbCBEcm9uZVwiOiBbXCJTRFJcIiwgMC4zLCAwLjA1XSxcbiAgICBcIlBvbHktU3VsZml0ZSBTZWFsYW50XCI6IFtcIlNFQVwiLCAwLjE1LCAwLjA3XSxcbiAgICBcIlNlbnNvclwiOiBbXCJTRU5cIiwgMC4wMDEsIDAuMDAxXSxcbiAgICBcIlN1cmdpY2FsIEVxdWlwbWVudFwiOiBbXCJTRVFcIiwgMC4wMDEsIDAuMDFdLFxuICAgIFwiU1RMIEZ1ZWxcIjogW1wiU0ZcIiwgMC4wNiwgMC4wNl0sXG4gICAgXCJTbWFsbCBGVEwgRW1pdHRlclwiOiBbXCJTRkVcIiwgMC4xLCAwLjRdLFxuICAgIFwiU21hbGwgRmFzdGVuZXIgS2l0XCI6IFtcIlNGS1wiLCAwLjA0LCAwLjAyXSxcbiAgICBcIlNtYWxsIEZUTCBGdWVsIFRhbmsgS2l0XCI6IFtcIlNGTFwiLCA5LCAxLjVdLFxuICAgIFwiU2lsaWNvblwiOiBbXCJTSVwiLCAyLjMyOSwgMV0sXG4gICAgXCJTaWxrZW4gRmFicmljXCI6IFtcIlNJTFwiLCAxLjIxLCAxXSxcbiAgICBcIlNpbGljb24gT3JlXCI6IFtcIlNJT1wiLCAxLjc5LCAxXSxcbiAgICBcIlNwYXRpYWwgTmF2aWdhdGlvbiBNYXBcIjogW1wiU05NXCIsIDAuMDAxLCAwLjAxXSxcbiAgICBcIkFydGlmaWNpYWwgU29pbFwiOiBbXCJTT0lcIiwgMC45LCAxXSxcbiAgICBcIlNvbGFyIENlbGxcIjogW1wiU09MXCIsIDAuMDE1LCAwLjAxXSxcbiAgICBcIlNvbGFyIFBhbmVsXCI6IFtcIlNQXCIsIDAuMTUsIDAuMV0sXG4gICAgXCJTaGlwLVJlcGFpciBEcm9uZVwiOiBbXCJTUkRcIiwgMC4zLCAwLjA1XSxcbiAgICBcIlNwZWNpYWxpemVkIEFudGktcmFkIFBsYXRlXCI6IFtcIlNSUFwiLCAwLjEsIDAuMl0sXG4gICAgXCJTdHJ1Y3R1cmFsIFNwYWNlY3JhZnQgQ29tcG9uZW50XCI6IFtcIlNTQ1wiLCAxLCAxXSxcbiAgICBcIlNtYWxsIFNUTCBGdWVsIFRhbmsgS2l0XCI6IFtcIlNTTFwiLCAyMCwgMjBdLFxuICAgIFwiU3RlZWxcIjogW1wiU1RMXCIsIDcuODUsIDFdLFxuICAgIFwiTWVkaWNhbCBTdHJldGNoZXJcIjogW1wiU1RSXCIsIDAuMDEsIDFdLFxuICAgIFwiU3RhYmlsaXR5IFN1cHBvcnQgU3lzdGVtXCI6IFtcIlNUU1wiLCAwLjEsIDAuMV0sXG4gICAgXCJTdXJnZXJ5IFVuaXRcIjogW1wiU1VcIiwgNiwgNV0sXG4gICAgXCJTdXJ2ZWlsbGFuY2UgRHJvbmVcIjogW1wiU1VEXCIsIDAuMywgMC4wNV0sXG4gICAgXCJTYWZldHkgVW5pZm9ybVwiOiBbXCJTVU5cIiwgMC4wNSwgMC4wNV0sXG4gICAgXCJTbWFsbCBXYWZlclwiOiBbXCJTV0ZcIiwgMC4wMDMsIDAuMDAzXSxcbiAgICBcIlRhbnRhbHVtXCI6IFtcIlRBXCIsIDE2LjY1LCAxXSxcbiAgICBcIlRhcmdldGluZyBDb21wdXRlclwiOiBbXCJUQUNcIiwgMC4xNSwgMV0sXG4gICAgXCJUYW50YWxpdGUgUm9ja1wiOiBbXCJUQUlcIiwgNy45NCwgMV0sXG4gICAgXCJUZWNobmV0aXVtXCI6IFtcIlRDXCIsIDExLjgsIDFdLFxuICAgIFwiVGlueSBDYXJnbyBCYXkgS2l0XCI6IFtcIlRDQlwiLCAyMCwgMjBdLFxuICAgIFwiVENMIEFjaWRcIjogW1wiVENMXCIsIDAuMDksIDAuMV0sXG4gICAgXCJUZWNobmV0aXVtIE94aWRlXCI6IFtcIlRDT1wiLCA5LjgsIDFdLFxuICAgIFwiU3RhYmlsaXplZCBUZWNobmV0aXVtXCI6IFtcIlRDU1wiLCAzLjQsIDEuMl0sXG4gICAgXCJUcmF1bWEgQ2FyZSBVbml0XCI6IFtcIlRDVVwiLCA1LCA0XSxcbiAgICBcIlRoZXJtb0ZsdWlkXCI6IFtcIlRIRlwiLCAwLjYsIDAuMzVdLFxuICAgIFwiQmFzaWMgVGhlcm1hbCBQcm90ZWN0aW9uIE1hdGVyaWFsXCI6IFtcIlRIUFwiLCAyLjIsIDFdLFxuICAgIFwiVGl0YW5pdW1cIjogW1wiVElcIiwgNC41LCAxXSxcbiAgICBcIlRpdGFuaXVtIE9yZVwiOiBbXCJUSU9cIiwgMS41OCwgMV0sXG4gICAgXCJUZWNobm9LZXZsYXIgRmFicmljXCI6IFtcIlRLXCIsIDEuODksIDFdLFxuICAgIFwiVGVuc29yIFByb2Nlc3NpbmcgVW5pdFwiOiBbXCJUUFVcIiwgMC4wMDIsIDAuMDAyXSxcbiAgICBcIkF1ZGlvIFRyYW5zbWl0dGVyXCI6IFtcIlRSQVwiLCAwLjAwNSwgMC4wMDJdLFxuICAgIFwiQWR2YW5jZWQgVHJhbnNpc3RvclwiOiBbXCJUUk5cIiwgMC4wMDEsIDAuMDAxXSxcbiAgICBcIlRydXNzXCI6IFtcIlRSVVwiLCAwLjEsIDEuNV0sXG4gICAgXCJUZWN0b3NpbGlzaXRlXCI6IFtcIlRTXCIsIDIuNCwgMV0sXG4gICAgXCJUaGVybWFsIFNoaWVsZGluZ1wiOiBbXCJUU0hcIiwgMi40LCAxLjVdLFxuICAgIFwiVGVzdCBUdWJlc1wiOiBbXCJUVUJcIiwgMC4wMDIsIDAuMDAyXSxcbiAgICBcIlVuaXZlcnNhbCBUb29sc2V0XCI6IFtcIlVUU1wiLCAwLjA1LCAwLjA1XSxcbiAgICBcIkhpZ2gtdm9sdW1lIENhcmdvIEJheSBLaXRcIjogW1wiVkNCXCIsIDIwMCwgMjAwXSxcbiAgICBcIlRyaWdseWNlcmlkZSBGcnVpdHNcIjogW1wiVkVHXCIsIDEuMSwgMV0sXG4gICAgXCJWaXRhR2VsXCI6IFtcIlZHXCIsIDAuMjEsIDAuMV0sXG4gICAgXCJWaXRhIEVzc2VuY2VcIjogW1wiVklUXCIsIDAuOSwgMV0sXG4gICAgXCJWZXJ5IFNtYWxsIENhcmdvIEJheSBLaXRcIjogW1wiVlNDXCIsIDM1LCAzNV0sXG4gICAgXCJUdW5nc3RlblwiOiBbXCJXXCIsIDcuNTE5LCAxXSxcbiAgICBcIldlYWsgQXJ0aWZpY2lhbCBJbnRlbGxpZ2VuY2VcIjogW1wiV0FJXCIsIDAuMDAxLCAwLjAxXSxcbiAgICBcIkFscGhhLVN0YWJpbGl6ZWQgVHVuZ3N0ZW5cIjogW1wiV0FMXCIsIDYuMjUsIDFdLFxuICAgIFwiSGlnaC1sb2FkIENhcmdvIEJheSBLaXRcIjogW1wiV0NCXCIsIDIwMCwgMjAwXSxcbiAgICBcIlNtYXJ0IFppbmZhbmRlbFwiOiBbXCJXSU5cIiwgMC4xLCAwLjFdLFxuICAgIFwiV2luZG93IE1hbmFnZXJcIjogW1wiV01cIiwgMC4wMDEsIDAuMDFdLFxuICAgIFwiSGFuZGNyYWZ0IFdvcmtzaG9wIFVuaXRcIjogW1wiV09SXCIsIDUsIDVdLFxuICAgIFwiV2F0ZXIgUmVjbGFpbWVyXCI6IFtcIldSXCIsIDYuNCwgNV0sXG4gICAgXCJTY2llbnRpZmljIFdvcmsgU3RhdGlvblwiOiBbXCJXU1wiLCAwLjA1LCAwLjVdLFxuICAgIFwiWmlyY29uIENyeXN0YWxzXCI6IFtcIlpJUlwiLCA0Ljg1LCAxXSxcbiAgICBcIlppcmNvbml1bVwiOiBbXCJaUlwiLCA2LjUzLCAxXSxcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9HYW1lUHJvcGVydGllcy50c1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBjbGVhckNoaWxkcmVuLCBjcmVhdGVGaW5hbmNpYWxUZXh0Qm94LCBjcmVhdGVUZXh0U3Bhbiwgc2V0U2V0dGluZ3MsIGdldExvY2FsU3RvcmFnZSwgY3JlYXRlVG9vbFRpcCwgY3JlYXRlU2VsZWN0T3B0aW9uLCBzaG93V2FybmluZ0RpYWxvZywgY3JlYXRlVGFibGUsIGRyYXdQaWVDaGFydCwgZHJhd0xpbmVDaGFydCwgc2hvd0J1ZmZlciwgZG93bmxvYWRGaWxlLCBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldCwgY3JlYXRlU21hbGxCdXR0b24gfSBmcm9tIFwiLi4vdXRpbFwiO1xuaW1wb3J0IHsgU3R5bGUsIFRleHRDb2xvcnMgfSBmcm9tIFwiLi4vU3R5bGVcIjtcbmltcG9ydCB7IEN1cnJlbmN5U3ltYm9scyB9IGZyb20gXCIuLi9HYW1lUHJvcGVydGllc1wiO1xuZXhwb3J0IGNsYXNzIEZpbmFuY2VzIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzLCBwbW1nU2V0dGluZ3MsIHVzZXJJbmZvLCB3ZWJEYXRhKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRklOQU5DRVNcIjtcbiAgICAgICAgdGhpcy50aWxlID0gdGlsZTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICAgICAgdGhpcy5wbW1nU2V0dGluZ3MgPSBwbW1nU2V0dGluZ3M7XG4gICAgICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbztcbiAgICAgICAgdGhpcy53ZWJEYXRhID0gd2ViRGF0YTtcbiAgICB9XG4gICAgY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzLnRpbGUpO1xuICAgICAgICBpZiAodGhpcy5wbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJyZWNvcmRpbmdfZmluYW5jaWFsc1wiXSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gXCJZb3UgYXJlIG5vdCByZWNvcmRpbmcgZGFpbHkgZmluYW5jaWFsIGRhdGEsIHdvdWxkIHlvdSBsaWtlIHRvIGVuYWJsZSByZWNvcmRpbmc/XCI7XG4gICAgICAgICAgICBoZWFkZXIuc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgIGhlYWRlci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgICAgICBjb25zdCBjaGVja2JveERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjaGVja2JveERpdi5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgIGNoZWNrYm94RGl2LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgICAgIGNoZWNrYm94RGl2LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgIGNoZWNrYm94RGl2LnN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjVweFwiO1xuICAgICAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKGNoZWNrYm94RGl2KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgY2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgICAgIGNoZWNrYm94LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICAgICAgY2hlY2tib3hEaXYuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSBcIkVuYWJsZSBSZWNvcmRpbmcgKFJlZnJlc2ggbmVlZGVkIHRvIHRha2UgZWZmZWN0KVwiO1xuICAgICAgICAgICAgbGFiZWwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgICAgICBsYWJlbC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjJweFwiO1xuICAgICAgICAgICAgY2hlY2tib3hEaXYuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgY29uc3QgZXhwbGFpbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBleHBsYWluRGl2LnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xuICAgICAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKGV4cGxhaW5EaXYpO1xuICAgICAgICAgICAgZXhwbGFpbkRpdi5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIlBNTUcgY2FuIHJlY29yZCB5b3VyIGZpbmFuY2VzICh1c2luZyBGSU8gZGF0YSkgdG8gcHJvdmlkZSBhIG1vcmUgYWNjdXJhdGUgZXN0aW1hdGUgdGhhbiB0aGUgaW4tZ2FtZSBGSU4gc2NyZWVuLiBUaGUgZGF0YSBpcyBwdWxsZWQgYXQgbW9zdCBldmVyeSAyNCBob3VycyBhbmQgaXMgc3RvcmVkIGxvY2FsbHkgbGlrZSB5b3VyIG90aGVyIHNldHRpbmdzLiBZb3UgY2FuIGFjY2VzcyBhbGwgdGhlIGluZm9ybWF0aW9uIGZyb20gdGhlIFhJVCBGSU4gYnVmZmVyLlwiKSk7XG4gICAgICAgICAgICBjb25zdCBwbW1nU2V0dGluZ3MgPSB0aGlzLnBtbWdTZXR0aW5ncztcbiAgICAgICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicmVjb3JkaW5nX2ZpbmFuY2lhbHNcIl0gPSBjaGVja2JveC5jaGVja2VkO1xuICAgICAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLUZpbmFuY2VcIiwgY2hvb3NlU2NyZWVuLCBbdGhpcy50aWxlLCB0aGlzLnBhcmFtZXRlcnMsIHRoaXMucG1tZ1NldHRpbmdzLCB0aGlzLndlYkRhdGEsIHRoaXMudXNlckluZm8sIHRoaXNdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVfYnVmZmVyKCkge1xuICAgIH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHtcbiAgICB9XG59XG5mdW5jdGlvbiBjaG9vc2VTY3JlZW4oZmluUmVzdWx0LCBwYXJhbXMpIHtcbiAgICBmaW5SZXN1bHQgPSBmaW5SZXN1bHRbXCJQTU1HLUZpbmFuY2VcIl07XG4gICAgaWYgKCFwYXJhbXNbMF0gfHwgIXBhcmFtc1sxXSB8fCAhcGFyYW1zWzJdIHx8ICFwYXJhbXNbM10pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0aWxlID0gcGFyYW1zWzBdO1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBwYXJhbXNbMV07XG4gICAgY29uc3QgcG1tZ1NldHRpbmdzID0gcGFyYW1zWzJdO1xuICAgIGNvbnN0IHdlYkRhdGEgPSBwYXJhbXNbM107XG4gICAgY29uc3QgdXNlckluZm8gPSBwYXJhbXNbNF07XG4gICAgY29uc3QgZmluT2JqID0gcGFyYW1zWzVdO1xuICAgIHZhciBDWCA9IFwiQUkxXCI7XG4gICAgdmFyIHByaWNlVHlwZSA9IFwiQXZlcmFnZVwiO1xuICAgIGlmIChwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJwcmljaW5nX3NjaGVtZVwiXSkge1xuICAgICAgICBjb25zdCBpbnRlcnByZXRlZCA9IGludGVycHJldENYKHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInByaWNpbmdfc2NoZW1lXCJdLCBwbW1nU2V0dGluZ3MpO1xuICAgICAgICBDWCA9IGludGVycHJldGVkWzBdO1xuICAgICAgICBwcmljZVR5cGUgPSBpbnRlcnByZXRlZFsxXTtcbiAgICB9XG4gICAgaWYgKCF1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiY3hfcHJpY2VzXCJdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3hQcmljZXMgPSB1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiY3hfcHJpY2VzXCJdW0NYXVtwcmljZVR5cGVdO1xuICAgIHZhciBjdXJyZW5jeSA9IFwiXCI7XG4gICAgc3dpdGNoIChDWCkge1xuICAgICAgICBjYXNlIFwiQUkxXCI6XG4gICAgICAgICAgICBjdXJyZW5jeSA9IEN1cnJlbmN5U3ltYm9scy5BSUM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkNJMVwiOlxuICAgICAgICBjYXNlIFwiQ0kyXCI6XG4gICAgICAgICAgICBjdXJyZW5jeSA9IEN1cnJlbmN5U3ltYm9scy5DSVM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIk5DMVwiOlxuICAgICAgICBjYXNlIFwiTkMyXCI6XG4gICAgICAgICAgICBjdXJyZW5jeSA9IEN1cnJlbmN5U3ltYm9scy5OQ0M7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIklDMVwiOlxuICAgICAgICAgICAgY3VycmVuY3kgPSBDdXJyZW5jeVN5bWJvbHMuSUNBO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChwYXJhbWV0ZXJzWzFdICYmIChwYXJhbWV0ZXJzWzFdLnRvTG93ZXJDYXNlKCkgPT0gXCJzZXR0aW5nc1wiIHx8IHBhcmFtZXRlcnNbMV0udG9Mb3dlckNhc2UoKSA9PSBcInNldFwiKSkge1xuICAgICAgICBjb25zdCBwcmljaW5nSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgcHJpY2luZ0hlYWRlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlByaWNpbmcgU2NoZW1lXCIpKTtcbiAgICAgICAgcHJpY2luZ0hlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKFwiU2VsZWN0IGEgcHJpY2luZyBzY2hlbWUgdG8gY2FsY3VsYXRlIGZpbmFuY2lhbHMuXCIsIFwicmlnaHRcIikpO1xuICAgICAgICBwcmljaW5nSGVhZGVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChwcmljaW5nSGVhZGVyKTtcbiAgICAgICAgY29uc3QgcHJpY2VEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKHByaWNlRGl2KTtcbiAgICAgICAgY29uc3QgcHJpY2VMYWJlbCA9IGNyZWF0ZVRleHRTcGFuKFwiUHJpY2luZyBTY2hlbWU6XCIpO1xuICAgICAgICBwcmljZUxhYmVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiNHB4XCI7XG4gICAgICAgIHByaWNlRGl2LmFwcGVuZENoaWxkKHByaWNlTGFiZWwpO1xuICAgICAgICBjb25zdCBwcmljZVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICAgIHByaWNlU2VsZWN0Lm5hbWUgPSBcInByaWNlLXNlbGVjdFwiO1xuICAgICAgICBwcmljZVNlbGVjdC5pZCA9IFwicHJpY2Utc2VsZWN0XCI7XG4gICAgICAgIE9iamVjdC5rZXlzKFByaWNpbmdTY2hlbWVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgcHJpY2VTZWxlY3QuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZWN0T3B0aW9uKG5hbWUsIG5hbWUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKEN1c3RvbVNjaGVtZXMpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICBwcmljZVNlbGVjdC5hcHBlbmRDaGlsZChjcmVhdGVTZWxlY3RPcHRpb24obmFtZSwgbmFtZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJwcmljaW5nX3NjaGVtZVwiXSB8fCAoIVByaWNpbmdTY2hlbWVzW3BtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInByaWNpbmdfc2NoZW1lXCJdXSAmJiAhQ3VzdG9tU2NoZW1lc1twbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJwcmljaW5nX3NjaGVtZVwiXV0pKSB7XG4gICAgICAgICAgICBwcmljZVNlbGVjdC5jaGlsZHJlblswXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoUHJpY2luZ1NjaGVtZXNbcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicHJpY2luZ19zY2hlbWVcIl1dKSB7XG4gICAgICAgICAgICBwcmljZVNlbGVjdC5jaGlsZHJlbltQcmljaW5nU2NoZW1lc1twbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJwcmljaW5nX3NjaGVtZVwiXV1dLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByaWNlU2VsZWN0LmNoaWxkcmVuW0N1c3RvbVNjaGVtZXNbcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicHJpY2luZ19zY2hlbWVcIl1dXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJpY2VTZWxlY3QuY2xhc3NMaXN0LmFkZChcInNlbGVjdFwiKTtcbiAgICAgICAgcHJpY2VTZWxlY3Quc3R5bGUubWFyZ2luTGVmdCA9IFwiNHB4XCI7XG4gICAgICAgIGNvbnN0IHNwcmVhZHNoZWV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaWYgKHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInByaWNpbmdfc2NoZW1lXCJdICE9IFwiQ3VzdG9tIChTcHJlYWRzaGVldClcIikge1xuICAgICAgICAgICAgc3ByZWFkc2hlZXREaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICAgIHByaWNlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicHJpY2luZ19zY2hlbWVcIl0gPSBwcmljZVNlbGVjdC5zZWxlY3RlZE9wdGlvbnNbMF0udmFsdWU7XG4gICAgICAgICAgICBzZXRTZXR0aW5ncyhwbW1nU2V0dGluZ3MpO1xuICAgICAgICAgICAgc3dpdGNoIChwcmljZVNlbGVjdC5zZWxlY3RlZE9wdGlvbnNbMF0udmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ3VzdG9tIChTcHJlYWRzaGVldClcIjpcbiAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXREaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgc3ByZWFkc2hlZXREaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcHJpY2VEaXYuYXBwZW5kQ2hpbGQocHJpY2VTZWxlY3QpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKHNwcmVhZHNoZWV0RGl2KTtcbiAgICAgICAgY29uc3QgYmFja3VwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYmFja3VwRGl2LnN0eWxlLm1hcmdpblRvcCA9IFwiOHB4XCI7XG4gICAgICAgIGNvbnN0IGJhY2t1cFByaWNlTGFiZWwgPSBjcmVhdGVUZXh0U3BhbihcIkJhY2sgVXAgUHJpY2luZyBTY2hlbWU6XCIpO1xuICAgICAgICBiYWNrdXBQcmljZUxhYmVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiNHB4XCI7XG4gICAgICAgIGJhY2t1cERpdi5hcHBlbmRDaGlsZChiYWNrdXBQcmljZUxhYmVsKTtcbiAgICAgICAgc3ByZWFkc2hlZXREaXYuYXBwZW5kQ2hpbGQoYmFja3VwRGl2KTtcbiAgICAgICAgY29uc3QgYmFja3VwUHJpY2VTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgICAgICBiYWNrdXBEaXYuYXBwZW5kQ2hpbGQoYmFja3VwUHJpY2VTZWxlY3QpO1xuICAgICAgICBiYWNrdXBQcmljZVNlbGVjdC5uYW1lID0gXCJiYWNrdXAtcHJpY2Utc2VsZWN0XCI7XG4gICAgICAgIGJhY2t1cFByaWNlU2VsZWN0LmlkID0gXCJiYWNrdXAtcHJpY2Utc2VsZWN0XCI7XG4gICAgICAgIE9iamVjdC5rZXlzKFByaWNpbmdTY2hlbWVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgYmFja3VwUHJpY2VTZWxlY3QuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZWN0T3B0aW9uKG5hbWUsIG5hbWUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYmFja3VwX3ByaWNpbmdfc2NoZW1lXCJdIHx8ICFQcmljaW5nU2NoZW1lc1twbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJiYWNrdXBfcHJpY2luZ19zY2hlbWVcIl1dKSB7XG4gICAgICAgICAgICBiYWNrdXBQcmljZVNlbGVjdC5jaGlsZHJlblswXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYWNrdXBQcmljZVNlbGVjdC5jaGlsZHJlbltQcmljaW5nU2NoZW1lc1twbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJiYWNrdXBfcHJpY2luZ19zY2hlbWVcIl1dXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYmFja3VwUHJpY2VTZWxlY3QuY2xhc3NMaXN0LmFkZChcInNlbGVjdFwiKTtcbiAgICAgICAgYmFja3VwUHJpY2VTZWxlY3Quc3R5bGUubWFyZ2luTGVmdCA9IFwiNHB4XCI7XG4gICAgICAgIGJhY2t1cFByaWNlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYmFja3VwX3ByaWNpbmdfc2NoZW1lXCJdID0gYmFja3VwUHJpY2VTZWxlY3Quc2VsZWN0ZWRPcHRpb25zWzBdLnZhbHVlO1xuICAgICAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHVybERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNwcmVhZHNoZWV0RGl2LmFwcGVuZENoaWxkKHVybERpdik7XG4gICAgICAgIGNvbnN0IHVybExhYmVsID0gY3JlYXRlVGV4dFNwYW4oXCJTcHJlYWRzaGVldCBVUkw6XCIpO1xuICAgICAgICB1cmxEaXYuYXBwZW5kQ2hpbGQodXJsTGFiZWwpO1xuICAgICAgICBjb25zdCB1cmxJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgdXJsSW5wdXQuY2xhc3NMaXN0LmFkZChcImlucHV0LXRleHRcIik7XG4gICAgICAgIHVybERpdi5hcHBlbmRDaGlsZCh1cmxJbnB1dCk7XG4gICAgICAgIHVybElucHV0LnN0eWxlLm1hcmdpbkxlZnQgPSBcIjRweFwiO1xuICAgICAgICBpZiAocG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiZmluX3NwcmVhZHNoZWV0XCJdKSB7XG4gICAgICAgICAgICB1cmxJbnB1dC52YWx1ZSA9IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImZpbl9zcHJlYWRzaGVldFwiXTtcbiAgICAgICAgfVxuICAgICAgICB1cmxJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiZmluX3NwcmVhZHNoZWV0XCJdID0gdXJsSW5wdXQudmFsdWUgPT0gXCJcIiA/IHVuZGVmaW5lZCA6IHVybElucHV0LnZhbHVlO1xuICAgICAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNoZWV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc3ByZWFkc2hlZXREaXYuYXBwZW5kQ2hpbGQoc2hlZXREaXYpO1xuICAgICAgICBjb25zdCBzaGVldExhYmVsID0gY3JlYXRlVGV4dFNwYW4oXCJTaGVldCBOYW1lOlwiKTtcbiAgICAgICAgc2hlZXRMYWJlbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjRweFwiO1xuICAgICAgICBzaGVldERpdi5hcHBlbmRDaGlsZChzaGVldExhYmVsKTtcbiAgICAgICAgY29uc3Qgc2hlZXRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgc2hlZXREaXYuYXBwZW5kQ2hpbGQoc2hlZXRJbnB1dCk7XG4gICAgICAgIHNoZWV0SW5wdXQuY2xhc3NMaXN0LmFkZChcImlucHV0LXRleHRcIik7XG4gICAgICAgIHNoZWV0SW5wdXQuc3R5bGUubWFyZ2luTGVmdCA9IFwiNHB4XCI7XG4gICAgICAgIGlmIChwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJmaW5fc2hlZXRfbmFtZVwiXSkge1xuICAgICAgICAgICAgc2hlZXRJbnB1dC52YWx1ZSA9IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImZpbl9zaGVldF9uYW1lXCJdO1xuICAgICAgICB9XG4gICAgICAgIHNoZWV0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImZpbl9zaGVldF9uYW1lXCJdID0gc2hlZXRJbnB1dC52YWx1ZSA9PSBcIlwiID8gdW5kZWZpbmVkIDogc2hlZXRJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzcHJlYWRzaGVldERpdi5hcHBlbmRDaGlsZChyZXN1bHREaXYpO1xuICAgICAgICBpZiAocG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiZmluX3NwcmVhZHNoZWV0XCJdICYmIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImZpbl9zaGVldF9uYW1lXCJdKSB7XG4gICAgICAgICAgICBjb25zdCBzaGVldElEID0gcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiZmluX3NwcmVhZHNoZWV0XCJdLm1hdGNoKC9cXC9kXFwvKFteXFwvXSspLyk7XG4gICAgICAgICAgICBpZiAoc2hlZXRJRCAmJiBzaGVldElEWzFdKSB7XG4gICAgICAgICAgICAgICAgZHJhd0dTVGFibGUocmVzdWx0RGl2LCB3ZWJEYXRhW1wiY3VzdG9tX3ByaWNlc1wiXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1wb3J0SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgaW1wb3J0SGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiSW1wb3J0L0V4cG9ydCBEYXRhXCIpKTtcbiAgICAgICAgaW1wb3J0SGVhZGVyLmFwcGVuZENoaWxkKGNyZWF0ZVRvb2xUaXAoXCJJbXBvcnQgb3IgZXhwb3J0IGZpbmFuY2lhbCBkYXRhIHRvIGEganNvbiBmaWxlLlwiLCBcInJpZ2h0XCIpKTtcbiAgICAgICAgaW1wb3J0SGVhZGVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChpbXBvcnRIZWFkZXIpO1xuICAgICAgICBjb25zdCBpbXBvcnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGltcG9ydERpdik7XG4gICAgICAgIGNvbnN0IGltcG9ydEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGltcG9ydEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiSW1wb3J0IEZpbmFuY2VzXCI7XG4gICAgICAgIGltcG9ydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbik7XG4gICAgICAgIGltcG9ydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvblByaW1hcnkpO1xuICAgICAgICBpbXBvcnRCdXR0b24uc3R5bGUubWFyZ2luTGVmdCA9IFwiNHB4XCI7XG4gICAgICAgIGltcG9ydEJ1dHRvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjRweFwiO1xuICAgICAgICBpbXBvcnREaXYuYXBwZW5kQ2hpbGQoaW1wb3J0QnV0dG9uKTtcbiAgICAgICAgY29uc3QgaW1wb3J0RmlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW1wb3J0RmlsZS50eXBlID0gXCJmaWxlXCI7XG4gICAgICAgIGltcG9ydEZpbGUuYWNjZXB0ID0gXCIuanNvblwiO1xuICAgICAgICBpbXBvcnRGaWxlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgaW1wb3J0RGl2LmFwcGVuZENoaWxkKGltcG9ydEZpbGUpO1xuICAgICAgICBjb25zdCBlcnJvclRleHRCb3ggPSBjcmVhdGVUZXh0U3BhbihcIkVycm9yIExvYWRpbmcgRmlsZSFcIik7XG4gICAgICAgIGVycm9yVGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGltcG9ydERpdi5hcHBlbmRDaGlsZChlcnJvclRleHRCb3gpO1xuICAgICAgICBpbXBvcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGltcG9ydEZpbGUuY2xpY2soKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydEZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5maWxlc1swXTtcbiAgICAgICAgICAgIGlmICghZmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWUgfHwgIWUudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU91dHB1dCA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgZmluUmVzdWx0ID0ge307XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbGVPdXRwdXQpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpblJlc3VsdFtrZXldID0gZmlsZU91dHB1dFtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2V0dGluZ3MoeyBcIlBNTUctRmluYW5jZVwiOiBmaW5SZXN1bHQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yVGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBNTUc6IEVycm9yIGVuY291bnRlcmVkIHByb2Nlc3NpbmcgZmlsZSFcIik7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yVGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBleHBvcnRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBleHBvcnRCdXR0b24udGV4dENvbnRlbnQgPSBcIkV4cG9ydCBGaW5hbmNlc1wiO1xuICAgICAgICBleHBvcnRCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgICAgICBleHBvcnRCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b25QcmltYXJ5KTtcbiAgICAgICAgZXhwb3J0QnV0dG9uLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjRweFwiO1xuICAgICAgICBleHBvcnRCdXR0b24uc3R5bGUubWFyZ2luQm90dG9tID0gXCI0cHhcIjtcbiAgICAgICAgaW1wb3J0RGl2LmFwcGVuZENoaWxkKGV4cG9ydEJ1dHRvbik7XG4gICAgICAgIGV4cG9ydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmaW5SZXN1bHQpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBvdXRwdXRba2V5XSA9IGZpblJlc3VsdFtrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb3dubG9hZEZpbGUob3V0cHV0LCBcInBtbWctZmluYW5jZVwiICsgRGF0ZS5ub3coKS50b1N0cmluZygpICsgXCIuanNvblwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbGxlY3RIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBjb2xsZWN0SGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQ29sbGVjdCBEYXRhXCIpKTtcbiAgICAgICAgY29sbGVjdEhlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKFwiTWFudWFsbHkgY29sbGVjdHMgYSBkYXRhIHBvaW50LlwiLCBcInJpZ2h0XCIpKTtcbiAgICAgICAgY29sbGVjdEhlYWRlci5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLlNpZGViYXJTZWN0aW9uSGVhZCk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY29sbGVjdEhlYWRlcik7XG4gICAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGFkZEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUmVjb3JkIERhdGFcIjtcbiAgICAgICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uKTtcbiAgICAgICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uUHJpbWFyeSk7XG4gICAgICAgIGFkZEJ1dHRvbi5zdHlsZS5tYXJnaW5MZWZ0ID0gXCI0cHhcIjtcbiAgICAgICAgYWRkQnV0dG9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiNHB4XCI7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTtcbiAgICAgICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWxjdWxhdGVGaW5hbmNpYWxzKHdlYkRhdGEsIHVzZXJJbmZvLCBwbW1nU2V0dGluZ3MsIHRydWUpO1xuICAgICAgICAgICAgZmluT2JqLmNyZWF0ZV9idWZmZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHB1cmdlSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgcHVyZ2VIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJQdXJnZSBTcGVjaWZpYyBEYXRhIFBvaW50c1wiKSk7XG4gICAgICAgIHB1cmdlSGVhZGVyLmFwcGVuZENoaWxkKGNyZWF0ZVRvb2xUaXAoXCJQdXJnZSBpbmRpdmlkdWFsIGRhdGEgcG9pbnRzIGZyb20gc3RvcmFnZS5cIiwgXCJyaWdodFwiKSk7XG4gICAgICAgIHB1cmdlSGVhZGVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChwdXJnZUhlYWRlcik7XG4gICAgICAgIGNvbnN0IHRib2R5ID0gY3JlYXRlVGFibGUodGlsZSwgW1wiRGF0ZVwiLCBcIkVxdWl0eVwiLCBcIkRlbGV0ZVwiXSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluUmVzdWx0W1wiSGlzdG9yeVwiXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICBkYXRlQ29sdW1uLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKChuZXcgRGF0ZShmaW5SZXN1bHRbXCJIaXN0b3J5XCJdW2ldWzBdKSkudG9Mb2NhbGVUaW1lU3RyaW5nKHVuZGVmaW5lZCwgeyBob3VyOiBcIjItZGlnaXRcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9KSArIFwiIG9uIFwiICsgKG5ldyBEYXRlKGZpblJlc3VsdFtcIkhpc3RvcnlcIl1baV1bMF0pKS50b0xvY2FsZURhdGVTdHJpbmcodW5kZWZpbmVkLCB7IG1vbnRoOiBcIjItZGlnaXRcIiwgZGF5OiBcIjItZGlnaXRcIiB9KSkpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGRhdGVDb2x1bW4pO1xuICAgICAgICAgICAgY29uc3QgZXF1aXR5Q29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgY29uc3QgZXF1aXR5ID0gZmluUmVzdWx0W1wiSGlzdG9yeVwiXVtpXVsxXSArIGZpblJlc3VsdFtcIkhpc3RvcnlcIl1baV1bMl0gKyBmaW5SZXN1bHRbXCJIaXN0b3J5XCJdW2ldWzNdIC0gZmluUmVzdWx0W1wiSGlzdG9yeVwiXVtpXVs0XTtcbiAgICAgICAgICAgIGVxdWl0eUNvbHVtbi5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihlcXVpdHkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMCB9KSkpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGVxdWl0eUNvbHVtbik7XG4gICAgICAgICAgICBjb25zdCBkZWxldGVDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICBkZWxldGVDb2x1bW4uYXBwZW5kQ2hpbGQoY3JlYXRlU21hbGxCdXR0b24oXCJkZWxldGVcIiwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgc2hvd1dhcm5pbmdEaWFsb2codGlsZSwgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgZGF0YXBvaW50P1wiLCBcIkNvbmZpcm1cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBmaW5SZXN1bHRbXCJIaXN0b3J5XCJdLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNldHRpbmdzKHsgXCJQTU1HLUZpbmFuY2VcIjogZmluUmVzdWx0IH0pO1xuICAgICAgICAgICAgICAgICAgICBmaW5PYmouY3JlYXRlX2J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgW2ldKSk7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoZGVsZXRlQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGVhckhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgIGNsZWFySGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQ2xlYXIgQWxsIERhdGFcIikpO1xuICAgICAgICBjbGVhckhlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKFwiQ2xlYXIgYWxsIGN1cnJlbnQgYW5kIGhpc3RvcmljYWwgZmluYW5jaWFsIGRhdGEuXCIsIFwicmlnaHRcIikpO1xuICAgICAgICBjbGVhckhlYWRlci5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLlNpZGViYXJTZWN0aW9uSGVhZCk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY2xlYXJIZWFkZXIpO1xuICAgICAgICBjb25zdCBjbGVhckJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGNsZWFyQnV0dG9uLnRleHRDb250ZW50ID0gXCJDbGVhciBEYXRhXCI7XG4gICAgICAgIGNsZWFyQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uKTtcbiAgICAgICAgY2xlYXJCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b25QcmltYXJ5KTtcbiAgICAgICAgY2xlYXJCdXR0b24uc3R5bGUubWFyZ2luTGVmdCA9IFwiNHB4XCI7XG4gICAgICAgIGNsZWFyQnV0dG9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiNHB4XCI7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY2xlYXJCdXR0b24pO1xuICAgICAgICBjbGVhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2hvd1dhcm5pbmdEaWFsb2codGlsZSwgXCJZb3UgYXJlIGFib3V0IHRvIGNsZWFyIGFsbCBjdXJyZW50IGFuZCBoaXN0b3JpY2FsIGZpbmFuY2lhbCBkYXRhLiBEbyB5b3Ugd2FudCB0byBjb250aW51ZT9cIiwgXCJDb25maXJtXCIsIGNsZWFyRGF0YSwgcG1tZ1NldHRpbmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFmaW5SZXN1bHQgfHwgT2JqZWN0LmtleXMoZmluUmVzdWx0KS5sZW5ndGggPT0gMCkge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IFwiTm8gZGF0YSBoYXMgYmVlbiByZWNvcmRlZCB5ZXQuIFdhaXQgYSBmZXcgc2Vjb25kcyB0aGVuIHJlZnJlc2ggdGhlIHBhZ2UuIElmIHRoaXMgcGVyc2lzdHMsIGNvbnRhY3QgUGlCb3kzMTQuXCI7XG4gICAgICAgIGhlYWRlci5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBoZWFkZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxvY2F0aW9ucyA9IHt9O1xuICAgIGZpblJlc3VsdFtcIkJ1aWxkaW5nc1wiXS5mb3JFYWNoKGludiA9PiB7XG4gICAgICAgIGlmIChsb2NhdGlvbnNbaW52WzBdXSkge1xuICAgICAgICAgICAgbG9jYXRpb25zW2ludlswXV1bMF0gKz0gaW52WzFdO1xuICAgICAgICAgICAgbG9jYXRpb25zW2ludlswXV1bMl0gKz0gaW52WzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9jYXRpb25zW2ludlswXV0gPSBbaW52WzFdLCAwLCBpbnZbMV1dO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZmluUmVzdWx0W1wiSW52ZW50b3J5XCJdLmZvckVhY2goaW52ID0+IHtcbiAgICAgICAgaWYgKGxvY2F0aW9uc1tpbnZbMF1dKSB7XG4gICAgICAgICAgICBsb2NhdGlvbnNbaW52WzBdXVsxXSArPSBpbnZbMV07XG4gICAgICAgICAgICBsb2NhdGlvbnNbaW52WzBdXVsyXSArPSBpbnZbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2NhdGlvbnNbaW52WzBdXSA9IFswLCBpbnZbMV0sIGludlsxXV07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBsb2NhdGlvbnNBcnJheSA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGxvY2F0aW9ucykuZm9yRWFjaChpbnYgPT4ge1xuICAgICAgICBsb2NhdGlvbnNBcnJheS5wdXNoKFtpbnYsIGxvY2F0aW9uc1tpbnZdWzBdLCBsb2NhdGlvbnNbaW52XVsxXSwgbG9jYXRpb25zW2ludl1bMl1dKTtcbiAgICB9KTtcbiAgICBsb2NhdGlvbnNBcnJheS5zb3J0KGZpbmFuY2lhbFNvcnQpO1xuICAgIGlmICghcGFyYW1ldGVyc1sxXSkge1xuICAgICAgICBjb25zdCBxdWlja0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgIHF1aWNrSGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiUXVpY2sgTGlua3NcIikpO1xuICAgICAgICBxdWlja0hlYWRlci5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLlNpZGViYXJTZWN0aW9uSGVhZCk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQocXVpY2tIZWFkZXIpO1xuICAgICAgICBjb25zdCBxdWlja0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHF1aWNrRGl2LnN0eWxlLm1hcmdpbkxlZnQgPSBcIjVweFwiO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKHF1aWNrRGl2KTtcbiAgICAgICAgY29uc3QgcXVpY2tCdXR0b25zID0gW1tcIlNVTU1BUllcIiwgXCJTVU1NQVJZXCJdLCBbXCJQUk9EVUNUSU9OXCIsIFwiUFJPRFVDVElPTlwiXSwgW1wiQ0hBUlRTXCIsIFwiQ0hBUlRcIl0sIFtcIlNFVFRJTkdTXCIsIFwiU0VUVElOR1NcIl1dO1xuICAgICAgICBxdWlja0J1dHRvbnMuZm9yRWFjaChsYWJlbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uKTtcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvblByaW1hcnkpO1xuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiNXB4XCI7XG4gICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBsYWJlbFswXTtcbiAgICAgICAgICAgIHF1aWNrRGl2LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzaG93QnVmZmVyKFwiWElUIEZJTl9cIiArIGxhYmVsWzFdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY2hhcnRzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgY2hhcnRzSGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiSW5kaXZpZHVhbCBDaGFydHNcIikpO1xuICAgICAgICBjaGFydHNIZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGNoYXJ0c0hlYWRlcik7XG4gICAgICAgIGNvbnN0IGNoYXJ0c0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNoYXJ0c0Rpdi5zdHlsZS5tYXJnaW5MZWZ0ID0gXCI1cHhcIjtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChjaGFydHNEaXYpO1xuICAgICAgICBjb25zdCBjaGFydEJ1dHRvbnMgPSBbW1wiRVFVSVRZIEhJU1RPUllcIiwgXCJISVNUT1JZXCJdLCBbXCJBU1NFVFMgQlkgVFlQRVwiLCBcIkFTU0VUUElFXCJdLCBbXCJBU1NFVFMgQlkgTE9DQVRJT05cIiwgXCJMT0NBVElPTlNQSUVcIl1dO1xuICAgICAgICBjaGFydEJ1dHRvbnMuZm9yRWFjaChsYWJlbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uKTtcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvblByaW1hcnkpO1xuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiNXB4XCI7XG4gICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBsYWJlbFswXTtcbiAgICAgICAgICAgIGNoYXJ0c0Rpdi5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2hvd0J1ZmZlcihcIlhJVCBGSU5fQ0hBUlRfXCIgKyBsYWJlbFsxXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGluZm9IZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBpbmZvSGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiRGF0YSBJbmZvXCIpKTtcbiAgICAgICAgaW5mb0hlYWRlci5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLlNpZGViYXJTZWN0aW9uSGVhZCk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoaW5mb0hlYWRlcik7XG4gICAgICAgIGNvbnN0IGluZm9EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGluZm9EaXYpO1xuICAgICAgICBpbmZvRGl2LnN0eWxlLm1hcmdpbiA9IFwiNXB4XCI7XG4gICAgICAgIGNvbnN0IGRhdGFQb2ludHMgPSBjcmVhdGVUZXh0U3BhbigoZmluUmVzdWx0W1wiSGlzdG9yeVwiXSA/IGZpblJlc3VsdFtcIkhpc3RvcnlcIl0ubGVuZ3RoIDogMCkudG9Mb2NhbGVTdHJpbmcoKSArIFwiIGRhdGEgcG9pbnRzIHJlY29yZGVkXCIpO1xuICAgICAgICBpbmZvRGl2LmFwcGVuZENoaWxkKGRhdGFQb2ludHMpO1xuICAgICAgICBkYXRhUG9pbnRzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGlmIChmaW5SZXN1bHRbXCJIaXN0b3J5XCJdKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRlc3REYXRlID0gbmV3IERhdGUoZmluUmVzdWx0W1wiSGlzdG9yeVwiXVswXVswXSk7XG4gICAgICAgICAgICBjb25zdCBvbGRlc3REYXRlRWxlbSA9IGNyZWF0ZVRleHRTcGFuKFwiT2xkZXN0IGRhdGEgcmVjb3JkZWQgb24gXCIgKyBvbGRlc3REYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh1bmRlZmluZWQsIHsgbW9udGg6IFwiMi1kaWdpdFwiLCBkYXk6IFwiMi1kaWdpdFwiLCB5ZWFyOiBcIm51bWVyaWNcIiB9KSk7XG4gICAgICAgICAgICBpbmZvRGl2LmFwcGVuZENoaWxkKG9sZGVzdERhdGVFbGVtKTtcbiAgICAgICAgICAgIG9sZGVzdERhdGVFbGVtLnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG4gICAgICAgICAgICBvbGRlc3REYXRlRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgY29uc3QgbmV3ZXN0RGF0ZSA9IG5ldyBEYXRlKGZpblJlc3VsdFtcIkhpc3RvcnlcIl1bZmluUmVzdWx0W1wiSGlzdG9yeVwiXS5sZW5ndGggLSAxXVswXSk7XG4gICAgICAgICAgICBjb25zdCBuZXdlc3REYXRlRWxlbSA9IGNyZWF0ZVRleHRTcGFuKFwiTGF0ZXN0IGRhdGEgcmVjb3JkZWQgYXQgXCIgKyBuZXdlc3REYXRlLnRvTG9jYWxlVGltZVN0cmluZyh1bmRlZmluZWQsIHsgaG91cjogXCIyLWRpZ2l0XCIsIG1pbnV0ZTogXCIyLWRpZ2l0XCIgfSkgKyBcIiBvbiBcIiArIG5ld2VzdERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKHVuZGVmaW5lZCwgeyBtb250aDogXCIyLWRpZ2l0XCIsIGRheTogXCIyLWRpZ2l0XCIsIHllYXI6IFwibnVtZXJpY1wiIH0pKTtcbiAgICAgICAgICAgIGluZm9EaXYuYXBwZW5kQ2hpbGQobmV3ZXN0RGF0ZUVsZW0pO1xuICAgICAgICAgICAgbmV3ZXN0RGF0ZUVsZW0uc3R5bGUubWFyZ2luVG9wID0gXCI1cHhcIjtcbiAgICAgICAgICAgIG5ld2VzdERhdGVFbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAocGFyYW1ldGVyc1sxXS50b0xvd2VyQ2FzZSgpID09IFwic3VtbWFyeVwiIHx8IHBhcmFtZXRlcnNbMV0udG9Mb3dlckNhc2UoKSA9PSBcInN1bVwiKSB7XG4gICAgICAgIGNvbnN0IGxhc3RSZWFkaW5nID0gZmluUmVzdWx0W1wiSGlzdG9yeVwiXVtmaW5SZXN1bHRbXCJIaXN0b3J5XCJdLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBsYXN0RXF1aXR5ID0gbGFzdFJlYWRpbmdbMV0gKyBsYXN0UmVhZGluZ1syXSArIGxhc3RSZWFkaW5nWzNdIC0gbGFzdFJlYWRpbmdbNF07XG4gICAgICAgIGNvbnN0IHRpbGVIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIHRpbGVIZWFkZXIudGl0bGUgPSBcIkZpbmFuY2lhbCBPdmVydmlld1wiO1xuICAgICAgICB0aWxlSGVhZGVyLnRleHRDb250ZW50ID0gXCJLZXkgRmlndXJlc1wiO1xuICAgICAgICB0aWxlSGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJmaW4tdGl0bGVcIik7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQodGlsZUhlYWRlcik7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY3JlYXRlRmluYW5jaWFsVGV4dEJveChjdXJyZW5jeSArIE1hdGgucm91bmQobGFzdFJlYWRpbmdbMV0pLnRvTG9jYWxlU3RyaW5nKCksIFwiRml4ZWQgQXNzZXRzXCIsIFRleHRDb2xvcnMuU3RhbmRhcmQpKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChjcmVhdGVGaW5hbmNpYWxUZXh0Qm94KGN1cnJlbmN5ICsgTWF0aC5yb3VuZChsYXN0UmVhZGluZ1syXSkudG9Mb2NhbGVTdHJpbmcoKSwgXCJDdXJyZW50IEFzc2V0c1wiLCBUZXh0Q29sb3JzLlN0YW5kYXJkKSk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY3JlYXRlRmluYW5jaWFsVGV4dEJveChjdXJyZW5jeSArIE1hdGgucm91bmQobGFzdFJlYWRpbmdbM10pLnRvTG9jYWxlU3RyaW5nKCksIFwiTGlxdWlkIEFzc2V0c1wiLCBUZXh0Q29sb3JzLlN0YW5kYXJkKSk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY3JlYXRlRmluYW5jaWFsVGV4dEJveChjdXJyZW5jeSArIE1hdGgucm91bmQobGFzdEVxdWl0eSkudG9Mb2NhbGVTdHJpbmcoKSwgXCJFcXVpdHlcIiwgVGV4dENvbG9ycy5TdGFuZGFyZCkpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGNyZWF0ZUZpbmFuY2lhbFRleHRCb3goY3VycmVuY3kgKyBNYXRoLnJvdW5kKGxhc3RSZWFkaW5nWzRdKS50b0xvY2FsZVN0cmluZygpLCBcIkxpYWJpbGl0aWVzXCIsIFRleHRDb2xvcnMuU3RhbmRhcmQpKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGZpblJlc3VsdFtcIkhpc3RvcnlcIl0ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChsYXN0UmVhZGluZ1swXSAtIGZpblJlc3VsdFtcIkhpc3RvcnlcIl1baV1bMF0gPiA4NjQwMDAwMCAqIDcpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICAgIGNvbnN0IHByZXZFcXVpdHkgPSBmaW5SZXN1bHRbXCJIaXN0b3J5XCJdW2ldWzFdICsgZmluUmVzdWx0W1wiSGlzdG9yeVwiXVtpXVsyXSArIGZpblJlc3VsdFtcIkhpc3RvcnlcIl1baV1bM10gLSBmaW5SZXN1bHRbXCJIaXN0b3J5XCJdW2ldWzRdO1xuICAgICAgICBjb25zdCBwcm9maXQgPSBNYXRoLnJvdW5kKGxhc3RFcXVpdHkgLSBwcmV2RXF1aXR5KTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBwcm9maXQgPiAwID8gVGV4dENvbG9ycy5TdWNjZXNzIDogVGV4dENvbG9ycy5GYWlsdXJlO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGNyZWF0ZUZpbmFuY2lhbFRleHRCb3goY3VycmVuY3kgKyBwcm9maXQudG9Mb2NhbGVTdHJpbmcoKSwgXCJQcm9maXRcIiwgY29sb3IpKTtcbiAgICAgICAgY29uc3QgYnJlYWtkb3duSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICBicmVha2Rvd25IZWFkZXIudGl0bGUgPSBcIkZpbmFuY2lhbCBCcmVha2Rvd25cIjtcbiAgICAgICAgYnJlYWtkb3duSGVhZGVyLnRleHRDb250ZW50ID0gXCJJbnZlbnRvcnkgQnJlYWtkb3duXCI7XG4gICAgICAgIGJyZWFrZG93bkhlYWRlci5jbGFzc0xpc3QuYWRkKFwiZmluLXRpdGxlXCIpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGJyZWFrZG93bkhlYWRlcik7XG4gICAgICAgIGNvbnN0IHRib2R5ID0gY3JlYXRlVGFibGUodGlsZSwgW1wiTmFtZVwiLCBcIkZpeGVkIEFzc2V0c1wiLCBcIkN1cnJlbnQgQXNzZXRzXCIsIFwiVG90YWwgQXNzZXRzXCJdKTtcbiAgICAgICAgbG9jYXRpb25zQXJyYXkuZm9yRWFjaChpbnYgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFibGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGZpcnN0VGFibGVFbGVtKTtcbiAgICAgICAgICAgIGZpcnN0VGFibGVFbGVtLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKGludlswXSkpO1xuICAgICAgICAgICAgaW52LnNoaWZ0KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBwb2ludCBvZiBpbnYpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJsZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRhYmxlRWxlbSk7XG4gICAgICAgICAgICAgICAgdGFibGVFbGVtLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKHBvaW50LnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAgfSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmFtZXRlcnNbMV0udG9Mb3dlckNhc2UoKSA9PSBcImNoYXJ0XCIgfHwgcGFyYW1ldGVyc1sxXS50b0xvd2VyQ2FzZSgpID09IFwiY2hhcnRzXCIpIHtcbiAgICAgICAgaWYgKHBhcmFtZXRlcnNbMl0pIHtcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGdyYXBoRGl2LnN0eWxlLm1hcmdpbiA9IFwiNXB4XCI7XG4gICAgICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGdyYXBoRGl2KTtcbiAgICAgICAgICAgIGNvbnN0IGdyYXBoID0gZ2VuZXJhdGVHcmFwaChwYXJhbWV0ZXJzWzJdLCBmaW5SZXN1bHQsIGxvY2F0aW9uc0FycmF5LCBjdXJyZW5jeSk7XG4gICAgICAgICAgICBpZiAoIWdyYXBoKSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJFcnJvciEgTm90IGEgdmFsaWQgZ3JhcGggdHlwZSFcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyYXBoRGl2LmFwcGVuZENoaWxkKGdyYXBoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmluUmVzdWx0W1wiSGlzdG9yeVwiXS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbmVIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBsaW5lSGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiRXF1aXR5IEhpc3RvcnlcIikpO1xuICAgICAgICBsaW5lSGVhZGVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChsaW5lSGVhZGVyKTtcbiAgICAgICAgY29uc3QgaGlzdG9yeURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhpc3RvcnlEaXYuc3R5bGUubWFyZ2luID0gXCI1cHhcIjtcbiAgICAgICAgaGlzdG9yeURpdi5zdHlsZS5tYXJnaW5Ub3AgPSBcIjEwcHhcIjtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChoaXN0b3J5RGl2KTtcbiAgICAgICAgY29uc3QgbGluZVBsb3QgPSBnZW5lcmF0ZUdyYXBoKFwiaGlzdG9yeVwiLCBmaW5SZXN1bHQsIGxvY2F0aW9uc0FycmF5LCBjdXJyZW5jeSk7XG4gICAgICAgIGlmICghbGluZVBsb3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsaW5lUGxvdC5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgbGluZVBsb3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNob3dCdWZmZXIoXCJYSVQgRklOX0NIQVJUX0hJU1RPUllcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBoaXN0b3J5RGl2LmFwcGVuZENoaWxkKGxpbmVQbG90KTtcbiAgICAgICAgY29uc3QgcGllSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgcGllSGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQXNzZXQgQnJlYWtkb3duXCIpKTtcbiAgICAgICAgcGllSGVhZGVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChwaWVIZWFkZXIpO1xuICAgICAgICBjb25zdCBwaWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwaWVEaXYuc3R5bGUubWFyZ2luID0gXCI1cHhcIjtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChwaWVEaXYpO1xuICAgICAgICBjb25zdCBwaWVDYW52YXMgPSBnZW5lcmF0ZUdyYXBoKFwiYXNzZXRwaWVcIiwgZmluUmVzdWx0LCBsb2NhdGlvbnNBcnJheSwgY3VycmVuY3kpO1xuICAgICAgICBpZiAoIXBpZUNhbnZhcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBpZUNhbnZhcy5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgcGllQ2FudmFzLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCItMjVweFwiO1xuICAgICAgICBwaWVDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNob3dCdWZmZXIoXCJYSVQgRklOX0NIQVJUX0FTU0VUUElFXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcGllRGl2LmFwcGVuZENoaWxkKHBpZUNhbnZhcyk7XG4gICAgICAgIGNvbnN0IGxvY1BpZUNhbnZhcyA9IGdlbmVyYXRlR3JhcGgoXCJsb2NhdGlvbnNwaWVcIiwgZmluUmVzdWx0LCBsb2NhdGlvbnNBcnJheSwgY3VycmVuY3kpO1xuICAgICAgICBpZiAoIWxvY1BpZUNhbnZhcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvY1BpZUNhbnZhcy5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgbG9jUGllQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzaG93QnVmZmVyKFwiWElUIEZJTl9DSEFSVF9MT0NBVElPTlNQSUVcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBwaWVEaXYuYXBwZW5kQ2hpbGQobG9jUGllQ2FudmFzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFyYW1ldGVyc1sxXS50b0xvd2VyQ2FzZSgpID09IFwicHJvZHVjdGlvblwiIHx8IHBhcmFtZXRlcnNbMV0udG9Mb3dlckNhc2UoKSA9PSBcInByb3hcIikge1xuICAgICAgICBpZiAoIXVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl0gfHwgIXVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJ3b3JrZm9yY2VcIl0pIHtcbiAgICAgICAgICAgIHRpbGUuaWQgPSBcInBtbWctcmVsb2FkXCI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aWxlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgIHRpbGUuaWQgPSBcInBtbWctbG9hZC1zdWNjZXNzXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGxhbmV0cyA9IFtdO1xuICAgICAgICB1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wid29ya2ZvcmNlXCJdLmZvckVhY2god29ya2ZvcmNlID0+IHtcbiAgICAgICAgICAgIGlmICh3b3JrZm9yY2UuUGxhbmV0TmFtZSAmJiAhcGxhbmV0cy5pbmNsdWRlcyh3b3JrZm9yY2UuUGxhbmV0TmFtZSkpIHtcbiAgICAgICAgICAgICAgICBwbGFuZXRzLnB1c2god29ya2ZvcmNlLlBsYW5ldE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcInByb2R1Y3Rpb25cIl0uZm9yRWFjaChwcm9kdWN0aW9uID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9kdWN0aW9uLlBsYW5ldE5hbWUgJiYgIXBsYW5ldHMuaW5jbHVkZXMocHJvZHVjdGlvbi5QbGFuZXROYW1lKSkge1xuICAgICAgICAgICAgICAgIHBsYW5ldHMucHVzaChwcm9kdWN0aW9uLlBsYW5ldE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYnVybkZpbmFuY2VzID0gW107XG4gICAgICAgIHZhciB0b3RhbFByb2R1Y2VkID0gMDtcbiAgICAgICAgdmFyIHRvdGFsQ29uc3VtZWQgPSAwO1xuICAgICAgICBjb25zdCBpc0N1c3RvbSA9IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInByaWNpbmdfc2NoZW1lXCJdID09IFwiQ3VzdG9tIChTcHJlYWRzaGVldClcIjtcbiAgICAgICAgcGxhbmV0cy5mb3JFYWNoKHBsYW5ldCA9PiB7XG4gICAgICAgICAgICBjb25zdCBwbGFuZXRQcm9kdWN0aW9uID0gZmluZENvcnJlc3BvbmRpbmdQbGFuZXQocGxhbmV0LCB1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wicHJvZHVjdGlvblwiXSk7XG4gICAgICAgICAgICBjb25zdCBwbGFuZXRXb3JrZm9yY2UgPSBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldChwbGFuZXQsIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJ3b3JrZm9yY2VcIl0pO1xuICAgICAgICAgICAgY29uc3QgcGxhbmV0RmluYW5jZXMgPSBbXTtcbiAgICAgICAgICAgIHBsYW5ldEZpbmFuY2VzLnB1c2gocGxhbmV0KTtcbiAgICAgICAgICAgIHZhciBwcm9kdWNlZCA9IDA7XG4gICAgICAgICAgICB2YXIgY29uc3VtZWQgPSAwO1xuICAgICAgICAgICAgaWYgKHBsYW5ldFdvcmtmb3JjZSkge1xuICAgICAgICAgICAgICAgIHBsYW5ldFdvcmtmb3JjZS53b3JrZm9yY2UuZm9yRWFjaCh0aWVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGllci5uZWVkcy5mb3JFYWNoKG5lZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3VtZWQgKz0gZ2V0UHJpY2UoY3hQcmljZXMsIHdlYkRhdGFbXCJjdXN0b21fcHJpY2VzXCJdLCBpc0N1c3RvbSwgbmVlZC5tYXRlcmlhbC50aWNrZXIpICogbmVlZC51bml0c1BlckludGVydmFsO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpc1JlY3VycmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBsYW5ldFByb2R1Y3Rpb24gJiYgcGxhbmV0UHJvZHVjdGlvbi5saW5lcykge1xuICAgICAgICAgICAgICAgIHBsYW5ldFByb2R1Y3Rpb24ubGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGluZS5vcmRlcnMuZm9yRWFjaChvcmRlciA9PiB7IGlmIChvcmRlci5yZWN1cnJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVjdXJyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwbGFuZXRQcm9kdWN0aW9uLmxpbmVzLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbER1cmF0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGluZS5vcmRlcnMuZm9yRWFjaChvcmRlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9yZGVyLnN0YXJ0ZWQgJiYgKCFpc1JlY3VycmluZyB8fCBvcmRlci5yZWN1cnJpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxEdXJhdGlvbiArPSBvcmRlci5kdXJhdGlvbiB8fCBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUub3JkZXJzLmZvckVhY2gob3JkZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcmRlci5zdGFydGVkICYmICghaXNSZWN1cnJpbmcgfHwgb3JkZXIucmVjdXJyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyLmlucHV0cy5mb3JFYWNoKG1hdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWVkICs9IGdldFByaWNlKGN4UHJpY2VzLCB3ZWJEYXRhW1wiY3VzdG9tX3ByaWNlc1wiXSwgaXNDdXN0b20sIG1hdC5NYXRlcmlhbFRpY2tlcikgKiBtYXQuQW1vdW50ICogODY0MDAwMDAgKiBsaW5lLmNhcGFjaXR5IC8gdG90YWxEdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlci5vdXRwdXRzLmZvckVhY2gobWF0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjZWQgKz0gZ2V0UHJpY2UoY3hQcmljZXMsIHdlYkRhdGFbXCJjdXN0b21fcHJpY2VzXCJdLCBpc0N1c3RvbSwgbWF0Lk1hdGVyaWFsVGlja2VyKSAqIG1hdC5BbW91bnQgKiA4NjQwMDAwMCAqIGxpbmUuY2FwYWNpdHkgLyB0b3RhbER1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsYW5ldEZpbmFuY2VzLnB1c2gocHJvZHVjZWQpO1xuICAgICAgICAgICAgcGxhbmV0RmluYW5jZXMucHVzaChjb25zdW1lZCk7XG4gICAgICAgICAgICB0b3RhbFByb2R1Y2VkICs9IHByb2R1Y2VkO1xuICAgICAgICAgICAgdG90YWxDb25zdW1lZCArPSBjb25zdW1lZDtcbiAgICAgICAgICAgIGJ1cm5GaW5hbmNlcy5wdXNoKHBsYW5ldEZpbmFuY2VzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRpbGVIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIHRpbGVIZWFkZXIudGl0bGUgPSBcIlByb2R1Y3Rpb24gT3ZlcnZpZXdcIjtcbiAgICAgICAgdGlsZUhlYWRlci50ZXh0Q29udGVudCA9IFwiUHJvZHVjdGlvbiBPdmVydmlld1wiO1xuICAgICAgICB0aWxlSGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJmaW4tdGl0bGVcIik7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQodGlsZUhlYWRlcik7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY3JlYXRlRmluYW5jaWFsVGV4dEJveChjdXJyZW5jeSArIHRvdGFsUHJvZHVjZWQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IFwibWF4aW11bUZyYWN0aW9uRGlnaXRzXCI6IDAgfSksIFwiRGFpbHkgUHJvZHVjZWRcIiwgVGV4dENvbG9ycy5TdGFuZGFyZCkpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGNyZWF0ZUZpbmFuY2lhbFRleHRCb3goY3VycmVuY3kgKyB0b3RhbENvbnN1bWVkLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBcIm1heGltdW1GcmFjdGlvbkRpZ2l0c1wiOiAwIH0pLCBcIkRhaWx5IENvbnN1bWVkXCIsIFRleHRDb2xvcnMuU3RhbmRhcmQpKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChjcmVhdGVGaW5hbmNpYWxUZXh0Qm94KGN1cnJlbmN5ICsgKHRvdGFsUHJvZHVjZWQgLSB0b3RhbENvbnN1bWVkKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgXCJtYXhpbXVtRnJhY3Rpb25EaWdpdHNcIjogMCB9KSwgXCJEYWlseSBQcm9maXRcIiwgKHRvdGFsUHJvZHVjZWQgLSB0b3RhbENvbnN1bWVkKSA+IDAgPyBUZXh0Q29sb3JzLlN1Y2Nlc3MgOiBUZXh0Q29sb3JzLkZhaWx1cmUpKTtcbiAgICAgICAgY29uc3QgcGxhbmV0SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICBwbGFuZXRIZWFkZXIudGl0bGUgPSBcIlBsYW5ldCBCcmVha2Rvd25cIjtcbiAgICAgICAgcGxhbmV0SGVhZGVyLnRleHRDb250ZW50ID0gXCJQbGFuZXQgQnJlYWtkb3duXCI7XG4gICAgICAgIHBsYW5ldEhlYWRlci5jbGFzc0xpc3QuYWRkKFwiZmluLXRpdGxlXCIpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKHBsYW5ldEhlYWRlcik7XG4gICAgICAgIGNvbnN0IHRib2R5ID0gY3JlYXRlVGFibGUodGlsZSwgW1wiTmFtZVwiLCBcIlByb2R1Y2VkXCIsIFwiQ29uc3VtZWRcIiwgXCJQcm9maXRcIl0pO1xuICAgICAgICBidXJuRmluYW5jZXMuc29ydChidXJuUHJvZHVjdGlvblNvcnQpO1xuICAgICAgICBidXJuRmluYW5jZXMuZm9yRWFjaChpbnYgPT4ge1xuICAgICAgICAgICAgaWYgKGludlsxXSA9PSAwICYmIGludlsyXSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFibGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGZpcnN0VGFibGVFbGVtKTtcbiAgICAgICAgICAgIGZpcnN0VGFibGVFbGVtLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKGludlswXSkpO1xuICAgICAgICAgICAgY29uc3QgcHJvZHVjZWRFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHByb2R1Y2VkRWxlbSk7XG4gICAgICAgICAgICBwcm9kdWNlZEVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oaW52WzFdLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAgfSkpKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnN1bWVkRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjb25zdW1lZEVsZW0pO1xuICAgICAgICAgICAgY29uc3VtZWRFbGVtLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKGludlsyXS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwIH0pKSk7XG4gICAgICAgICAgICBjb25zdCBwcm9maXRFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHByb2ZpdEVsZW0pO1xuICAgICAgICAgICAgcHJvZml0RWxlbS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbigoaW52WzFdIC0gaW52WzJdKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwIH0pKSk7XG4gICAgICAgICAgICBwcm9maXRFbGVtLnN0eWxlLmNvbG9yID0gaW52WzFdIC0gaW52WzJdID4gMCA/IFRleHRDb2xvcnMuU3VjY2VzcyA6IFRleHRDb2xvcnMuRmFpbHVyZTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZHJhd0dTVGFibGUocmVzdWx0RGl2LCBwcmljZXMpIHtcbiAgICBpZiAoIXByaWNlcykge1xuICAgICAgICByZXN1bHREaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJFcnJvciEgTm8gUHJpY2VzIEZvdW5kIVwiKSk7XG4gICAgfVxuICAgIGNvbnN0IHRib2R5ID0gY3JlYXRlVGFibGUocmVzdWx0RGl2LCBbXCJUaWNrZXJcIiwgXCJQcmljZVwiXSk7XG4gICAgT2JqZWN0LmtleXMocHJpY2VzKS5mb3JFYWNoKG1hdCA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgY29uc3QgbWF0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKG1hdEVsZW0pO1xuICAgICAgICBtYXRFbGVtLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKG1hdCkpO1xuICAgICAgICBjb25zdCBwcmljZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChwcmljZUVsZW0pO1xuICAgICAgICBwcmljZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4ocHJpY2VzW21hdF0udG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IFwibWF4aW11bUZyYWN0aW9uRGlnaXRzXCI6IDIsIFwibWluaW11bUZyYWN0aW9uRGlnaXRzXCI6IDIgfSkpKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlR3JhcGgoZ3JhcGhUeXBlLCBmaW5SZXN1bHQsIGxvY2F0aW9uc0FycmF5LCBjdXJyZW5jeSkge1xuICAgIHN3aXRjaCAoZ3JhcGhUeXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSBcImhpc3RvcnlcIjpcbiAgICAgICAgICAgIGNvbnN0IGRhdGVEYXRhID0gW107XG4gICAgICAgICAgICBjb25zdCBmaW5EYXRhID0gW107XG4gICAgICAgICAgICBmaW5SZXN1bHRbXCJIaXN0b3J5XCJdLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIGRhdGVEYXRhLnB1c2goZW50cnlbMF0pO1xuICAgICAgICAgICAgICAgIGZpbkRhdGEucHVzaChlbnRyeVsxXSArIGVudHJ5WzJdICsgZW50cnlbM10gLSBlbnRyeVs0XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVQbG90ID0gZHJhd0xpbmVDaGFydChkYXRlRGF0YSwgZmluRGF0YSwgNDAwLCAyMDAsIFwiRGF0ZVwiLCBcIkVxdWl0eVwiLCBcIiNmN2E2MDBcIiwgdHJ1ZSwgY3VycmVuY3kpO1xuICAgICAgICAgICAgcmV0dXJuIGxpbmVQbG90O1xuICAgICAgICBjYXNlIFwiYXNzZXRwaWVcIjpcbiAgICAgICAgICAgIGNvbnN0IGxhdGVzdFJlcG9ydCA9IGZpblJlc3VsdFtcIkhpc3RvcnlcIl1bZmluUmVzdWx0W1wiSGlzdG9yeVwiXS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IHBpZUNhbnZhcyA9IGRyYXdQaWVDaGFydChbbGF0ZXN0UmVwb3J0WzFdLCBsYXRlc3RSZXBvcnRbMl0sIGxhdGVzdFJlcG9ydFszXV0sIDE4MCwgW1wiRml4ZWRcIiwgXCJDdXJyZW50XCIsIFwiTGlxdWlkXCJdKTtcbiAgICAgICAgICAgIHJldHVybiBwaWVDYW52YXM7XG4gICAgICAgIGNhc2UgXCJsb2NhdGlvbnNwaWVcIjpcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uTmFtZXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uVmFsdWUgPSBbXTtcbiAgICAgICAgICAgIGxvY2F0aW9uc0FycmF5LmZvckVhY2gobG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uTmFtZXMucHVzaChsb2NhdGlvblswXSk7XG4gICAgICAgICAgICAgICAgbG9jYXRpb25WYWx1ZS5wdXNoKGxvY2F0aW9uWzFdICsgbG9jYXRpb25bMl0gKyBsb2NhdGlvblszXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGxvY1BpZUNhbnZhcyA9IGRyYXdQaWVDaGFydChsb2NhdGlvblZhbHVlLCAxODAsIGxvY2F0aW9uTmFtZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGxvY1BpZUNhbnZhcztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjbGVhckRhdGEocmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXSkge1xuICAgICAgICByZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJsYXN0X2Zpbl9yZWNvcmRpbmdcIl0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHNldFNldHRpbmdzKHJlc3VsdCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5yZW1vdmUoXCJQTU1HLUZpbmFuY2VcIik7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKFwiUE1NRy1GaW5hbmNlXCIpO1xuICAgIH1cbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBnZXRQcmljZShjeFByaWNlcywgY3VzdG9tUHJpY2VzLCBpc0N1c3RvbSwgdGlja2VyKSB7XG4gICAgcmV0dXJuIGlzQ3VzdG9tICYmIGN1c3RvbVByaWNlcyAmJiBjdXN0b21QcmljZXNbdGlja2VyXSA/IGN1c3RvbVByaWNlc1t0aWNrZXJdIDogKGN4UHJpY2VzW3RpY2tlcl0gPyBjeFByaWNlc1t0aWNrZXJdIDogMCk7XG59XG5jb25zdCBQcmljaW5nU2NoZW1lcyA9IHtcbiAgICBcIkFJMSBBVkdcIjogMCxcbiAgICBcIkFJMSBBU0tcIjogMSxcbiAgICBcIkFJMSBCSURcIjogMixcbiAgICBcIkNJMSBBVkdcIjogMyxcbiAgICBcIkNJMSBBU0tcIjogNCxcbiAgICBcIkNJMSBCSURcIjogNSxcbiAgICBcIkNJMiBBVkdcIjogNixcbiAgICBcIkNJMiBBU0tcIjogNyxcbiAgICBcIkNJMiBCSURcIjogOCxcbiAgICBcIklDMSBBVkdcIjogOSxcbiAgICBcIklDMSBBU0tcIjogMTAsXG4gICAgXCJJQzEgQklEXCI6IDExLFxuICAgIFwiTkMxIEFWR1wiOiAxMixcbiAgICBcIk5DMSBBU0tcIjogMTMsXG4gICAgXCJOQzEgQklEXCI6IDE0LFxuICAgIFwiTkMyIEFWR1wiOiAxNSxcbiAgICBcIk5DMiBBU0tcIjogMTYsXG4gICAgXCJOQzIgQklEXCI6IDE3XG59O1xuY29uc3QgQ3VzdG9tU2NoZW1lcyA9IHtcbiAgICBcIkN1c3RvbSAoU3ByZWFkc2hlZXQpXCI6IDE4XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpbmFuY2lhbHMod2ViRGF0YSwgdXNlckluZm8sIHJlc3VsdCwgbG9vcCkge1xuICAgIGlmIChsb29wKSB7XG4gICAgICAgIGlmICh1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdICYmIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJjeF9wcmljZXNcIl0pIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IGNhbGN1bGF0ZUZpbmFuY2lhbHMod2ViRGF0YSwgdXNlckluZm8sIHJlc3VsdCwgZmFsc2UpLCAxMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gY2FsY3VsYXRlRmluYW5jaWFscyh3ZWJEYXRhLCB1c2VySW5mbywgcmVzdWx0LCB0cnVlKSwgNTApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcImxhc3RfZmluX3JlY29yZGluZ1wiXSA9IERhdGUubm93KCk7XG4gICAgc2V0U2V0dGluZ3MocmVzdWx0KTtcbiAgICB2YXIgQ1ggPSBcIkFJMVwiO1xuICAgIHZhciBwcmljZVR5cGUgPSBcIkF2ZXJhZ2VcIjtcbiAgICBpZiAocmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wicHJpY2luZ19zY2hlbWVcIl0pIHtcbiAgICAgICAgY29uc3QgaW50ZXJwcmV0ZWQgPSBpbnRlcnByZXRDWChyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJwcmljaW5nX3NjaGVtZVwiXSwgcmVzdWx0KTtcbiAgICAgICAgQ1ggPSBpbnRlcnByZXRlZFswXTtcbiAgICAgICAgcHJpY2VUeXBlID0gaW50ZXJwcmV0ZWRbMV07XG4gICAgfVxuICAgIGNvbnN0IGN4UHJpY2VzID0gdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImN4X3ByaWNlc1wiXVtDWF1bcHJpY2VUeXBlXTtcbiAgICBjb25zdCBpc0N1c3RvbSA9IHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcInByaWNpbmdfc2NoZW1lXCJdID09IFwiQ3VzdG9tIChTcHJlYWRzaGVldClcIjtcbiAgICBjb25zdCBmaW5TbmFwc2hvdCA9IHt9O1xuICAgIGZpblNuYXBzaG90W1wiQ3VycmVuY2llc1wiXSA9IFtdO1xuICAgIGlmICh1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiY3VycmVuY3lcIl0pIHtcbiAgICAgICAgdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImN1cnJlbmN5XCJdLmZvckVhY2goY3VycmVuY3kgPT4ge1xuICAgICAgICAgICAgZmluU25hcHNob3RbXCJDdXJyZW5jaWVzXCJdLnB1c2goW2N1cnJlbmN5W1wiY3VycmVuY3lcIl0sIE1hdGgucm91bmQoY3VycmVuY3lbXCJhbW91bnRcIl0gKiAxMDApIC8gMTAwXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5TbmFwc2hvdFtcIkludmVudG9yeVwiXSA9IFtdO1xuICAgIGZpblNuYXBzaG90W1wiQnVpbGRpbmdzXCJdID0gW107XG4gICAgaWYgKHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzdG9yYWdlXCJdKSB7XG4gICAgICAgIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzdG9yYWdlXCJdLmZvckVhY2gobG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gMDtcbiAgICAgICAgICAgIGxvY2F0aW9uW1wiaXRlbXNcIl0uZm9yRWFjaChtYXQgPT4ge1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IGdldFByaWNlKGN4UHJpY2VzLCB3ZWJEYXRhW1wiY3VzdG9tX3ByaWNlc1wiXSwgaXNDdXN0b20sIG1hdC5NYXRlcmlhbFRpY2tlcikgKiBtYXQuQW1vdW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi50eXBlID09IFwiU1RPUkVcIiB8fCBsb2NhdGlvbi50eXBlID09IFwiV0FSRUhPVVNFX1NUT1JFXCIpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbG9jYXRpb24uUGxhbmV0TmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBsb2NhdGlvbi5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgZmluU25hcHNob3RbXCJJbnZlbnRvcnlcIl0uZm9yRWFjaChpbnYgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpbnZbMF0gPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpc01hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW52WzFdICs9IE1hdGgucm91bmQodmFsdWUgKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFpc01hdGNoKSB7XG4gICAgICAgICAgICAgICAgZmluU25hcHNob3RbXCJJbnZlbnRvcnlcIl0ucHVzaChbbmFtZSwgTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMCkgLyAxMDBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic2l0ZXNcIl0pIHtcbiAgICAgICAgdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcInNpdGVzXCJdLmZvckVhY2gobG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnR5cGUgIT0gXCJCQVNFXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAwO1xuICAgICAgICAgICAgbG9jYXRpb25bXCJidWlsZGluZ3NcIl0uZm9yRWFjaChidWlsZGluZyA9PiB7XG4gICAgICAgICAgICAgICAgYnVpbGRpbmdbXCJyZWNsYWltYWJsZU1hdGVyaWFsc1wiXS5mb3JFYWNoKG1hdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IGdldFByaWNlKGN4UHJpY2VzLCB3ZWJEYXRhW1wiY3VzdG9tX3ByaWNlc1wiXSwgaXNDdXN0b20sIG1hdC5tYXRlcmlhbC50aWNrZXIpICogbWF0LmFtb3VudDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5TbmFwc2hvdFtcIkJ1aWxkaW5nc1wiXS5wdXNoKFtsb2NhdGlvbi5QbGFuZXROYW1lLCBNYXRoLnJvdW5kKHZhbHVlICogMTAwKSAvIDEwMF0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIGNvbnRyYWN0VmFsdWUgPSAwO1xuICAgIHZhciBjb250cmFjdExpYWJpbGl0eSA9IDA7XG4gICAgaWYgKHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJjb250cmFjdHNcIl0pIHtcbiAgICAgICAgbGV0IHZhbGlkQ29udHJhY3RzID0gdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImNvbnRyYWN0c1wiXS5maWx0ZXIoYyA9PiAhaW52YWxpZENvbnRyYWN0U3RhdHVzLmluY2x1ZGVzKGNbXCJzdGF0dXNcIl0pKTtcbiAgICAgICAgdmFsaWRDb250cmFjdHMuZm9yRWFjaChjb250cmFjdCA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0eSA9IGNvbnRyYWN0W1wicGFydHlcIl07XG4gICAgICAgICAgICBjb250cmFjdFtcImNvbmRpdGlvbnNcIl0uZm9yRWFjaChjb25kaXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb25bXCJzdGF0dXNcIl0gPT0gXCJGVUxGSUxMRURcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb25bXCJ0eXBlXCJdID09IFwiREVMSVZFUllcIiB8fCBjb25kaXRpb25bXCJ0eXBlXCJdID09IFwiUFJPVklTSU9OXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbltcInBhcnR5XCJdID09IHBhcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdExpYWJpbGl0eSArPSBnZXRQcmljZShjeFByaWNlcywgd2ViRGF0YVtcImN1c3RvbV9wcmljZXNcIl0sIGlzQ3VzdG9tLCBjb25kaXRpb24ucXVhbnRpdHkubWF0ZXJpYWwudGlja2VyKSAqIGNvbmRpdGlvbi5xdWFudGl0eS5hbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFZhbHVlICs9IGdldFByaWNlKGN4UHJpY2VzLCB3ZWJEYXRhW1wiY3VzdG9tX3ByaWNlc1wiXSwgaXNDdXN0b20sIGNvbmRpdGlvbi5xdWFudGl0eS5tYXRlcmlhbC50aWNrZXIpICogY29uZGl0aW9uLnF1YW50aXR5LmFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb25kaXRpb25bXCJUeXBlXCJdID09IFwiUEFZTUVOVFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb25bXCJQYXJ0eVwiXSA9PSBwYXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhY3RMaWFiaWxpdHkgKz0gY29uZGl0aW9uLmFtb3VudC5hbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cmFjdFZhbHVlICs9IGNvbmRpdGlvbi5hbW91bnQuYW1vdW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBmaW5TbmFwc2hvdFtcIkNvbnRyYWN0VmFsdWVcIl0gPSBNYXRoLnJvdW5kKGNvbnRyYWN0VmFsdWUgKiAxMDApIC8gMTAwO1xuICAgICAgICBmaW5TbmFwc2hvdFtcIkNvbnRyYWN0TGlhYmlsaXR5XCJdID0gTWF0aC5yb3VuZChjb250cmFjdExpYWJpbGl0eSAqIDEwMCkgLyAxMDA7XG4gICAgfVxuICAgIHZhciBjeEJ1eVZhbHVlID0gMDtcbiAgICB2YXIgY3hTZWxsVmFsdWUgPSAwO1xuICAgIGlmICh1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiY3hvc1wiXSkge1xuICAgICAgICB1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiY3hvc1wiXS5mb3JFYWNoKG9yZGVyID0+IHtcbiAgICAgICAgICAgIGlmIChvcmRlcltcInN0YXR1c1wiXSA9PSBcIkZJTExFRFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9yZGVyW1widHlwZVwiXSA9PSBcIlNFTExJTkdcIikge1xuICAgICAgICAgICAgICAgIGN4U2VsbFZhbHVlICs9IGdldFByaWNlKGN4UHJpY2VzLCB3ZWJEYXRhW1wiY3VzdG9tX3ByaWNlc1wiXSwgaXNDdXN0b20sIG9yZGVyLm1hdGVyaWFsLnRpY2tlcikgKiBvcmRlci5hbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjeEJ1eVZhbHVlICs9IG9yZGVyLmxpbWl0LmFtb3VudCAqIG9yZGVyLmFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBmeEJ1eVZhbHVlID0gMDtcbiAgICB2YXIgZnhTZWxsVmFsdWUgPSAwO1xuICAgIGlmICh1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiZnhvc1wiXSkge1xuICAgICAgICB1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiZnhvc1wiXS5mb3JFYWNoKG9yZGVyID0+IHtcbiAgICAgICAgICAgIGlmIChvcmRlcltcInN0YXR1c1wiXSA9PSBcIkZJTExFRFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9yZGVyW1widHlwZVwiXSA9PSBcIlNFTExJTkdcIikge1xuICAgICAgICAgICAgICAgIGZ4U2VsbFZhbHVlICs9IG9yZGVyLmluaXRpYWxBbW91bnQuYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnhCdXlWYWx1ZSArPSBvcmRlci5saW1pdC5yYXRlICogb3JkZXIuaW5pdGlhbEFtb3VudC5hbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5TbmFwc2hvdFtcIkNYQnV5XCJdID0gTWF0aC5yb3VuZChjeEJ1eVZhbHVlICogMTAwKSAvIDEwMDtcbiAgICBmaW5TbmFwc2hvdFtcIkNYU2VsbFwiXSA9IE1hdGgucm91bmQoY3hTZWxsVmFsdWUgKiAxMDApIC8gMTAwO1xuICAgIGZpblNuYXBzaG90W1wiRlhCdXlcIl0gPSBNYXRoLnJvdW5kKGZ4QnV5VmFsdWUgKiAxMDApIC8gMTAwO1xuICAgIGZpblNuYXBzaG90W1wiRlhTZWxsXCJdID0gTWF0aC5yb3VuZChmeFNlbGxWYWx1ZSAqIDEwMCkgLyAxMDA7XG4gICAgdmFyIGxpcXVpZCA9IDA7XG4gICAgZmluU25hcHNob3RbXCJDdXJyZW5jaWVzXCJdLmZvckVhY2goY3VycmVuY3kgPT4ge1xuICAgICAgICBsaXF1aWQgKz0gY3VycmVuY3lbMV07XG4gICAgfSk7XG4gICAgbGlxdWlkICs9IGN4QnV5VmFsdWUgKyBmeEJ1eVZhbHVlICsgZnhTZWxsVmFsdWU7XG4gICAgdmFyIGZpeGVkID0gMDtcbiAgICBmaW5TbmFwc2hvdFtcIkJ1aWxkaW5nc1wiXS5mb3JFYWNoKGludiA9PiB7XG4gICAgICAgIGZpeGVkICs9IGludlsxXTtcbiAgICB9KTtcbiAgICB2YXIgY3VycmVudCA9IGN4U2VsbFZhbHVlICsgY29udHJhY3RWYWx1ZTtcbiAgICBmaW5TbmFwc2hvdFtcIkludmVudG9yeVwiXS5mb3JFYWNoKGludiA9PiB7XG4gICAgICAgIGN1cnJlbnQgKz0gaW52WzFdO1xuICAgIH0pO1xuICAgIHZhciBsaWFiaWxpdGllcyA9IGNvbnRyYWN0TGlhYmlsaXR5O1xuICAgIGZpblNuYXBzaG90W1wiSGlzdG9yeVwiXSA9IFtEYXRlLm5vdygpLCBNYXRoLnJvdW5kKGZpeGVkICogMTAwKSAvIDEwMCwgTWF0aC5yb3VuZChjdXJyZW50ICogMTAwKSAvIDEwMCwgTWF0aC5yb3VuZChsaXF1aWQgKiAxMDApIC8gMTAwLCBNYXRoLnJvdW5kKGxpYWJpbGl0aWVzICogMTAwKSAvIDEwMF07XG4gICAgZ2V0TG9jYWxTdG9yYWdlKFwiUE1NRy1GaW5hbmNlXCIsIHdyaXRlRmluYW5jaWFscywgZmluU25hcHNob3QpO1xufVxuZnVuY3Rpb24gd3JpdGVGaW5hbmNpYWxzKHJlc3VsdCwgZmluU25hcHNob3QpIHtcbiAgICB2YXIgaGlzdG9yeSA9IFtdO1xuICAgIGlmIChyZXN1bHRbXCJQTU1HLUZpbmFuY2VcIl0gJiYgcmVzdWx0W1wiUE1NRy1GaW5hbmNlXCJdW1wiSGlzdG9yeVwiXSkge1xuICAgICAgICBoaXN0b3J5ID0gcmVzdWx0W1wiUE1NRy1GaW5hbmNlXCJdW1wiSGlzdG9yeVwiXTtcbiAgICB9XG4gICAgaGlzdG9yeS5wdXNoKGZpblNuYXBzaG90W1wiSGlzdG9yeVwiXSk7XG4gICAgZmluU25hcHNob3RbXCJIaXN0b3J5XCJdID0gaGlzdG9yeTtcbiAgICByZXN1bHRbXCJQTU1HLUZpbmFuY2VcIl0gPSBmaW5TbmFwc2hvdDtcbiAgICBzZXRTZXR0aW5ncyhyZXN1bHQpO1xufVxuY29uc3QgaW52YWxpZENvbnRyYWN0U3RhdHVzID0gW1xuICAgIFwiRlVMRklMTEVEXCIsXG4gICAgXCJCUkVBQ0hFRFwiLFxuICAgIFwiVEVSTUlOQVRFRFwiLFxuICAgIFwiQ0FOQ0VMTEVEXCIsXG4gICAgXCJSRUpFQ1RFRFwiXG5dO1xuZnVuY3Rpb24gZmluYW5jaWFsU29ydChhLCBiKSB7XG4gICAgcmV0dXJuIGFbM10gPCBiWzNdID8gMSA6IC0xO1xufVxuZnVuY3Rpb24gYnVyblByb2R1Y3Rpb25Tb3J0KGEsIGIpIHtcbiAgICByZXR1cm4gYVsxXSAtIGFbMl0gPCBiWzFdIC0gYlsyXSA/IDEgOiAtMTtcbn1cbmZ1bmN0aW9uIGludGVycHJldENYKENYU3RyaW5nLCByZXN1bHQpIHtcbiAgICB2YXIgQ1ggPSBcIkFJMVwiO1xuICAgIHZhciBwcmljZVR5cGUgPSBcIkF2ZXJhZ2VcIjtcbiAgICBzd2l0Y2ggKENYU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgXCJDdXN0b20gKE1hbnVhbClcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQ3VzdG9tIChTcHJlYWRzaGVldClcIjpcbiAgICAgICAgICAgIGlmIChyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJiYWNrdXBfcHJpY2luZ19zY2hlbWVcIl0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gaW50ZXJwcmV0Q1gocmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wiYmFja3VwX3ByaWNpbmdfc2NoZW1lXCJdLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIENYID0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBwcmljZVR5cGUgPSBkYXRhWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gQ1hTdHJpbmcuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgQ1ggPSBpbmZvWzBdO1xuICAgICAgICAgICAgc3dpdGNoIChpbmZvWzFdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFWR1wiOlxuICAgICAgICAgICAgICAgICAgICBwcmljZVR5cGUgPSBcIkF2ZXJhZ2VcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFTS1wiOlxuICAgICAgICAgICAgICAgICAgICBwcmljZVR5cGUgPSBcIkFza1ByaWNlXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJCSURcIjpcbiAgICAgICAgICAgICAgICAgICAgcHJpY2VUeXBlID0gXCJCaWRQcmljZVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtDWCwgcHJpY2VUeXBlXTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL1hJVC9GaW5hbmNlcy50c1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBGbGlnaHRFVEFzIH0gZnJvbSBcIi4vRmxpZ2h0RVRBc1wiO1xuaW1wb3J0IHsgTG9jYWxNYXJrZXRBZHMgfSBmcm9tICcuL0xvY2FsTWFya2V0QWRzJztcbmltcG9ydCB7IE1vZHVsZVJ1bm5lciB9IGZyb20gXCIuL01vZHVsZVJ1bm5lclwiO1xuaW1wb3J0IHsgT3JkZXJFVEFzIH0gZnJvbSBcIi4vT3JkZXJFVEFzXCI7XG5pbXBvcnQgeyBDb25zdW1hYmxlVGltZXJzIH0gZnJvbSBcIi4vQ29uc3VtYWJsZVRpbWVyc1wiO1xuaW1wb3J0IHsgRmxlZXRFVEFzIH0gZnJvbSBcIi4vRmxlZXRFVEFzXCI7XG5pbXBvcnQgeyBQb3N0TE0gfSBmcm9tIFwiLi9Qb3N0TE1cIjtcbmltcG9ydCB7IFNoaXBwaW5nQWRzIH0gZnJvbSBcIi4vU2hpcHBpbmdBZHNcIjtcbmltcG9ydCB7IFF1ZXVlTG9hZCB9IGZyb20gXCIuL1F1ZXVlTG9hZFwiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9ucyB9IGZyb20gXCIuL05vdGlmaWNhdGlvbnNcIjtcbmltcG9ydCB7IGdldFByaWNlcywgZ2V0Q1hQcmljZXMgfSBmcm9tIFwiLi9CYWNrZ3JvdW5kUnVubmVyXCI7XG5pbXBvcnQgeyBQTU1HU3R5bGUsIEVuaGFuY2VkQ29sb3JzLCBJY29uU3R5bGUsIEFkdmFuY2VkU3R5bGUgfSBmcm9tIFwiLi9TdHlsZVwiO1xuaW1wb3J0IHsgU2NyZWVuVW5wYWNrIH0gZnJvbSBcIi4vU2NyZWVuVW5wYWNrXCI7XG5pbXBvcnQgeyBTaWRlYmFyIH0gZnJvbSBcIi4vU2lkZWJhclwiO1xuaW1wb3J0IHsgQ29tbWFuZENvcnJlY3RlciB9IGZyb20gXCIuL0NvbW1hbmRDb3JyZWN0ZXJcIjtcbmltcG9ydCB7IENhbGN1bGF0b3JCdXR0b24gfSBmcm9tIFwiLi9DYWxjdWxhdG9yQnV0dG9uXCI7XG5pbXBvcnQgeyBJbWFnZUNyZWF0b3IgfSBmcm9tIFwiLi9JbWFnZUNyZWF0b3JcIjtcbmltcG9ydCB7IEludmVudG9yeU9yZ2FuaXplciB9IGZyb20gXCIuL0ludmVudG9yeU9yZ2FuaXplclwiO1xuaW1wb3J0IHsgSGVhZGVyTWluaW1pemVyIH0gZnJvbSBcIi4vSGVhZGVyTWluaW1pemVyXCI7XG5pbXBvcnQgeyBQZW5kaW5nQ29udHJhY3RzIH0gZnJvbSBcIi4vUGVuZGluZ0NvbnRyYWN0c1wiO1xuaW1wb3J0IHsgQ29tcGFjdFVJIH0gZnJvbSBcIi4vQ29tcGFjdFVJXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVGaW5hbmNpYWxzIH0gZnJvbSBcIi4vWElUL0ZpbmFuY2VzXCI7XG5pbXBvcnQgeyBGb3JtdWxhUmVwbGFjZXIgfSBmcm9tIFwiLi9Gb3JtdWxhRXZhbHVhdG9yXCI7XG5pbXBvcnQgeyBBZHZhbmNlZE1vZGUgfSBmcm9tIFwiLi9BZHZhbmNlZE1vZGVcIjtcbmZ1bmN0aW9uIEFkZFNjcmlwdFRvRE9NKHNjcmlwdF9uYW1lKSB7XG4gICAgdmFyIGJyb3dzZXIgPSB0eXBlb2YgYnJvd3NlciA9PT0gXCJ1bmRlZmluZWRcIiA/IGNocm9tZSA6IGJyb3dzZXI7XG4gICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzLnNyYyA9IGJyb3dzZXIucnVudGltZS5nZXRVUkwoc2NyaXB0X25hbWUpO1xuICAgIHMub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzLnJlbW92ZSgpO1xuICAgIH07XG4gICAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzKTtcbn1cbkFkZFNjcmlwdFRvRE9NKFwicGFnZV9zY3JpcHQuanNcIik7XG50cnkge1xuICAgIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoXCJQTU1HRXh0ZW5kZWRcIikudGhlbihtYWluUnVuLCBvbkVycm9yKTtcbiAgICBjb25zb2xlLmxvZyhcIkZpcmVGb3ggZGV0ZWN0ZWRcIik7XG59XG5jYXRjaCAoZXgpIHtcbiAgICBjb25zb2xlLmxvZyhcIkNocm9taXVtIGRldGVjdGVkXCIpO1xuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChbXCJQTU1HRXh0ZW5kZWRcIl0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgbWFpblJ1bihyZXN1bHQsIFwiY2hyb21pdW1cIik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBtYWluUnVuKHJlc3VsdCwgYnJvd3Nlcikge1xuICAgIGlmICghcmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdKSB7XG4gICAgICAgIHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXSA9IHt9O1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcImxvYWRlZF9iZWZvcmVcIl0pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJGaXJzdCBUaW1lIExvYWRpbmcgUE1NR1wiKTtcbiAgICB9XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGUudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICBzdHlsZS5pZCA9IFwicG1tZy1zdHlsZVwiO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gUE1NR1N0eWxlO1xuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpO1xuICAgIGlmIChkb2MpIHtcbiAgICAgICAgZG9jLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gICAgaWYgKCFyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJkaXNhYmxlZFwiXSkge1xuICAgICAgICByZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJkaXNhYmxlZFwiXSA9IFtcIlNjcmVlblVucGFja1wiXTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcImNvbG9yX3NjaGVtZVwiXSA9PSBcImVuaGFuY2VkXCIgfHwgIXJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcImNvbG9yX3NjaGVtZVwiXSkge1xuICAgICAgICBjb25zdCBjb2xvcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGNvbG9ycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgICAgICBjb2xvcnMuaWQgPSBcInBtbWctZW5oYW5jZWQtY29sb3JzXCI7XG4gICAgICAgIGNvbG9ycy50ZXh0Q29udGVudCA9IEVuaGFuY2VkQ29sb3JzO1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgICBkb2MuYXBwZW5kQ2hpbGQoY29sb3JzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJjb2xvcl9zY2hlbWVcIl0gPT0gXCJpY29uc1wiKSB7XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgY29sb3JzLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICAgIGNvbG9ycy5pZCA9IFwicG1tZy1pY29uLWNvbG9yc1wiO1xuICAgICAgICBjb2xvcnMudGV4dENvbnRlbnQgPSBJY29uU3R5bGU7XG4gICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICAgIGRvYy5hcHBlbmRDaGlsZChjb2xvcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJhZHZhbmNlZF9tb2RlXCJdICYmIGRvYykge1xuICAgICAgICBjb25zdCBhZHZhbmNlZFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBhZHZhbmNlZFN0eWxlLnR5cGUgPSBcInRleHQvY3NzXCI7XG4gICAgICAgIGFkdmFuY2VkU3R5bGUuaWQgPSBcInBtbWctYWR2YW5jZWRcIjtcbiAgICAgICAgYWR2YW5jZWRTdHlsZS50ZXh0Q29udGVudCA9IEFkdmFuY2VkU3R5bGU7XG4gICAgICAgIGRvYy5hcHBlbmRDaGlsZChhZHZhbmNlZFN0eWxlKTtcbiAgICB9XG4gICAgY29uc3QgdXNlckluZm8gPSB7fTtcbiAgICBjb25zdCB3ZWJEYXRhID0ge307XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gZ2V0UHJpY2VzKHdlYkRhdGEsIHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcImZpbl9zcHJlYWRzaGVldFwiXSwgcmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wiZmluX3NoZWV0X25hbWVcIl0pLCAxMDAwKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBnZXRDWFByaWNlcyh1c2VySW5mbyksIDEwMDApO1xuICAgIGlmIChyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJyZWNvcmRpbmdfZmluYW5jaWFsc1wiXSAhPSBmYWxzZSAmJiAoIXJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcImxhc3RfZmluX3JlY29yZGluZ1wiXSB8fCBEYXRlLm5vdygpIC0gcmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wibGFzdF9maW5fcmVjb3JkaW5nXCJdID4gNjQ4MDAwMDApKSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IGNhbGN1bGF0ZUZpbmFuY2lhbHMod2ViRGF0YSwgdXNlckluZm8sIHJlc3VsdCwgdHJ1ZSksIDEwMDApO1xuICAgIH1cbiAgICBjb25zdCBydW5uZXIgPSBuZXcgTW9kdWxlUnVubmVyKFtcbiAgICAgICAgbmV3IFNoaXBwaW5nQWRzKCksXG4gICAgICAgIG5ldyBMb2NhbE1hcmtldEFkcygpLFxuICAgICAgICBuZXcgUG9zdExNKHdlYkRhdGEpLFxuICAgICAgICBuZXcgT3JkZXJFVEFzKCksXG4gICAgICAgIG5ldyBGbGlnaHRFVEFzKCksXG4gICAgICAgIG5ldyBGbGVldEVUQXMoKSxcbiAgICAgICAgbmV3IFF1ZXVlTG9hZCgpLFxuICAgICAgICBuZXcgQ29uc3VtYWJsZVRpbWVycyhyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX3RocmVzaG9sZHNcIl0sIHVzZXJJbmZvKSxcbiAgICAgICAgbmV3IEludmVudG9yeU9yZ2FuaXplcih1c2VySW5mbywgcmVzdWx0KSxcbiAgICAgICAgbmV3IE5vdGlmaWNhdGlvbnMoKSxcbiAgICAgICAgbmV3IEltYWdlQ3JlYXRvcigpLFxuICAgICAgICBuZXcgU2NyZWVuVW5wYWNrKHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcInVucGFja19leGNlcHRpb25zXCJdKSxcbiAgICAgICAgbmV3IEhlYWRlck1pbmltaXplcihyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJtaW5pbWl6ZV9ieV9kZWZhdWx0XCJdKSxcbiAgICAgICAgbmV3IEFkdmFuY2VkTW9kZShyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJhZHZhbmNlZF9tb2RlXCJdKSxcbiAgICAgICAgbmV3IENvbW1hbmRDb3JyZWN0ZXIoKSxcbiAgICAgICAgbmV3IENhbGN1bGF0b3JCdXR0b24oKSxcbiAgICAgICAgbmV3IFNpZGViYXIocmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wic2lkZWJhclwiXSksXG4gICAgICAgIG5ldyBQZW5kaW5nQ29udHJhY3RzKHVzZXJJbmZvKSxcbiAgICAgICAgbmV3IENvbXBhY3RVSShyZXN1bHQpLFxuICAgICAgICBuZXcgRm9ybXVsYVJlcGxhY2VyKClcbiAgICBdLCByZXN1bHQsIHdlYkRhdGEsIHVzZXJJbmZvLCBicm93c2VyKTtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBydW5uZXIubG9vcCgpO1xuICAgICAgICBydW5uZXIubG9vcFVzZXJJbmZvKCk7XG4gICAgfSkoKTtcbn1cbmZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL21haW4udHNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY29udmVydER1cmF0aW9uVG9FVEEsIHBhcnNlRHVyYXRpb24sIGNyZWF0ZVRleHRTcGFuLCBnZW5lcmljQ2xlYW51cCwgZ2V0QnVmZmVycyB9IGZyb20gXCIuL3V0aWxcIjtcbmV4cG9ydCBjbGFzcyBGbGlnaHRFVEFzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YWcgPSBcInBiLXNmYy1ldGFcIjtcbiAgICB9XG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgZ2VuZXJpY0NsZWFudXAodGhpcy50YWcpO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiU0ZDIFwiKTtcbiAgICAgICAgaWYgKGJ1ZmZlcnMgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShidWZmZXIucXVlcnlTZWxlY3RvckFsbChcInRhYmxlID4gdGJvZHkgPiB0clwiKSk7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFJvdyA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV0YURhdGEgPSB0YXJnZXRSb3cuY2hpbGRyZW5bM107XG4gICAgICAgICAgICAgICAgaWYgKGV0YURhdGEudGV4dENvbnRlbnQgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHBhcnNlRHVyYXRpb24oZXRhRGF0YS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV0YSA9IGNvbnZlcnREdXJhdGlvblRvRVRBKGR1cmF0aW9uICsgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBldGFEYXRhLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKGAgKCR7ZXRhfSlgLCB0aGlzLnRhZykpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZSArPSBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaXJzdFJvdyA9IGVsZW1lbnRzWzBdO1xuICAgICAgICAgICAgaWYgKCFmaXJzdFJvdykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0RXRhRGF0YSA9IGZpcnN0Um93LmNoaWxkcmVuWzNdO1xuICAgICAgICAgICAgaWYgKCFmaXJzdEV0YURhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlyc3RFdGFEYXRhLnRleHRDb250ZW50ICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEV0YSA9IGNvbnZlcnREdXJhdGlvblRvRVRBKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBmaXJzdEV0YURhdGEuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oYCAoJHt0b3RhbEV0YX0pYCwgdGhpcy50YWcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9GbGlnaHRFVEFzLnRzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IFNlbGVjdG9yIH0gZnJvbSBcIi4vU2VsZWN0b3JcIjtcbmltcG9ydCB7IGNyZWF0ZVRleHRTcGFuLCBnZW5lcmljQ2xlYW51cCB9IGZyb20gXCIuL3V0aWxcIjtcbmV4cG9ydCBjbGFzcyBMb2NhbE1hcmtldEFkcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1sbS1hZHNcIjtcbiAgICB9XG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgZ2VuZXJpY0NsZWFudXAodGhpcy50YWcpO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5MTUNvbW1vZGl0eUFkVGV4dCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBlbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRleHQgJiYgdGV4dC5tYXRjaCgvKEJVWUlOR3xTRUxMSU5HfENPUlApXFxzKFxcZCspXFxzLipcXHNAXFxzKFtcXGQsLl0rKVxcc1tBLVpdK1xcc2Zvci8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBwYXJzZUludChtYXRjaGVzWzJdKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbENlbnRzID0gcGFyc2VJbnQobWF0Y2hlc1szXS5yZXBsYWNlKC9bLC5dL2csICcnKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJpY2VTcGFuID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkxNQ29tbW9kaXR5QWRQcmljZVNwYW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlckl0ZW0gPSAodG90YWxDZW50cyAvIGNvdW50IC8gMTAwKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pO1xuICAgICAgICAgICAgICAgIHByaWNlU3Bhbi5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihgICgke3Blckl0ZW19IGVhKWAsIHRoaXMudGFnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0xvY2FsTWFya2V0QWRzLnRzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IFhJVEhhbmRsZXIgfSBmcm9tIFwiLi9YSVRIYW5kbGVyXCI7XG5pbXBvcnQgeyBzaG93QnVmZmVyLCBzZXRTZXR0aW5ncywgZ2V0TG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgRnJpZW5kbHlOYW1lcyB9IGZyb20gXCIuL0dhbWVQcm9wZXJ0aWVzXCI7XG5leHBvcnQgY2xhc3MgTW9kdWxlUnVubmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihtb2R1bGVzLCByZXN1bHQsIHdlYkRhdGEsIHVzZXJJbmZvLCBicm93c2VyKSB7XG4gICAgICAgIHRoaXMubW9kdWxlcyA9IG1vZHVsZXMubWFwKG0gPT4gdGhpcy5tb2R1bGVUb01FKG0pKTtcbiAgICAgICAgdGhpcy54aXQgPSBuZXcgWElUSGFuZGxlcihyZXN1bHQsIHVzZXJJbmZvLCB3ZWJEYXRhLCB0aGlzLm1vZHVsZXMsIGJyb3dzZXIpO1xuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvO1xuICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZU1vZHVsZXMocmVzdWx0KTtcbiAgICB9XG4gICAgdXBkYXRlQWN0aXZlTW9kdWxlcyhyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcImRpc2FibGVkXCJdID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kdWxlcy5mb3JFYWNoKG1wID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJkaXNhYmxlZFwiXSAmJiByZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJkaXNhYmxlZFwiXS5pbmNsdWRlcyhtcC5uYW1lKSkge1xuICAgICAgICAgICAgICAgIG1wLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1vZHVsZVRvTUUobW9kdWxlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgICBuYW1lOiBtb2R1bGUuY29uc3RydWN0b3IubmFtZSxcbiAgICAgICAgICAgIGZyaWVuZGx5TmFtZTogRnJpZW5kbHlOYW1lc1ttb2R1bGUuY29uc3RydWN0b3IubmFtZV0gfHwgbW9kdWxlLmNvbnN0cnVjdG9yLm5hbWUsXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICBjbGVhbnVwVGltZTogMCxcbiAgICAgICAgICAgIHJ1blRpbWU6IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbG9vcCgpIHtcbiAgICAgICAgdGhpcy54aXQucnVuKCk7XG4gICAgICAgIGlmICghdGhpcy5yZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJsb2FkZWRfYmVmb3JlXCJdKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcImxvYWRlZF9iZWZvcmVcIl0gPSBzaG93QnVmZmVyKFwiWElUIFNUQVJUXCIpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wibG9hZGVkX2JlZm9yZVwiXSkge1xuICAgICAgICAgICAgICAgIHNldFNldHRpbmdzKHRoaXMucmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZHVsZXMubWFwKGVudHJ5ID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICBlbnRyeS5tb2R1bGUuY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFudXBUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0MDtcbiAgICAgICAgICAgICAgICBjb25zdCB0MSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgICAgIGVudHJ5Lm1vZHVsZS5ydW4oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBydW5UaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSB0MTtcbiAgICAgICAgICAgICAgICBlbnRyeS5jb3VudCsrO1xuICAgICAgICAgICAgICAgIGVudHJ5LmNsZWFudXBUaW1lICs9IGNsZWFudXBUaW1lO1xuICAgICAgICAgICAgICAgIGVudHJ5LnJ1blRpbWUgKz0gcnVuVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMubG9vcCgpLCAyNTApO1xuICAgIH1cbiAgICBsb29wVXNlckluZm8oKSB7XG4gICAgICAgIGdldExvY2FsU3RvcmFnZShcIlBNTUctVXNlci1JbmZvXCIsIHVwZGF0ZVVzZXJJbmZvLCB0aGlzLnVzZXJJbmZvKTtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5sb29wVXNlckluZm8oKSwgMTAwMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlVXNlckluZm8ocmVzdWx0LCB1c2VySW5mbykge1xuICAgIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl0gPSByZXN1bHRbXCJQTU1HLVVzZXItSW5mb1wiXSB8fCB7fTtcbiAgICBjb25zdCBwbGFuZXRzID0ge307XG4gICAgaWYgKCF1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdIHx8ICF1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic2l0ZXNcIl0gfHwgIXVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzdG9yYWdlXCJdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcInNpdGVzXCJdLmZvckVhY2goc2l0ZSA9PiB7XG4gICAgICAgIHBsYW5ldHNbc2l0ZS5zaXRlSWRdID0gW3NpdGUuUGxhbmV0TmFtZSwgc2l0ZS5QbGFuZXROYXR1cmFsSWRdO1xuICAgIH0pO1xuICAgIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzdG9yYWdlXCJdLmZvckVhY2goc3RvcmUgPT4ge1xuICAgICAgICBpZiAocGxhbmV0c1tzdG9yZS5hZGRyZXNzYWJsZUlkXSkge1xuICAgICAgICAgICAgc3RvcmUuUGxhbmV0TmFtZSA9IHBsYW5ldHNbc3RvcmUuYWRkcmVzc2FibGVJZF1bMF07XG4gICAgICAgICAgICBzdG9yZS5QbGFuZXROYXR1cmFsSWQgPSBwbGFuZXRzW3N0b3JlLmFkZHJlc3NhYmxlSWRdWzFdO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9Nb2R1bGVSdW5uZXIudHNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgZ2V0QnVmZmVycywgY3JlYXRlVGV4dFNwYW4gfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gXCIuL1NlbGVjdG9yXCI7XG5pbXBvcnQgeyBGSU9JbnZlbnRvcnkgfSBmcm9tIFwiLi9YSVQvSW52ZW50b3J5XCI7XG5pbXBvcnQgeyBGSU9DaGF0IH0gZnJvbSBcIi4vWElUL0NoYXRcIjtcbmltcG9ydCB7IENhbGN1bGF0b3IgfSBmcm9tIFwiLi9YSVQvQ2FsY3VsYXRvclwiO1xuaW1wb3J0IHsgRGF0YUhlYWx0aCB9IGZyb20gXCIuL1hJVC9EYXRhSGVhbHRoXCI7XG5pbXBvcnQgeyBCdXJuIH0gZnJvbSBcIi4vWElUL0J1cm5cIjtcbmltcG9ydCB7IENvbnRyYWN0cyB9IGZyb20gXCIuL1hJVC9Db250cmFjdHNcIjtcbmltcG9ydCB7IENvbW1hbmRMaXN0cyB9IGZyb20gXCIuL1hJVC9Db21tYW5kTGlzdHNcIjtcbmltcG9ydCB7IERlYnVnIH0gZnJvbSBcIi4vWElUL0RlYnVnXCI7XG5pbXBvcnQgeyBGaW5hbmNlcyB9IGZyb20gXCIuL1hJVC9GaW5hbmNlc1wiO1xuaW1wb3J0IHsgSGVscCB9IGZyb20gXCIuL1hJVC9IZWxwXCI7XG5pbXBvcnQgeyBSZXBhaXJzIH0gZnJvbSBcIi4vWElUL1JlcGFpcnNcIjtcbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4vWElUL1NldHRpbmdzXCI7XG5pbXBvcnQgeyBTb3J0IH0gZnJvbSBcIi4vWElUL1NvcnRcIjtcbmltcG9ydCB7IFN0YXJ0IH0gZnJvbSBcIi4vWElUL1N0YXJ0XCI7XG5pbXBvcnQgeyBQclVOLCBQcm9zcGVyaXR5LCBTaGVldHMsIFdpa2ksIFBydW5QbGFubmVyLCBGSU8gfSBmcm9tIFwiLi9YSVQvV2ViXCI7XG5pbXBvcnQgeyBDaGVja2xpc3RzIH0gZnJvbSBcIi4vWElUL0NoZWNrbGlzdHNcIjtcbmltcG9ydCB7IE5vdGVzIH0gZnJvbSBcIi4vWElUL05vdGVzXCI7XG5leHBvcnQgY2xhc3MgWElUTW9kdWxlIHtcbn1cbmNvbnN0IFhJVENsYXNzZXMgPSB7XG4gICAgXCJJTlZcIjogRklPSW52ZW50b3J5LFxuICAgIFwiQ0FMQ1VMQVRPUlwiOiBDYWxjdWxhdG9yLFxuICAgIFwiQ0FMQ1wiOiBDYWxjdWxhdG9yLFxuICAgIFwiQ0hBVFwiOiBGSU9DaGF0LFxuICAgIFwiSEVBTFRIXCI6IERhdGFIZWFsdGgsXG4gICAgXCJCVVJOXCI6IEJ1cm4sXG4gICAgXCJDT05UU1wiOiBDb250cmFjdHMsXG4gICAgXCJDT05UUkFDVFNcIjogQ29udHJhY3RzLFxuICAgIFwiTElTVFwiOiBDb21tYW5kTGlzdHMsXG4gICAgXCJMSVNUU1wiOiBDb21tYW5kTGlzdHMsXG4gICAgXCJERUJVR1wiOiBEZWJ1ZyxcbiAgICBcIkZJTlwiOiBGaW5hbmNlcyxcbiAgICBcIkZJTkFOQ0VcIjogRmluYW5jZXMsXG4gICAgXCJGSU5BTkNFU1wiOiBGaW5hbmNlcyxcbiAgICBcIkhFTFBcIjogSGVscCxcbiAgICBcIlJFUEFJUlNcIjogUmVwYWlycyxcbiAgICBcIlNFVFwiOiBTZXR0aW5ncyxcbiAgICBcIlNFVFRJTkdTXCI6IFNldHRpbmdzLFxuICAgIFwiU09SVFwiOiBTb3J0LFxuICAgIFwiU1RBUlRcIjogU3RhcnQsXG4gICAgXCJQUlVOXCI6IFByVU4sXG4gICAgXCJQUk9TUEVSSVRZXCI6IFByb3NwZXJpdHksXG4gICAgXCJTSEVFVFwiOiBTaGVldHMsXG4gICAgXCJTSEVFVFNcIjogU2hlZXRzLFxuICAgIFwiV0lLSVwiOiBXaWtpLFxuICAgIFwiUExBTk5FUlwiOiBQcnVuUGxhbm5lcixcbiAgICBcIlBMQU5cIjogUHJ1blBsYW5uZXIsXG4gICAgXCJQUlVOUExBTk5FUlwiOiBQcnVuUGxhbm5lcixcbiAgICBcIkZJT1wiOiBGSU8sXG4gICAgXCJDSEVDS1wiOiBDaGVja2xpc3RzLFxuICAgIFwiQ0hFQ0tMSVNUXCI6IENoZWNrbGlzdHMsXG4gICAgXCJDSEVDS0xJU1RTXCI6IENoZWNrbGlzdHMsXG4gICAgXCJOT1RFXCI6IE5vdGVzLFxuICAgIFwiTk9URVNcIjogTm90ZXNcbn07XG5leHBvcnQgY2xhc3MgWElUSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IocG1tZ1NldHRpbmdzLCB1c2VySW5mbywgd2ViRGF0YSwgbW9kdWxlcywgYnJvd3Nlcikge1xuICAgICAgICB0aGlzLnRhZyA9IFwicGIteGl0XCI7XG4gICAgICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbztcbiAgICAgICAgdGhpcy53ZWJEYXRhID0gd2ViRGF0YTtcbiAgICAgICAgdGhpcy5tb2R1bGVzID0gbW9kdWxlcztcbiAgICAgICAgdGhpcy5wbW1nU2V0dGluZ3MgPSBwbW1nU2V0dGluZ3M7XG4gICAgICAgIHRoaXMuYnJvd3NlciA9IGJyb3dzZXI7XG4gICAgfVxuICAgIGNsZWFudXAoKSB7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGdldEJ1ZmZlcnMoXCJYSVRcIik7XG4gICAgICAgIGlmICghYnVmZmVycylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgYnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gKGJ1ZmZlci5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLlhJVFRpbGUpKTtcbiAgICAgICAgICAgIGlmICghdGlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aWxlLmZpcnN0Q2hpbGQgJiYgKHRpbGUuZmlyc3RDaGlsZC5pZCA9PSBcInBtbWctbG9hZC1zdWNjZXNzXCIgfHwgdGlsZS5maXJzdENoaWxkLmlkID09IFwicG1tZy1uby1tYXRjaFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcmFtZXRlcnNSYXcgPSBBcnJheS5mcm9tKGJ1ZmZlci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFNlbGVjdG9yLkJ1ZmZlckhlYWRlcikpWzBdLnRleHRDb250ZW50O1xuICAgICAgICAgICAgaWYgKCFwYXJhbWV0ZXJzUmF3KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gW107XG4gICAgICAgICAgICBpZiAocGFyYW1ldGVyc1Jhdy5jaGFyQXQoNCkgPT0gXCIxXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlWYWx1ZXMgPSBwYXJhbWV0ZXJzUmF3LnNsaWNlKDQpLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICAgICAgICBrZXlWYWx1ZXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLnB1c2goa2V5LnNsaWNlKDIpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycyA9IHBhcmFtZXRlcnNSYXcuc2xpY2UoNCkuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXJhbWV0ZXJzKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnNbaV0gPSBwYXJhbWV0ZXJzW2ldLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbGUuY2xhc3NMaXN0LmFkZChcInhpdC10aWxlXCIpO1xuICAgICAgICAgICAgaWYgKHRpbGUuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRpbGUuZmlyc3RDaGlsZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiMyMjIyMjJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaWYgKCF0aWxlLmZpcnN0Q2hpbGQgfHwgKHRpbGUuZmlyc3RDaGlsZCAmJiAodGlsZS5maXJzdENoaWxkLmlkICE9IFwicG1tZy1uby1tYXRjaFwiKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyZWZyZXNoXCIpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hCdXR0b24uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCLin7NcIikpO1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tdXBwZXItcmlnaHRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLnRhZyk7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hCdXR0b24uc3R5bGUuZm9udFNpemUgPSBcIjE2cHhcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEJ1dHRvbi5zdHlsZS5wYWRkaW5nVG9wID0gdGhpcy5icm93c2VyID09IFwiY2hyb21pdW1cIiA/IFwiMTJweFwiIDogXCI3cHhcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicmVmcmVzaFwiKTtcbiAgICAgICAgICAgICAgICAgICAgKGJ1ZmZlci5jaGlsZHJlblszXSB8fCBidWZmZXIuY2hpbGRyZW5bMl0pLmluc2VydEJlZm9yZShyZWZyZXNoQnV0dG9uLCAoYnVmZmVyLmNoaWxkcmVuWzNdIHx8IGJ1ZmZlci5jaGlsZHJlblsyXSkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29udGVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb250ZW50RGl2LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgY29udGVudERpdi5zdHlsZS5mbGV4R3JvdyA9IFwiMVwiO1xuICAgICAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChjb250ZW50RGl2KTtcbiAgICAgICAgICAgIGlmICghWElUQ2xhc3Nlc1twYXJhbWV0ZXJzWzBdLnRvVXBwZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0Q29udGVudCA9IFwiRXJyb3IhIE5vIE1hdGNoaW5nIEZ1bmN0aW9uIVwiO1xuICAgICAgICAgICAgICAgIGlmICghdGlsZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGlsZS5maXJzdENoaWxkLmlkID0gXCJwbW1nLW5vLW1hdGNoXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aWxlLmZpcnN0Q2hpbGQuaWQgPSBcInBtbWctbG9hZC1zdWNjZXNzXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgWElUT2JqID0gbmV3IFhJVENsYXNzZXNbcGFyYW1ldGVyc1swXS50b1VwcGVyQ2FzZSgpXShjb250ZW50RGl2LCBwYXJhbWV0ZXJzLCB0aGlzLnBtbWdTZXR0aW5ncywgdGhpcy51c2VySW5mbywgdGhpcy53ZWJEYXRhLCB0aGlzLm1vZHVsZXMpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHsgWElUT2JqLmNyZWF0ZV9idWZmZXIoKTsgfSk7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQnVmZmVyVGl0bGUpLnRleHRDb250ZW50ID0gWElUT2JqLm5hbWU7XG4gICAgICAgICAgICAgICAgWElUT2JqLmNyZWF0ZV9idWZmZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9YSVRIYW5kbGVyLnRzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGNsZWFyQ2hpbGRyZW4sIGNyZWF0ZVRleHRTcGFuLCBjcmVhdGVNYXRlcmlhbEVsZW1lbnQsIGNyZWF0ZUxpbmssIFhJVFdlYlJlcXVlc3QgfSBmcm9tIFwiLi4vdXRpbFwiO1xuaW1wb3J0IHsgTWF0ZXJpYWxOYW1lcyB9IGZyb20gXCIuLi9HYW1lUHJvcGVydGllc1wiO1xuZXhwb3J0IGNsYXNzIEZJT0ludmVudG9yeSB7XG4gICAgY29uc3RydWN0b3IodGlsZSwgcGFyYW1ldGVycywgcG1tZ1NldHRpbmdzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRklPIElOVkVOVE9SWVwiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICB0aGlzLnBtbWdTZXR0aW5ncyA9IHBtbWdTZXR0aW5ncztcbiAgICB9XG4gICAgY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzLnRpbGUpO1xuICAgICAgICBjb25zdCBhcGlrZXkgPSB0aGlzLnBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImFwaWtleVwiXTtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGUudGV4dENvbnRlbnQgPSBcIkVycm9yISBOb3QgRW5vdWdoIFBhcmFtZXRlcnMhXCI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnB1c2goYXBpa2V5KTtcbiAgICAgICAgICAgIFhJVFdlYlJlcXVlc3QodGhpcy50aWxlLCB0aGlzLnBhcmFtZXRlcnMsIEZJT0ludl9nZXRBbGxTdG9yYWdlcywgXCJodHRwczovL3Jlc3QuZm5hci5uZXQvYXV0aC9ncm91cC9cIiArIHRoaXMucGFyYW1ldGVyc1sxXSwgXCJHRVRcIiwgW1wiQXV0aG9yaXphdGlvblwiLCBhcGlrZXldLCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDM7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnNbMl0gKz0gXCIgXCIgKyB0aGlzLnBhcmFtZXRlcnNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBYSVRXZWJSZXF1ZXN0KHRoaXMudGlsZSwgdGhpcy5wYXJhbWV0ZXJzLCBGSU9JbnZfcG9zdCwgXCJodHRwczovL3Jlc3QuZm5hci5uZXQvc3RvcmFnZS9cIiArIHRoaXMucGFyYW1ldGVyc1sxXSArIFwiL1wiICsgdGhpcy5wYXJhbWV0ZXJzWzJdLCBcIkdFVFwiLCBbXCJBdXRob3JpemF0aW9uXCIsIGFwaWtleV0sIHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVfYnVmZmVyKCkge1xuICAgIH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHtcbiAgICB9XG59XG5mdW5jdGlvbiBGSU9JbnZfcG9zdCh0aWxlLCBwYXJhbWV0ZXJzLCBqc29uZGF0YSkge1xuICAgIGNvbnN0IHRhZyA9IFwiRklPXCI7XG4gICAgaWYgKGpzb25kYXRhID09IHVuZGVmaW5lZCB8fCBqc29uZGF0YSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGludmVudG9yeURhdGE7XG4gICAgdHJ5IHtcbiAgICAgICAgaW52ZW50b3J5RGF0YSA9IEpTT04ucGFyc2UoanNvbmRhdGEpO1xuICAgIH1cbiAgICBjYXRjaCAoU3ludGF4RXJyb3IpIHtcbiAgICAgICAgdGlsZS50ZXh0Q29udGVudCA9IFwiRXJyb3IhIENvdWxkIE5vdCBMb2FkIERhdGEhXCI7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpbnZlbnRvcnlEYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgdm9sdW1lVXNlZCA9IGludmVudG9yeURhdGFbXCJWb2x1bWVMb2FkXCJdO1xuICAgIGNvbnN0IHZvbHVtZVRvdGFsID0gaW52ZW50b3J5RGF0YVtcIlZvbHVtZUNhcGFjaXR5XCJdO1xuICAgIGNvbnN0IHdlaWdodFVzZWQgPSBpbnZlbnRvcnlEYXRhW1wiV2VpZ2h0TG9hZFwiXTtcbiAgICBjb25zdCB3ZWlnaHRUb3RhbCA9IGludmVudG9yeURhdGFbXCJXZWlnaHRDYXBhY2l0eVwiXTtcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKFwiaW52LWhlYWRlclwiKTtcbiAgICBoZWFkZXIuaWQgPSBcImhlYWRlclwiO1xuICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgdGlsZS5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRpbGUuYXBwZW5kQ2hpbGQoYm9keSk7XG4gICAgYm9keS5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgYm9keS5jbGFzc0xpc3QuYWRkKFwiaW52LWJvZHlcIik7XG4gICAgYm9keS5pZCA9IFwiYm9keVwiO1xuICAgIGhlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihwYXJhbWV0ZXJzWzJdLCB0YWcpKTtcbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICBjb25zdCB1c2VyRWxlbSA9IGNyZWF0ZVRleHRTcGFuKHBhcmFtZXRlcnNbMV0sIHRhZyk7XG4gICAgdXNlckVsZW0uc3R5bGUucGFkZGluZ0xlZnQgPSBcIjhweFwiO1xuICAgIGhlYWRlci5hcHBlbmRDaGlsZCh1c2VyRWxlbSk7XG4gICAgY29uc3Qgdm9sdW1lTGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdm9sdW1lTGluZS5pZCA9IFwidm9sdW1lLWxpbmVcIjtcbiAgICB2b2x1bWVMaW5lLnN0eWxlLnBhZGRpbmcgPSBcIjJweCA4cHhcIjtcbiAgICB2b2x1bWVMaW5lLnN0eWxlLmNvbG9yID0gXCIjOTk5OTk5XCI7XG4gICAgdm9sdW1lTGluZS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIlZvbHVtZSBcIiwgdGFnKSk7XG4gICAgY29uc3Qgdm9sdW1lQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByb2dyZXNzXCIpO1xuICAgIHZvbHVtZUJhci5pZCA9IFwidm9sdW1lLWJhclwiO1xuICAgIHZvbHVtZUJhci5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgdm9sdW1lQmFyLmNsYXNzTGlzdC5hZGQoXCJwcm9ncmVzcy1iYXJcIik7XG4gICAgdm9sdW1lQmFyLm1heCA9IDE7XG4gICAgdm9sdW1lQmFyLnZhbHVlID0gdm9sdW1lVXNlZCAvIHZvbHVtZVRvdGFsO1xuICAgIHZvbHVtZUxpbmUuYXBwZW5kQ2hpbGQodm9sdW1lQmFyKTtcbiAgICB2b2x1bWVMaW5lLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKHZvbHVtZVVzZWQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pICsgXCIgLyBcIiArIHZvbHVtZVRvdGFsLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCB9KSArIFwiIG3Cs1wiLCB0YWcpKTtcbiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQodm9sdW1lTGluZSk7XG4gICAgY29uc3Qgd2VpZ2h0TGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgd2VpZ2h0TGluZS5pZCA9IFwid2VpZ2h0LWxpbmVcIjtcbiAgICB3ZWlnaHRMaW5lLnN0eWxlLnBhZGRpbmcgPSBcIjJweCA4cHhcIjtcbiAgICB3ZWlnaHRMaW5lLnN0eWxlLmNvbG9yID0gXCIjOTk5OTk5XCI7XG4gICAgd2VpZ2h0TGluZS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIldlaWdodCBcIiwgdGFnKSk7XG4gICAgY29uc3Qgd2VpZ2h0QmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByb2dyZXNzXCIpO1xuICAgIHdlaWdodEJhci5pZCA9IFwid2VpZ2h0LWJhclwiO1xuICAgIHdlaWdodEJhci5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgd2VpZ2h0QmFyLmNsYXNzTGlzdC5hZGQoXCJwcm9ncmVzcy1iYXJcIik7XG4gICAgd2VpZ2h0QmFyLm1heCA9IDE7XG4gICAgd2VpZ2h0QmFyLnZhbHVlID0gd2VpZ2h0VXNlZCAvIHdlaWdodFRvdGFsO1xuICAgIHdlaWdodExpbmUuYXBwZW5kQ2hpbGQod2VpZ2h0QmFyKTtcbiAgICB3ZWlnaHRMaW5lLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKHdlaWdodFVzZWQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pICsgXCIgLyBcIiArIHdlaWdodFRvdGFsLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCB9KSArIFwiIHRcIiwgdGFnKSk7XG4gICAgaGVhZGVyLmFwcGVuZENoaWxkKHdlaWdodExpbmUpO1xuICAgIGludmVudG9yeURhdGFbXCJTdG9yYWdlSXRlbXNcIl0uc29ydChmaW9NYXRzQWxwaGFiZXRTb3J0KTtcbiAgICBmb3IgKGxldCBpdGVtIG9mIGludmVudG9yeURhdGFbXCJTdG9yYWdlSXRlbXNcIl0pIHtcbiAgICAgICAgY29uc3QgbWF0ID0gY3JlYXRlTWF0ZXJpYWxFbGVtZW50KGl0ZW1bXCJNYXRlcmlhbFRpY2tlclwiXSwgdGFnLCBpdGVtW1wiTWF0ZXJpYWxBbW91bnRcIl0sIHRydWUpO1xuICAgICAgICBpZiAobWF0KSB7XG4gICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKG1hdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xufVxuZnVuY3Rpb24gRklPSW52X2dldEFsbFN0b3JhZ2VzKHRpbGUsIHBhcmFtZXRlcnMsIGpzb25kYXRhKSB7XG4gICAgdmFyIHVzZXJKU09OO1xuICAgIHRyeSB7XG4gICAgICAgIHVzZXJKU09OID0gSlNPTi5wYXJzZShqc29uZGF0YSk7XG4gICAgfVxuICAgIGNhdGNoIChTeW50YXhFcnJvcikge1xuICAgICAgICB0aWxlLnRleHRDb250ZW50ID0gXCJFcnJvciEgQmFkIERhdGEgZnJvbSBGSU8hXCI7XG4gICAgfVxuICAgIHZhciB1c2VybmFtZXMgPSBbXTtcbiAgICB1c2VySlNPTltcIkdyb3VwVXNlcnNcIl0uZm9yRWFjaCh1c2VyID0+IHtcbiAgICAgICAgdXNlcm5hbWVzLnB1c2godXNlcltcIkdyb3VwVXNlck5hbWVcIl0pO1xuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcGFyYW1ldGVycy5wdXNoKHVzZXJKU09OW1wiR3JvdXBOYW1lXCJdKTtcbiAgICBYSVRXZWJSZXF1ZXN0KHRpbGUsIHBhcmFtZXRlcnMsIEZJT0ludl9hbGxEaXNwbGF5LCBcImh0dHBzOi8vcmVzdC5mbmFyLm5ldC9maW93ZWIvZ3JvdXBodWJcIiwgXCJQT1NUXCIsIFtcIkF1dGhvcml6YXRpb25cIiwgcGFyYW1ldGVyc1syXV0sIEpTT04uc3RyaW5naWZ5KHVzZXJuYW1lcykpO1xuICAgIHJldHVybjtcbn1cbmZ1bmN0aW9uIEZJT0ludl9hbGxEaXNwbGF5KHRpbGUsIHBhcmFtZXRlcnMsIGpzb25kYXRhKSB7XG4gICAgdmFyIGdyb3VwRGF0YSA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAgIGdyb3VwRGF0YSA9IEpTT04ucGFyc2UoanNvbmRhdGEpO1xuICAgIH1cbiAgICBjYXRjaCAoU3ludGF4RXJyb3IpIHtcbiAgICAgICAgdGlsZS50ZXh0Q29udGVudCA9IFwiRXJyb3IhIEJhZCBEYXRhIGZyb20gRklPIVwiO1xuICAgIH1cbiAgICBjb25zdCB0aXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGl0bGVEaXYuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xuICAgIHRpdGxlRGl2LmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKHBhcmFtZXRlcnNbM10gKyBcIiBJbnZlbnRvcmllc1wiKSk7XG4gICAgdGlsZS5hcHBlbmRDaGlsZCh0aXRsZURpdik7XG4gICAgY29uc3QgYm9keURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGlsZS5hcHBlbmRDaGlsZChib2R5RGl2KTtcbiAgICBib2R5RGl2LmNsYXNzTGlzdC5hZGQoXCJmbGV4LXRhYmxlXCIpO1xuICAgIGlmIChncm91cERhdGFbXCJQbGF5ZXJNb2RlbHNcIl0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRpbGUudGV4dENvbnRlbnQgPSBcIkVycm9yISBCYWQgRGF0YSFcIjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBncm91cERhdGFbXCJQbGF5ZXJNb2RlbHNcIl0uZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgICBpZiAocGxheWVyW1wiTG9jYXRpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGxheWVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcGxheWVyRGl2LmNsYXNzTGlzdC5hZGQoXCJsaXN0XCIpO1xuICAgICAgICBwbGF5ZXJEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4ocGxheWVyW1wiVXNlck5hbWVcIl0pKTtcbiAgICAgICAgcGxheWVyRGl2LmZpcnN0Q2hpbGQuc3R5bGUuZm9udFdlaWdodCA9IFwiYm9sZFwiO1xuICAgICAgICBwbGF5ZXJbXCJMb2NhdGlvbnNcIl0uZm9yRWFjaChsb2NhdGlvbiA9PiB7XG4gICAgICAgICAgICBwbGF5ZXJEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlTGluayhsb2NhdGlvbltcIkxvY2F0aW9uTmFtZVwiXSwgXCJYSVQgSU5WX1wiICsgcGxheWVyW1wiVXNlck5hbWVcIl0gKyBcIl9cIiArIGxvY2F0aW9uW1wiTG9jYXRpb25OYW1lXCJdLnJlcGxhY2UoLyAvLCBcIl9cIikpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgICAgIGJvZHlEaXYuYXBwZW5kQ2hpbGQocGxheWVyRGl2KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICAgIHBhcmFtZXRlcnMucG9wKCk7XG4gICAgcGFyYW1ldGVycy5wb3AoKTtcbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBmaW9NYXRzQWxwaGFiZXRTb3J0KGEsIGIpIHtcbiAgICBpZiAoIWFbXCJNYXRlcmlhbFRpY2tlclwiXSB8fCAhYltcIk1hdGVyaWFsVGlja2VyXCJdIHx8ICFNYXRlcmlhbE5hbWVzW2FbXCJNYXRlcmlhbFRpY2tlclwiXV0gfHwgIU1hdGVyaWFsTmFtZXNbYltcIk1hdGVyaWFsVGlja2VyXCJdXSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKE1hdGVyaWFsTmFtZXNbYVtcIk1hdGVyaWFsVGlja2VyXCJdXVsxXSA9PSBNYXRlcmlhbE5hbWVzW2JbXCJNYXRlcmlhbFRpY2tlclwiXV1bMV0pIHtcbiAgICAgICAgcmV0dXJuIGFbXCJNYXRlcmlhbFRpY2tlclwiXS5sb2NhbGVDb21wYXJlKGJbXCJNYXRlcmlhbFRpY2tlclwiXSk7XG4gICAgfVxuICAgIHJldHVybiBNYXRlcmlhbE5hbWVzW2FbXCJNYXRlcmlhbFRpY2tlclwiXV1bMV0ubG9jYWxlQ29tcGFyZShNYXRlcmlhbE5hbWVzW2JbXCJNYXRlcmlhbFRpY2tlclwiXV1bMV0pO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvWElUL0ludmVudG9yeS50c1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY2xlYXJDaGlsZHJlbiwgWElUV2ViUmVxdWVzdCB9IGZyb20gXCIuLi91dGlsXCI7XG5leHBvcnQgY2xhc3MgRklPQ2hhdCB7XG4gICAgY29uc3RydWN0b3IodGlsZSwgcGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkZJTyBDaGF0XCI7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgfVxuICAgIGNyZWF0ZV9idWZmZXIoKSB7XG4gICAgICAgIGNsZWFyQ2hpbGRyZW4odGhpcy50aWxlKTtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGUudGV4dENvbnRlbnQgPSBcIkVycm9yISBOb3QgRW5vdWdoIFBhcmFtZXRlcnMhXCI7XG4gICAgICAgIH1cbiAgICAgICAgWElUV2ViUmVxdWVzdCh0aGlzLnRpbGUsIHRoaXMucGFyYW1ldGVycywgQ2hhdF9wb3N0LCBcImh0dHBzOi8vcmVzdC5mbmFyLm5ldC9jaGF0L2Rpc3BsYXkvXCIgKyB0aGlzLnBhcmFtZXRlcnNbMV0sIFwiR0VUXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVfYnVmZmVyKCkge1xuICAgIH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHtcbiAgICB9XG59XG5mdW5jdGlvbiBDaGF0X3Bvc3QoY2hhdERpdiwgcGFyYW1ldGVycywganNvbmRhdGEpIHtcbiAgICBpZiAoanNvbmRhdGEgPT0gdW5kZWZpbmVkIHx8IGpzb25kYXRhID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2hhdERhdGE7XG4gICAgdHJ5IHtcbiAgICAgICAgY2hhdERhdGEgPSBKU09OLnBhcnNlKGpzb25kYXRhKTtcbiAgICB9XG4gICAgY2F0Y2ggKFN5bnRheEVycm9yKSB7XG4gICAgICAgIGNoYXREaXYudGV4dENvbnRlbnQgPSBcIkVycm9yISBDb3VsZCBOb3QgTG9hZCBEYXRhIVwiO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aXRsZURpdi50ZXh0Q29udGVudCA9IHBhcmFtZXRlcnNbMV0gKyBcIiBHbG9iYWwgU2l0ZSBPd25lcnNcIjtcbiAgICB0aXRsZURpdi5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG4gICAgY2hhdERpdi5hcHBlbmRDaGlsZCh0aXRsZURpdik7XG4gICAgY2hhdERhdGEuZm9yRWFjaChjaGF0ID0+IHtcbiAgICAgICAgY29uc3QgY2hhdExpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjaGF0TGluZS5jbGFzc0xpc3QuYWRkKFwiY2hhdC1saW5lXCIpO1xuICAgICAgICBjaGF0RGl2LmFwcGVuZENoaWxkKGNoYXRMaW5lKTtcbiAgICAgICAgY29uc3QgdGltZURhdGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBkYXRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGltZURhdGVEaXYuYXBwZW5kQ2hpbGQoZGF0ZURpdik7XG4gICAgICAgIGRhdGVEaXYudGV4dENvbnRlbnQgPSAobmV3IERhdGUoY2hhdFtcIk1lc3NhZ2VUaW1lc3RhbXBcIl0pKS50b0xvY2FsZURhdGVTdHJpbmcodW5kZWZpbmVkLCB7IG1vbnRoOiBcIjItZGlnaXRcIiwgZGF5OiBcIjItZGlnaXRcIiB9KTtcbiAgICAgICAgZGF0ZURpdi5jbGFzc0xpc3QuYWRkKFwidGltZS1kYXRlXCIpO1xuICAgICAgICBjb25zdCB0aW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGltZURhdGVEaXYuYXBwZW5kQ2hpbGQodGltZURpdik7XG4gICAgICAgIHRpbWVEaXYudGV4dENvbnRlbnQgPSAobmV3IERhdGUoY2hhdFtcIk1lc3NhZ2VUaW1lc3RhbXBcIl0pKS50b0xvY2FsZVRpbWVTdHJpbmcodW5kZWZpbmVkLCB7IGhvdXI6IFwiMi1kaWdpdFwiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH0pO1xuICAgICAgICB0aW1lRGl2LmNsYXNzTGlzdC5hZGQoXCJ0aW1lLWRhdGVcIik7XG4gICAgICAgIHRpbWVEaXYuc3R5bGUuY29sb3IgPSBcIiM5OTk5OTlcIjtcbiAgICAgICAgY2hhdExpbmUuYXBwZW5kQ2hpbGQodGltZURhdGVEaXYpO1xuICAgICAgICBjb25zdCBuYW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY2hhdExpbmUuYXBwZW5kQ2hpbGQobmFtZURpdik7XG4gICAgICAgIG5hbWVEaXYuY2xhc3NMaXN0LmFkZChcImNoYXQtbmFtZVwiKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNoYXRMaW5lLmFwcGVuZENoaWxkKG1lc3NhZ2VEaXYpO1xuICAgICAgICBtZXNzYWdlRGl2LmNsYXNzTGlzdC5hZGQoXCJjaGF0LW1lc3NhZ2VcIik7XG4gICAgICAgIHN3aXRjaCAoY2hhdFtcIk1lc3NhZ2VUeXBlXCJdKSB7XG4gICAgICAgICAgICBjYXNlIFwiQ0hBVFwiOlxuICAgICAgICAgICAgICAgIG5hbWVEaXYudGV4dENvbnRlbnQgPSBjaGF0W1wiVXNlck5hbWVcIl07XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpdi50ZXh0Q29udGVudCA9IGNoYXRbXCJNZXNzYWdlVGV4dFwiXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJKT0lORURcIjpcbiAgICAgICAgICAgICAgICBtZXNzYWdlRGl2LnRleHRDb250ZW50ID0gY2hhdFtcIlVzZXJOYW1lXCJdICsgXCIgam9pbmVkLlwiO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEaXYuc3R5bGUuZm9udFN0eWxlID0gXCJpdGFsaWNcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJMRUZUXCI6XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpdi50ZXh0Q29udGVudCA9IGNoYXRbXCJVc2VyTmFtZVwiXSArIFwiIGxlZnQuXCI7XG4gICAgICAgICAgICAgICAgbWVzc2FnZURpdi5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbiAgICByZXR1cm47XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9YSVQvQ2hhdC50c1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY2xlYXJDaGlsZHJlbiB9IGZyb20gXCIuLi91dGlsXCI7XG5leHBvcnQgY2xhc3MgQ2FsY3VsYXRvciB7XG4gICAgY29uc3RydWN0b3IodGlsZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNBTENVTEFUT1JcIjtcbiAgICAgICAgdGhpcy50aWxlID0gdGlsZTtcbiAgICB9XG4gICAgY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzLnRpbGUpO1xuICAgICAgICBjb25zdCBjYWxjRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKGNhbGNEaXYpO1xuICAgICAgICB0aGlzLnRpbGUuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICB0aGlzLnRpbGUuc3R5bGUuZmxleERpcmVjdGlvbiA9IFwicm93XCI7XG4gICAgICAgIGNhbGNEaXYuc3R5bGUubWF4SGVpZ2h0ID0gXCI0MDBweFwiO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIG91dHB1dC5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtdGV4dFwiKTtcbiAgICAgICAgb3V0cHV0LnN0eWxlLmZvbnRTaXplID0gXCIyMHB4XCI7XG4gICAgICAgIG91dHB1dC5yZWFkT25seSA9IHRydWU7XG4gICAgICAgIG91dHB1dC5zdHlsZS50ZXh0QWxpZ24gPSBcInJpZ2h0XCI7XG4gICAgICAgIGNhbGNEaXYuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBjYWxjRGl2LnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcImNvbHVtblwiO1xuICAgICAgICBjYWxjRGl2LnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiO1xuICAgICAgICBjYWxjRGl2LnN0eWxlLndpZHRoID0gXCI2MCVcIjtcbiAgICAgICAgY2FsY0Rpdi5zdHlsZS5taW5XaWR0aCA9IFwiMTgwcHhcIjtcbiAgICAgICAgY29uc3QgaGlzdG9yeURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChoaXN0b3J5RGl2KTtcbiAgICAgICAgaGlzdG9yeURpdi5zdHlsZS53aWR0aCA9IFwiMzUlXCI7XG4gICAgICAgIGhpc3RvcnlEaXYuc3R5bGUubWFyZ2luVG9wID0gXCIxMHB4XCI7XG4gICAgICAgIGhpc3RvcnlEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgaGlzdG9yeURpdi5zdHlsZS5tYXhIZWlnaHQgPSBcIjE5NXB4XCI7XG4gICAgICAgIGhpc3RvcnlEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMzUsIDQwLCA0MylcIjtcbiAgICAgICAgaGlzdG9yeURpdi5zdHlsZS5ib3JkZXJDb2xvciA9IFwicmdiKDQzLDcyLDkwKVwiO1xuICAgICAgICBoaXN0b3J5RGl2LnN0eWxlLmJvcmRlcldpZHRoID0gXCIxcHhcIjtcbiAgICAgICAgaGlzdG9yeURpdi5zdHlsZS5ib3JkZXJTdHlsZSA9IFwic29saWRcIjtcbiAgICAgICAgY29uc3QgaGlzdG9yeVRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuICAgICAgICBoaXN0b3J5RGl2LmFwcGVuZENoaWxkKGhpc3RvcnlUYWJsZSk7XG4gICAgICAgIGNvbnN0IGhpc3RvcnlUYWJsZUJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XG4gICAgICAgIGhpc3RvcnlUYWJsZS5hcHBlbmRDaGlsZChoaXN0b3J5VGFibGVCb2R5KTtcbiAgICAgICAgb3V0cHV0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIG91dHB1dC5zdHlsZS53aWR0aCA9IFwiOTAlXCI7XG4gICAgICAgIG91dHB1dC5zdHlsZS5oZWlnaHQgPSBcIjM2cHhcIjtcbiAgICAgICAgb3V0cHV0LnN0eWxlLm1hcmdpbiA9IFwiMTBweFwiO1xuICAgICAgICBvdXRwdXQuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgICAgIGNhbGNEaXYuYXBwZW5kQ2hpbGQob3V0cHV0KTtcbiAgICAgICAgdmFyIGN1cnJlbnRTdHJpbmcgPSBcIlwiO1xuICAgICAgICB2YXIgcHJldlZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRPcGVyYXRpb24gPSBudWxsO1xuICAgICAgICB2YXIgY2xlYXJPbk5leHQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRvdWJsZUNsZWFyID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGtleXBhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNhbGNEaXYuYXBwZW5kQ2hpbGQoa2V5cGFkKTtcbiAgICAgICAga2V5cGFkLnN0eWxlLndpZHRoID0gXCI5NSVcIjtcbiAgICAgICAga2V5cGFkLnN0eWxlLmRpc3BsYXkgPSBcImdyaWRcIjtcbiAgICAgICAga2V5cGFkLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBcInJlcGVhdCg0LCAxZnIpXCI7XG4gICAgICAgIGNvbnN0IGxheW91dCA9IFtbNywgbnVsbF0sIFs4LCBudWxsXSwgWzksIG51bGxdLCBbXCLDt1wiLCBcIiMzZmEyZGVcIl0sIFs0LCBudWxsXSwgWzUsIG51bGxdLCBbNiwgbnVsbF0sIFtcInhcIiwgXCIjM2ZhMmRlXCJdLCBbMSwgbnVsbF0sIFsyLCBudWxsXSwgWzMsIG51bGxdLCBbXCItXCIsIFwiIzNmYTJkZVwiXSwgWzAsIG51bGxdLCBbXCIuXCIsIG51bGxdLCBbXCLCsVwiLCBudWxsXSwgW1wiK1wiLCBcIiMzZmEyZGVcIl1dO1xuICAgICAgICBsYXlvdXQuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicmVmcmVzaC1idXR0b25cIik7XG4gICAgICAgICAgICBidXR0b24uc3R5bGUuZm9udFNpemUgPSBcIjIwcHhcIjtcbiAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IChvcHRbMF0gPT0gMCA/IFwiMFwiIDogb3B0WzBdIHx8IFwiXCIpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAob3B0WzFdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gb3B0WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAga2V5cGFkLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgICAgICBidXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0WzBdID09IFwiK1wiIHx8IG9wdFswXSA9PSBcIi1cIiB8fCBvcHRbMF0gPT0gXCJ4XCIgfHwgb3B0WzBdID09IFwiw7dcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyaW5nID0gY2FsY3VsYXRlKHByZXZWYWx1ZSwgY3VycmVudFN0cmluZywgY3VycmVudE9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlcmF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZXJhdGlvbiA9IG9wdFswXTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJPbk5leHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSBwYXJzZUZsb2F0KGN1cnJlbnRTdHJpbmcpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEyIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRbMF0gPT0gXCLCsVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RyaW5nLnRvU3RyaW5nKCkuY2hhckF0KDApID09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyaW5nID0gY3VycmVudFN0cmluZy5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyaW5nID0gXCItXCIgKyBjdXJyZW50U3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC52YWx1ZSA9IHBhcnNlRmxvYXQoY3VycmVudFN0cmluZykudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMTIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xlYXJPbk5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZWYWx1ZSA9IHBhcnNlRmxvYXQoY3VycmVudFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyT25OZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0cmluZyArPSAob3B0WzBdID09IDAgPyBcIjBcIiA6IG9wdFswXSB8fCBcIlwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSBwYXJzZUZsb2F0KGN1cnJlbnRTdHJpbmcpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEyIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb3VibGVDbGVhciA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJvdHRvbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNhbGNEaXYuYXBwZW5kQ2hpbGQoYm90dG9tRGl2KTtcbiAgICAgICAgYm90dG9tRGl2LnN0eWxlLndpZHRoID0gXCI5NSVcIjtcbiAgICAgICAgYm90dG9tRGl2LnN0eWxlLmRpc3BsYXkgPSBcImdyaWRcIjtcbiAgICAgICAgYm90dG9tRGl2LnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBcInJlcGVhdCgyLCAxZnIpXCI7XG4gICAgICAgIGNvbnN0IGNsZWFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgYm90dG9tRGl2LmFwcGVuZENoaWxkKGNsZWFyKTtcbiAgICAgICAgY2xlYXIudGV4dENvbnRlbnQgPSBcIkNsZWFyXCI7XG4gICAgICAgIGNsZWFyLmNsYXNzTGlzdC5hZGQoXCJyZWZyZXNoLWJ1dHRvblwiKTtcbiAgICAgICAgY2xlYXIuc3R5bGUuZm9udFNpemUgPSBcIjIwcHhcIjtcbiAgICAgICAgY2xlYXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMjE3LCA4MywgNzkpXCI7XG4gICAgICAgIGNsZWFyLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjdXJyZW50U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIG91dHB1dC52YWx1ZSA9IGN1cnJlbnRTdHJpbmc7XG4gICAgICAgICAgICBjdXJyZW50T3BlcmF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHByZXZWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICBjbGVhck9uTmV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGRvdWJsZUNsZWFyKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJDaGlsZHJlbihoaXN0b3J5VGFibGVCb2R5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvdWJsZUNsZWFyID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBlbnRlci5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRPcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTdHJpbmcgPSBjYWxjdWxhdGUocHJldlZhbHVlLCBjdXJyZW50U3RyaW5nLCBjdXJyZW50T3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50T3BlcmF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwcmV2VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0cHV0LnZhbHVlID0gcGFyc2VGbG9hdChjdXJyZW50U3RyaW5nKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAxMiB9KTtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICAgICAgY29uc3QgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICB0ZC50ZXh0Q29udGVudCA9IG91dHB1dC52YWx1ZTtcbiAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgICAgIGlmIChoaXN0b3J5VGFibGVCb2R5LmNoaWxkcmVuLmxlbmd0aCA+IDExKSB7XG4gICAgICAgICAgICAgICAgaGlzdG9yeVRhYmxlQm9keS5yZW1vdmVDaGlsZChoaXN0b3J5VGFibGVCb2R5LmNoaWxkcmVuW2hpc3RvcnlUYWJsZUJvZHkuY2hpbGRyZW4ubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhpc3RvcnlUYWJsZUJvZHkuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGhpc3RvcnlUYWJsZUJvZHkuaW5zZXJ0QmVmb3JlKHRyLCBoaXN0b3J5VGFibGVCb2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlzdG9yeVRhYmxlQm9keS5hcHBlbmRDaGlsZCh0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb3VibGVDbGVhciA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBib3R0b21EaXYuYXBwZW5kQ2hpbGQoZW50ZXIpO1xuICAgICAgICBlbnRlci50ZXh0Q29udGVudCA9IFwiRW50ZXJcIjtcbiAgICAgICAgZW50ZXIuY2xhc3NMaXN0LmFkZChcInJlZnJlc2gtYnV0dG9uXCIpO1xuICAgICAgICBlbnRlci5zdHlsZS5mb250U2l6ZSA9IFwiMjBweFwiO1xuICAgICAgICBlbnRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiM1Y2I4NWNcIjtcbiAgICAgICAgdGhpcy50aWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiMVwiIHx8IGUua2V5ID09PSBcIjJcIiB8fCBlLmtleSA9PT0gXCIzXCIgfHwgZS5rZXkgPT09IFwiNFwiIHx8IGUua2V5ID09PSBcIjVcIiB8fCBlLmtleSA9PT0gXCI2XCIgfHwgZS5rZXkgPT09IFwiN1wiIHx8IGUua2V5ID09PSBcIjhcIiB8fCBlLmtleSA9PT0gXCI5XCIgfHwgZS5rZXkgPT09IFwiMFwiIHx8IGUua2V5ID09PSBcIi5cIikge1xuICAgICAgICAgICAgICAgIGlmIChjbGVhck9uTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VmFsdWUgPSBwYXJzZUZsb2F0KGN1cnJlbnRTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJPbk5leHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudFN0cmluZyArPSBlLmtleTtcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSBwYXJzZUZsb2F0KGN1cnJlbnRTdHJpbmcpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09IFwiK1wiIHx8IGUua2V5ID09PSBcIi1cIiB8fCBlLmtleSA9PT0gXCJ4XCIgfHwgZS5rZXkgPT09IFwiKlwiIHx8IGUua2V5ID09PSBcIi9cIikge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50T3BlcmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0cmluZyA9IGNhbGN1bGF0ZShwcmV2VmFsdWUsIGN1cnJlbnRTdHJpbmcsIGN1cnJlbnRPcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlcmF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcHJldlZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudE9wZXJhdGlvbiA9IGUua2V5O1xuICAgICAgICAgICAgICAgIGNsZWFyT25OZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSBwYXJzZUZsb2F0KGN1cnJlbnRTdHJpbmcpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiB8fCBlLmtleSA9PT0gXCI9XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHJpbmcgPSBjYWxjdWxhdGUocHJldlZhbHVlLCBjdXJyZW50U3RyaW5nLCBjdXJyZW50T3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZXJhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHByZXZWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dC52YWx1ZSA9IHBhcnNlRmxvYXQoY3VycmVudFN0cmluZykudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMTIgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICAgICAgdGQudGV4dENvbnRlbnQgPSBvdXRwdXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5VGFibGVCb2R5LmNoaWxkcmVuLmxlbmd0aCA+IDExKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlUYWJsZUJvZHkucmVtb3ZlQ2hpbGQoaGlzdG9yeVRhYmxlQm9keS5jaGlsZHJlbltoaXN0b3J5VGFibGVCb2R5LmNoaWxkcmVuLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhpc3RvcnlUYWJsZUJvZHkuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5VGFibGVCb2R5Lmluc2VydEJlZm9yZSh0ciwgaGlzdG9yeVRhYmxlQm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlUYWJsZUJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb3VibGVDbGVhciA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgICAgICBvdXRwdXQudmFsdWUgPSBjdXJyZW50U3RyaW5nO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRPcGVyYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIHByZXZWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY2xlYXJPbk5leHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoZG91YmxlQ2xlYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDaGlsZHJlbihoaXN0b3J5VGFibGVCb2R5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG91YmxlQ2xlYXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09IFwiQmFja3NwYWNlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHJpbmcgPSBjdXJyZW50U3RyaW5nLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnZhbHVlID0gcGFyc2VGbG9hdChjdXJyZW50U3RyaW5nKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAxMiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZV9idWZmZXIoKSB7XG4gICAgfVxuICAgIGRlc3Ryb3lfYnVmZmVyKCkge1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZShwcmV2VmFsdWUsIGN1cnJlbnRTdHJpbmcsIGN1cnJlbnRPcGVyYXRpb24pIHtcbiAgICBjdXJyZW50U3RyaW5nID0gcGFyc2VGbG9hdChjdXJyZW50U3RyaW5nKTtcbiAgICBpZiAoY3VycmVudE9wZXJhdGlvbiA9PSBcIitcIikge1xuICAgICAgICByZXR1cm4gcHJldlZhbHVlICsgY3VycmVudFN0cmluZztcbiAgICB9XG4gICAgZWxzZSBpZiAoY3VycmVudE9wZXJhdGlvbiA9PSBcIi1cIikge1xuICAgICAgICByZXR1cm4gcHJldlZhbHVlIC0gY3VycmVudFN0cmluZztcbiAgICB9XG4gICAgZWxzZSBpZiAoY3VycmVudE9wZXJhdGlvbiA9PSBcInhcIiB8fCBjdXJyZW50T3BlcmF0aW9uID09IFwiKlwiKSB7XG4gICAgICAgIHJldHVybiBwcmV2VmFsdWUgKiBjdXJyZW50U3RyaW5nO1xuICAgIH1cbiAgICBlbHNlIGlmIChjdXJyZW50T3BlcmF0aW9uID09IFwiw7dcIiB8fCBjdXJyZW50T3BlcmF0aW9uID09IFwiL1wiKSB7XG4gICAgICAgIHJldHVybiBwcmV2VmFsdWUgLyBjdXJyZW50U3RyaW5nO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvWElUL0NhbGN1bGF0b3IudHNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGNsZWFyQ2hpbGRyZW4sIGNyZWF0ZVRleHRTcGFuLCBjcmVhdGVUYWJsZSB9IGZyb20gXCIuLi91dGlsXCI7XG5pbXBvcnQgeyBUZXh0Q29sb3JzLCBTdHlsZSB9IGZyb20gXCIuLi9TdHlsZVwiO1xuZXhwb3J0IGNsYXNzIERhdGFIZWFsdGgge1xuICAgIGNvbnN0cnVjdG9yKHRpbGUsIHBhcmFtZXRlcnMsIHBtbWdTZXR0aW5ncywgdXNlckluZm8pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJEQVRBIEhFQUxUSFwiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICB0aGlzLnBtbWdTZXR0aW5ncyA9IHBtbWdTZXR0aW5ncztcbiAgICAgICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjbGVhckNoaWxkcmVuKHRoaXMudGlsZSk7XG4gICAgICAgIGNvbnN0IGJhc2VUaXRsZSA9IGNyZWF0ZVRleHRTcGFuKFwiQmFzZXNcIik7XG4gICAgICAgIGJhc2VUaXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG4gICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChiYXNlVGl0bGUpO1xuICAgICAgICBjb25zdCBiYXNlQm9keSA9IGNyZWF0ZVRhYmxlKHRoaXMudGlsZSwgW1wiUGxhbmV0XCIsIFwiV29ya2ZvcmNlXCIsIFwiUHJvZHVjdGlvblwiLCBcIlN0b3JhZ2VcIl0pO1xuICAgICAgICBjb25zdCBiYXNlSW5mbyA9IHt9O1xuICAgICAgICBpZiAoIXRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXSkge1xuICAgICAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKFwiTm8gY29sbGVjdGVkIGRhdGEgaXMgcHJlc2VudC4gUmVmcmVzaCB0aGUgYnVmZmVyLiBJZiB0aGUgcHJvYmxlbSBwZXJzaXN0cywgY29udGFjdCBQaTMxNCBvbiBEaXNjb3JkLlwiKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wid29ya2ZvcmNlXCJdLmZvckVhY2god29ya2ZvcmNlID0+IHtcbiAgICAgICAgICAgIGlmICh3b3JrZm9yY2UuUGxhbmV0TmFtZSAmJiAhYmFzZUluZm9bd29ya2ZvcmNlLlBsYW5ldE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgYmFzZUluZm9bd29ya2ZvcmNlLlBsYW5ldE5hbWVdID0gW3RydWUsIGZhbHNlLCBmYWxzZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJwcm9kdWN0aW9uXCJdLmZvckVhY2gocHJvZHVjdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAocHJvZHVjdGlvbi5QbGFuZXROYW1lICYmICFiYXNlSW5mb1twcm9kdWN0aW9uLlBsYW5ldE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgYmFzZUluZm9bcHJvZHVjdGlvbi5QbGFuZXROYW1lXSA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvZHVjdGlvbi5QbGFuZXROYW1lKSB7XG4gICAgICAgICAgICAgICAgYmFzZUluZm9bcHJvZHVjdGlvbi5QbGFuZXROYW1lXVsxXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzdG9yYWdlXCJdLmZvckVhY2goc3RvcmFnZSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RvcmFnZS5QbGFuZXROYW1lICYmIHN0b3JhZ2UudHlwZSA9PSBcIlNUT1JFXCIgJiYgIWJhc2VJbmZvW3N0b3JhZ2UuUGxhbmV0TmFtZV0pIHtcbiAgICAgICAgICAgICAgICBiYXNlSW5mb1tzdG9yYWdlLlBsYW5ldE5hbWVdID0gW2ZhbHNlLCBmYWxzZSwgdHJ1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdG9yYWdlLlBsYW5ldE5hbWUgJiYgc3RvcmFnZS50eXBlID09IFwiU1RPUkVcIikge1xuICAgICAgICAgICAgICAgIGJhc2VJbmZvW3N0b3JhZ2UuUGxhbmV0TmFtZV1bMl0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmtleXMoYmFzZUluZm8pLmZvckVhY2gocGxhbmV0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgICAgIGJhc2VCb2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICBjb25zdCBwbGFuZXRFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcGxhbmV0RWxlbS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihwbGFuZXQpKTtcbiAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChwbGFuZXRFbGVtKTtcbiAgICAgICAgICAgIGJhc2VJbmZvW3BsYW5ldF0uZm9yRWFjaChwcmVzZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgICAgICAgICB0ZXh0RWxlbS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihwcmVzZW50ID8gXCLinJNcIiA6IFwiWFwiKSk7XG4gICAgICAgICAgICAgICAgdGV4dEVsZW0uc3R5bGUuY29sb3IgPSBwcmVzZW50ID8gVGV4dENvbG9ycy5TdWNjZXNzIDogVGV4dENvbG9ycy5GYWlsdXJlO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZCh0ZXh0RWxlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG90aGVyVGl0bGUgPSBjcmVhdGVUZXh0U3BhbihcIk90aGVyIERhdGFcIik7XG4gICAgICAgIG90aGVyVGl0bGUuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xuICAgICAgICBvdGhlclRpdGxlLnN0eWxlLnBhZGRpbmdUb3AgPSBcIjEwcHhcIjtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKG90aGVyVGl0bGUpO1xuICAgICAgICBjb25zdCBvdGhlclRhYmxlID0gY3JlYXRlVGFibGUodGhpcy50aWxlLCBbXCJQYXJhbWV0ZXJcIiwgXCJWYWx1ZVwiXSk7XG4gICAgICAgIGNvbnN0IG51bUJhc2VTaXRlcyA9IHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcInNpdGVzXCJdLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZSA9PT0gXCJCQVNFXCIpLmxlbmd0aDtcbiAgICAgICAgb3RoZXJUYWJsZS5hcHBlbmRDaGlsZChjcmVhdGVUYWJsZVJvdyhcIkJhc2UgU2l0ZXNcIiwgbnVtQmFzZVNpdGVzKSk7XG4gICAgICAgIGNvbnN0IG51bVdhcmVob3VzZVNpdGVzID0gdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic2l0ZXNcIl0uZmlsdGVyKGl0ZW0gPT4gaXRlbS50eXBlICE9PSBcIkJBU0VcIikubGVuZ3RoO1xuICAgICAgICBvdGhlclRhYmxlLmFwcGVuZENoaWxkKGNyZWF0ZVRhYmxlUm93KFwiV2FyZWhvdXNlIFNpdGVzXCIsIG51bVdhcmVob3VzZVNpdGVzKSk7XG4gICAgICAgIGNvbnN0IG51bUJhc2VTdG9yZXMgPSB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzdG9yYWdlXCJdLmZpbHRlcihpdGVtID0+IGl0ZW0udHlwZSA9PT0gXCJTVE9SRVwiKS5sZW5ndGg7XG4gICAgICAgIG90aGVyVGFibGUuYXBwZW5kQ2hpbGQoY3JlYXRlVGFibGVSb3coXCJCYXNlIFN0b3Jlc1wiLCBudW1CYXNlU3RvcmVzKSk7XG4gICAgICAgIGNvbnN0IG51bVdhcmVob3VzZVN0b3JlcyA9IHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcInN0b3JhZ2VcIl0uZmlsdGVyKGl0ZW0gPT4gaXRlbS50eXBlID09PSBcIldBUkVIT1VTRV9TVE9SRVwiKS5sZW5ndGg7XG4gICAgICAgIG90aGVyVGFibGUuYXBwZW5kQ2hpbGQoY3JlYXRlVGFibGVSb3coXCJXYXJlaG91c2UgU3RvcmVzXCIsIG51bVdhcmVob3VzZVN0b3JlcykpO1xuICAgICAgICBjb25zdCBudW1TaGlwU3RvcmVzID0gdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic3RvcmFnZVwiXS5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT09IFwiU0hJUF9TVE9SRVwiKS5sZW5ndGg7XG4gICAgICAgIG90aGVyVGFibGUuYXBwZW5kQ2hpbGQoY3JlYXRlVGFibGVSb3coXCJTaGlwIFN0b3Jlc1wiLCBudW1TaGlwU3RvcmVzKSk7XG4gICAgICAgIGNvbnN0IG51bVdvcmtmb3JjZXMgPSB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJ3b3JrZm9yY2VcIl0ubGVuZ3RoO1xuICAgICAgICBvdGhlclRhYmxlLmFwcGVuZENoaWxkKGNyZWF0ZVRhYmxlUm93KFwiV29ya2ZvcmNlc1wiLCBudW1Xb3JrZm9yY2VzKSk7XG4gICAgICAgIGNvbnN0IG51bVByb2R1Y3Rpb24gPSB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJwcm9kdWN0aW9uXCJdLmxlbmd0aDtcbiAgICAgICAgb3RoZXJUYWJsZS5hcHBlbmRDaGlsZChjcmVhdGVUYWJsZVJvdyhcIlByb2R1Y3Rpb24gU2l0ZXNcIiwgbnVtUHJvZHVjdGlvbikpO1xuICAgICAgICBjb25zdCBjb250cmFjdHMgPSB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJjb250cmFjdHNcIl0ubGVuZ3RoO1xuICAgICAgICBvdGhlclRhYmxlLmFwcGVuZENoaWxkKGNyZWF0ZVRhYmxlUm93KFwiQ29udHJhY3RzXCIsIGNvbnRyYWN0cykpO1xuICAgICAgICBjb25zdCBjeG9zID0gdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiY3hvc1wiXS5sZW5ndGg7XG4gICAgICAgIG90aGVyVGFibGUuYXBwZW5kQ2hpbGQoY3JlYXRlVGFibGVSb3coXCJDWE9TXCIsIGN4b3MpKTtcbiAgICAgICAgY29uc3QgZnhvcyA9IHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImZ4b3NcIl0ubGVuZ3RoO1xuICAgICAgICBvdGhlclRhYmxlLmFwcGVuZENoaWxkKGNyZWF0ZVRhYmxlUm93KFwiRlhPU1wiLCBmeG9zKSk7XG4gICAgICAgIG90aGVyVGFibGUuYXBwZW5kQ2hpbGQoY3JlYXRlVGFibGVSb3coXCJDdXJyZW5jeVwiLCB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJjdXJyZW5jeVwiXVswXSAhPSB1bmRlZmluZWQpKTtcbiAgICAgICAgY29uc3QgY3hQcmljZUFnZSA9IHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImN4X3ByaWNlc1wiXSA/ICgoRGF0ZS5ub3coKSAtIHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImN4X3ByaWNlc1wiXVtcIkFnZVwiXSkgLyAzNjAwMDAwKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwIH0pICsgXCJoXCIgOiBmYWxzZTtcbiAgICAgICAgb3RoZXJUYWJsZS5hcHBlbmRDaGlsZChjcmVhdGVUYWJsZVJvdyhcIkNYIFByaWNlIEFnZVwiLCBjeFByaWNlQWdlKSk7XG4gICAgICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgY2xlYXJCdXR0b24udGV4dENvbnRlbnQgPSBcIkNsZWFyIFVzZXIgRGF0YVwiO1xuICAgICAgICBjbGVhckJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbik7XG4gICAgICAgIGNsZWFyQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uUHJpbWFyeSk7XG4gICAgICAgIGNsZWFyQnV0dG9uLnN0eWxlLm1hcmdpbiA9IFwiNHB4XCI7XG4gICAgICAgIGNsZWFyQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGNsZWFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5yZW1vdmUoXCJQTU1HLVVzZXItSW5mb1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUoXCJQTU1HLVVzZXItSW5mb1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChjbGVhckJ1dHRvbik7XG4gICAgfVxuICAgIHVwZGF0ZV9idWZmZXIoKSB7XG4gICAgfVxuICAgIGRlc3Ryb3lfYnVmZmVyKCkge1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVRhYmxlUm93KHBhcmFtZXRlciwgdmFsdWUpIHtcbiAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgY29uc3QgcGFyYW1FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIHBhcmFtRWxlbS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihwYXJhbWV0ZXIpKTtcbiAgICByb3cuYXBwZW5kQ2hpbGQocGFyYW1FbGVtKTtcbiAgICBjb25zdCB2YWx1ZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgIHZhbHVlRWxlbS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIuKck1wiKSk7XG4gICAgICAgIHZhbHVlRWxlbS5zdHlsZS5jb2xvciA9IFRleHRDb2xvcnMuU3VjY2VzcztcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHZhbHVlRWxlbS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIlhcIikpO1xuICAgICAgICB2YWx1ZUVsZW0uc3R5bGUuY29sb3IgPSBUZXh0Q29sb3JzLkZhaWx1cmU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4odmFsdWUpKTtcbiAgICB9XG4gICAgcm93LmFwcGVuZENoaWxkKHZhbHVlRWxlbSk7XG4gICAgcmV0dXJuIHJvdztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL1hJVC9EYXRhSGVhbHRoLnRzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBjbGVhckNoaWxkcmVuLCBjcmVhdGVUZXh0U3Bhbiwgc2V0U2V0dGluZ3MsIENhdGVnb3J5U29ydCwgZmluZENvcnJlc3BvbmRpbmdQbGFuZXQsIGNyZWF0ZU1hdGVyaWFsRWxlbWVudCwgY2FsY3VsYXRlQnVybiB9IGZyb20gXCIuLi91dGlsXCI7XG5pbXBvcnQgeyBTdHlsZSB9IGZyb20gXCIuLi9TdHlsZVwiO1xuaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tIFwiLi4vU2VsZWN0b3JcIjtcbmltcG9ydCB7IE1hdGVyaWFsTmFtZXMgfSBmcm9tIFwiLi4vR2FtZVByb3BlcnRpZXNcIjtcbmV4cG9ydCBjbGFzcyBCdXJuIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzLCBwbW1nU2V0dGluZ3MsIHVzZXJJbmZvKSB7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMucG1tZ1NldHRpbmdzID0gcG1tZ1NldHRpbmdzO1xuICAgICAgICB0aGlzLnVzZXJJbmZvID0gdXNlckluZm87XG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkVOSEFOQ0VEIEJVUk5cIiArIChwYXJhbWV0ZXJzWzFdID8gXCIgLSBcIiArIHBhcmFtZXRlcnNbMV0udG9VcHBlckNhc2UoKSA6IFwiXCIpO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCBwbW1nU2V0dGluZ3MgPSB0aGlzLnBtbWdTZXR0aW5ncztcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzLnRpbGUpO1xuICAgICAgICB2YXIgcGxhbmV0O1xuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzWzFdKSB7XG4gICAgICAgICAgICBwbGFuZXQgPSB0aGlzLnBhcmFtZXRlcnNbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRpbGUudGV4dENvbnRlbnQgPSBcIkVycm9yISBFbnRlciBhIHBsYW5ldCBuYW1lIGFmdGVyIFhJVCBCVVJOIChYSVQgQlVSTl9VVi0zNTFhKVwiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdIHx8ICF0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJ3b3JrZm9yY2VcIl0pIHtcbiAgICAgICAgICAgIHRoaXMudGlsZS50ZXh0Q29udGVudCA9IFwiTG9hZGluZyBCdXJuIERhdGEuLi5cIjtcbiAgICAgICAgICAgIHRoaXMudGlsZS5pZCA9IFwicG1tZy1yZWxvYWRcIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbGUuaWQgPSBcInBtbWctbG9hZC1zdWNjZXNzXCI7XG4gICAgICAgIHZhciBwbGFuZXRCdXJuO1xuICAgICAgICB2YXIgc2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IHBsYW5ldFByb2R1Y3Rpb24gPSBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldChwbGFuZXQsIHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcInByb2R1Y3Rpb25cIl0pO1xuICAgICAgICBjb25zdCBwbGFuZXRXb3JrZm9yY2UgPSBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldChwbGFuZXQsIHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcIndvcmtmb3JjZVwiXSk7XG4gICAgICAgIGNvbnN0IHBsYW5ldEludiA9IGZpbmRDb3JyZXNwb25kaW5nUGxhbmV0KHBsYW5ldCwgdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic3RvcmFnZVwiXSwgdHJ1ZSk7XG4gICAgICAgIHBsYW5ldEJ1cm4gPSBjYWxjdWxhdGVCdXJuKHBsYW5ldFByb2R1Y3Rpb24sIHBsYW5ldFdvcmtmb3JjZSwgcGxhbmV0SW52KTtcbiAgICAgICAgaWYgKCFwbGFuZXRCdXJuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NyZWVuTmFtZUVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLlNjcmVlbk5hbWUpO1xuICAgICAgICBjb25zdCBzY3JlZW5OYW1lID0gc2NyZWVuTmFtZUVsZW0gPyBzY3JlZW5OYW1lRWxlbS50ZXh0Q29udGVudCA6IFwiXCI7XG4gICAgICAgIGlmICghdGhpcy5wbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX2Rpc3BsYXlfc2V0dGluZ3NcIl0pIHtcbiAgICAgICAgICAgIHRoaXMucG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl9kaXNwbGF5X3NldHRpbmdzXCJdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNldHRpbmdzSW5kZXggPSBGaW5kQnVyblNldHRpbmdzKHRoaXMucG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl9kaXNwbGF5X3NldHRpbmdzXCJdLCBzY3JlZW5OYW1lICsgdGhpcy5wYXJhbWV0ZXJzWzFdKTtcbiAgICAgICAgY29uc3QgZGlzcFNldHRpbmdzID0gc2V0dGluZ3NJbmRleCA9PSAtMSA/IFsxLCAxLCAxLCAxXSA6IHRoaXMucG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl9kaXNwbGF5X3NldHRpbmdzXCJdW3NldHRpbmdzSW5kZXhdWzFdO1xuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICAgICAgY29uc3QgYnVmZmVySGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYnVmZmVySGVhZGVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKGJ1ZmZlckhlYWRlcik7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2V0dGluZ3NEaXYuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBidWZmZXJIZWFkZXIuYXBwZW5kQ2hpbGQoc2V0dGluZ3NEaXYpO1xuICAgICAgICBzZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChjcmVhdGVTZXR0aW5nc0J1dHRvbihcIlJFRFwiLCAyMi4wMjUsIGRpc3BTZXR0aW5nc1swXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGlzcFNldHRpbmdzWzBdID0gZGlzcFNldHRpbmdzWzBdID8gMCA6IDE7XG4gICAgICAgICAgICBVcGRhdGVCdXJuKHRhYmxlLCBkaXNwU2V0dGluZ3MpO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX2Rpc3BsYXlfc2V0dGluZ3NcIl0ucHVzaChbc2NyZWVuTmFtZSArIHBhcmFtZXRlcnNbMV0sIGRpc3BTZXR0aW5nc10pO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzSW5kZXggPSBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX2Rpc3BsYXlfc2V0dGluZ3NcIl0ubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImJ1cm5fZGlzcGxheV9zZXR0aW5nc1wiXVtzZXR0aW5nc0luZGV4XVsxXSA9IGRpc3BTZXR0aW5ncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgc2V0dGluZ3NEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlU2V0dGluZ3NCdXR0b24oXCJZRUxMT1dcIiwgNDAuNDgzLCBkaXNwU2V0dGluZ3NbMV0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpc3BTZXR0aW5nc1sxXSA9IGRpc3BTZXR0aW5nc1sxXSA/IDAgOiAxO1xuICAgICAgICAgICAgVXBkYXRlQnVybih0YWJsZSwgZGlzcFNldHRpbmdzKTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nc0luZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl9kaXNwbGF5X3NldHRpbmdzXCJdLnB1c2goW3NjcmVlbk5hbWUgKyBwYXJhbWV0ZXJzWzFdLCBkaXNwU2V0dGluZ3NdKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0luZGV4ID0gcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl9kaXNwbGF5X3NldHRpbmdzXCJdLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX2Rpc3BsYXlfc2V0dGluZ3NcIl1bc2V0dGluZ3NJbmRleF1bMV0gPSBkaXNwU2V0dGluZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRTZXR0aW5ncyhwbW1nU2V0dGluZ3MpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHNldHRpbmdzRGl2LmFwcGVuZENoaWxkKGNyZWF0ZVNldHRpbmdzQnV0dG9uKFwiR1JFRU5cIiwgMzQuNjUsIGRpc3BTZXR0aW5nc1syXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGlzcFNldHRpbmdzWzJdID0gZGlzcFNldHRpbmdzWzJdID8gMCA6IDE7XG4gICAgICAgICAgICBVcGRhdGVCdXJuKHRhYmxlLCBkaXNwU2V0dGluZ3MpO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX2Rpc3BsYXlfc2V0dGluZ3NcIl0ucHVzaChbc2NyZWVuTmFtZSArIHBhcmFtZXRlcnNbMV0sIGRpc3BTZXR0aW5nc10pO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzSW5kZXggPSBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX2Rpc3BsYXlfc2V0dGluZ3NcIl0ubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImJ1cm5fZGlzcGxheV9zZXR0aW5nc1wiXVtzZXR0aW5nc0luZGV4XVsxXSA9IGRpc3BTZXR0aW5ncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgc2V0dGluZ3NEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlU2V0dGluZ3NCdXR0b24oXCJJTkZcIiwgMTkuNiwgZGlzcFNldHRpbmdzWzNdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaXNwU2V0dGluZ3NbM10gPSBkaXNwU2V0dGluZ3NbM10gPyAwIDogMTtcbiAgICAgICAgICAgIFVwZGF0ZUJ1cm4odGFibGUsIGRpc3BTZXR0aW5ncyk7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3NJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImJ1cm5fZGlzcGxheV9zZXR0aW5nc1wiXS5wdXNoKFtzY3JlZW5OYW1lICsgcGFyYW1ldGVyc1sxXSwgZGlzcFNldHRpbmdzXSk7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NJbmRleCA9IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImJ1cm5fZGlzcGxheV9zZXR0aW5nc1wiXS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl9kaXNwbGF5X3NldHRpbmdzXCJdW3NldHRpbmdzSW5kZXhdWzFdID0gZGlzcFNldHRpbmdzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xuICAgICAgICBjb25zdCBoZWFkUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGhlYWRSb3cpO1xuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChoZWFkKTtcbiAgICAgICAgZm9yIChsZXQgdGl0bGUgb2YgW1wiTmVlZHNcIiwgXCJQcm9kdWN0aW9uXCIsIFwiSW52XCIsIFwiQW10LiBOZWVkZWRcIiwgXCJCdXJuXCJdKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICAgICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG4gICAgICAgICAgICBoZWFkUm93LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaGVhZFJvdy5maXJzdENoaWxkLmNvbFNwYW4gPSAyO1xuICAgICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChib2R5KTtcbiAgICAgICAgdmFyIGJ1cm5NYXRlcmlhbHMgPSBPYmplY3Qua2V5cyhwbGFuZXRCdXJuKTtcbiAgICAgICAgYnVybk1hdGVyaWFscy5zb3J0KENhdGVnb3J5U29ydCk7XG4gICAgICAgIGZvciAobGV0IG1hdGVyaWFsIG9mIGJ1cm5NYXRlcmlhbHMpIHtcbiAgICAgICAgICAgIHZhciBpbmNsdWRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MgIT0gdW5kZWZpbmVkICYmIHRoaXMucGFyYW1ldGVyc1sxXS50b0xvd2VyQ2FzZSgpICE9IFwiZ3JvdXBcIikge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzW1wiTWF0ZXJpYWxFeGNsdXNpb25zXCJdLmZvckVhY2goKG1hdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0W1wiTWF0ZXJpYWxUaWNrZXJcIl0gPT0gbWF0ZXJpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpbmNsdWRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICBtYXRlcmlhbENvbHVtbi5zdHlsZS53aWR0aCA9IFwiMzJweFwiO1xuICAgICAgICAgICAgbWF0ZXJpYWxDb2x1bW4uc3R5bGUucGFkZGluZ1JpZ2h0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgIG1hdGVyaWFsQ29sdW1uLnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgIGNvbnN0IG1hdEVsZW0gPSBjcmVhdGVNYXRlcmlhbEVsZW1lbnQobWF0ZXJpYWwsIFwicHJ1bi1yZW1vdmUtanNcIiwgXCJub25lXCIsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChtYXRFbGVtKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxDb2x1bW4uYXBwZW5kQ2hpbGQobWF0RWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQobWF0ZXJpYWxDb2x1bW4pO1xuICAgICAgICAgICAgY29uc3QgbmFtZVNwYW4gPSBjcmVhdGVUZXh0U3BhbihNYXRlcmlhbE5hbWVzW21hdGVyaWFsXVswXSk7XG4gICAgICAgICAgICBuYW1lU3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gXCJib2xkXCI7XG4gICAgICAgICAgICBjb25zdCBuYW1lQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgbmFtZUNvbHVtbi5hcHBlbmRDaGlsZChuYW1lU3Bhbik7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQobmFtZUNvbHVtbik7XG4gICAgICAgICAgICBjb25zdCBjb25zQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgY29uc0NvbHVtbi5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihwbGFuZXRCdXJuW21hdGVyaWFsXVtcIkRhaWx5QW1vdW50XCJdLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEgfSkgKyBcIiAvIERheVwiKSk7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29uc0NvbHVtbik7XG4gICAgICAgICAgICBjb25zdCBpbnZDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICBjb25zdCBpbnZBbW91bnQgPSBwbGFuZXRCdXJuW21hdGVyaWFsXVtcIkludmVudG9yeVwiXSA9PSB1bmRlZmluZWQgPyAwIDogcGxhbmV0QnVyblttYXRlcmlhbF1bXCJJbnZlbnRvcnlcIl07XG4gICAgICAgICAgICBpbnZDb2x1bW4uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oaW52QW1vdW50LnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCkpKTtcbiAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChpbnZDb2x1bW4pO1xuICAgICAgICAgICAgY29uc3QgYnVybiA9IHBsYW5ldEJ1cm5bbWF0ZXJpYWxdW1wiRGF5c0xlZnRcIl07XG4gICAgICAgICAgICBjb25zdCBidXJuQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgYnVybkNvbHVtbi5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbigoKGJ1cm4gIT0gXCLiiJ5cIiAmJiBidXJuIDwgNTAwICYmIHBsYW5ldEJ1cm5bbWF0ZXJpYWxdW1wiRGFpbHlBbW91bnRcIl0gPCAwKSA/IE1hdGguZmxvb3IoYnVybikudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMCB9KSA6IFwi4oieXCIpICsgXCIgRGF5c1wiKSk7XG4gICAgICAgICAgICBpZiAocGxhbmV0QnVyblttYXRlcmlhbF1bXCJEYWlseUFtb3VudFwiXSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgYnVybkNvbHVtbi5jbGFzc0xpc3QuYWRkKFwiYnVybi1ncmVlblwiKTtcbiAgICAgICAgICAgICAgICBidXJuQ29sdW1uLmNsYXNzTGlzdC5hZGQoXCJidXJuLWluZmluaXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYnVybiA8PSAodGhpcy5wbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX3RocmVzaG9sZHNcIl0gfHwgWzMsIDddKVswXSkge1xuICAgICAgICAgICAgICAgIGJ1cm5Db2x1bW4uY2xhc3NMaXN0LmFkZChcImJ1cm4tcmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYnVybiA8PSAodGhpcy5wbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX3RocmVzaG9sZHNcIl0gfHwgWzMsIDddKVsxXSkge1xuICAgICAgICAgICAgICAgIGJ1cm5Db2x1bW4uY2xhc3NMaXN0LmFkZChcImJ1cm4teWVsbG93XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnVybkNvbHVtbi5jbGFzc0xpc3QuYWRkKFwiYnVybi1ncmVlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5lZWRDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICBjb25zdCBuZWVkQW10ID0gYnVybiA+ICh0aGlzLnBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImJ1cm5fdGhyZXNob2xkc1wiXSB8fCBbMywgN10pWzFdIHx8IHBsYW5ldEJ1cm5bbWF0ZXJpYWxdW1wiRGFpbHlBbW91bnRcIl0gPiAwID8gMCA6IChidXJuIC0gKHRoaXMucG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl90aHJlc2hvbGRzXCJdIHx8IFszLCA3XSlbMV0pICogcGxhbmV0QnVyblttYXRlcmlhbF1bXCJEYWlseUFtb3VudFwiXTtcbiAgICAgICAgICAgIG5lZWRDb2x1bW4uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4obmVlZEFtdC50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwIH0pKSk7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQobmVlZENvbHVtbik7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoYnVybkNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgVXBkYXRlQnVybih0YWJsZSwgZGlzcFNldHRpbmdzKTtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICAgICAgdGhpcy51cGRhdGVfYnVmZmVyKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGRvY3VtZW50LmJvZHkuY29udGFpbnModGhpcy50aWxlKTtcbiAgICAgICAgaWYgKHRoaXMuYWxpdmUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuY3JlYXRlX2J1ZmZlcigpLCAzMDAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHtcbiAgICB9XG59XG5mdW5jdGlvbiBGaW5kQnVyblNldHRpbmdzKGFycmF5LCBtYXRjaFN0cmluZykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG1hdGNoU3RyaW5nID09IGFycmF5W2ldWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiBVcGRhdGVCdXJuKHRhYmxlLCBkaXNwU2V0dGluZ3MpIHtcbiAgICBBcnJheS5mcm9tKHRhYmxlLmNoaWxkcmVuWzFdLmNoaWxkcmVuKS5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgIGlmIChyb3cuY2hpbGRyZW5bNV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnVybi1pbmZpbml0ZVwiKSkge1xuICAgICAgICAgICAgcm93LnN0eWxlLmRpc3BsYXkgPSBkaXNwU2V0dGluZ3NbM10gPyBcInRhYmxlLXJvd1wiIDogXCJub25lXCI7XG4gICAgICAgICAgICByb3cuc3R5bGUudmlzaWJpbGl0eSA9IGRpc3BTZXR0aW5nc1szXSA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIHJvdy5zdHlsZS53aWR0aCA9IGRpc3BTZXR0aW5nc1szXSA/IFwiYXV0b1wiIDogXCIwcHhcIjtcbiAgICAgICAgICAgIHJvdy5zdHlsZS5oZWlnaHQgPSBkaXNwU2V0dGluZ3NbM10gPyBcImF1dG9cIiA6IFwiMHB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocm93LmNoaWxkcmVuWzVdLmNsYXNzTGlzdC5jb250YWlucyhcImJ1cm4tZ3JlZW5cIikpIHtcbiAgICAgICAgICAgIHJvdy5zdHlsZS5kaXNwbGF5ID0gZGlzcFNldHRpbmdzWzJdID8gXCJ0YWJsZS1yb3dcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgcm93LnN0eWxlLnZpc2liaWxpdHkgPSBkaXNwU2V0dGluZ3NbMl0gPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICByb3cuc3R5bGUud2lkdGggPSBkaXNwU2V0dGluZ3NbMl0gPyBcImF1dG9cIiA6IFwiMHB4XCI7XG4gICAgICAgICAgICByb3cuc3R5bGUuaGVpZ2h0ID0gZGlzcFNldHRpbmdzWzJdID8gXCJhdXRvXCIgOiBcIjBweFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJvdy5jaGlsZHJlbls1XS5jbGFzc0xpc3QuY29udGFpbnMoXCJidXJuLXllbGxvd1wiKSkge1xuICAgICAgICAgICAgcm93LnN0eWxlLmRpc3BsYXkgPSBkaXNwU2V0dGluZ3NbMV0gPyBcInRhYmxlLXJvd1wiIDogXCJub25lXCI7XG4gICAgICAgICAgICByb3cuc3R5bGUudmlzaWJpbGl0eSA9IGRpc3BTZXR0aW5nc1sxXSA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIHJvdy5zdHlsZS53aWR0aCA9IGRpc3BTZXR0aW5nc1sxXSA/IFwiYXV0b1wiIDogXCIwcHhcIjtcbiAgICAgICAgICAgIHJvdy5zdHlsZS5oZWlnaHQgPSBkaXNwU2V0dGluZ3NbMV0gPyBcImF1dG9cIiA6IFwiMHB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocm93LmNoaWxkcmVuWzVdLmNsYXNzTGlzdC5jb250YWlucyhcImJ1cm4tcmVkXCIpKSB7XG4gICAgICAgICAgICByb3cuc3R5bGUuZGlzcGxheSA9IGRpc3BTZXR0aW5nc1swXSA/IFwidGFibGUtcm93XCIgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIHJvdy5zdHlsZS52aXNpYmlsaXR5ID0gZGlzcFNldHRpbmdzWzBdID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiO1xuICAgICAgICAgICAgcm93LnN0eWxlLndpZHRoID0gZGlzcFNldHRpbmdzWzBdID8gXCJhdXRvXCIgOiBcIjBweFwiO1xuICAgICAgICAgICAgcm93LnN0eWxlLmhlaWdodCA9IGRpc3BTZXR0aW5nc1swXSA/IFwiYXV0b1wiIDogXCIwcHhcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcmV0dXJuO1xufVxuZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3NCdXR0b24odGV4dCwgd2lkdGgsIHRvZ2dsZWQsIGYpIHtcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBjb25zdCBiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGlmICh0b2dnbGVkKSB7XG4gICAgICAgIGJhci5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLlNldHRpbmdzQmFyVG9nZ2xlZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBiYXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TZXR0aW5nc0JhclVudG9nZ2xlZCk7XG4gICAgfVxuICAgIGNvbnN0IHRleHRCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRleHRCb3guY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TZXR0aW5nc1RleHQpO1xuICAgIHRleHRCb3gudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLlNldHRpbmdzQnV0dG9uKTtcbiAgICBiYXIuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICBiYXIuc3R5bGUubWF4V2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICBiYXIuc3R5bGUuaGVpZ2h0ID0gXCIycHhcIjtcbiAgICBidXR0b24uYXBwZW5kQ2hpbGQoYmFyKTtcbiAgICBidXR0b24uYXBwZW5kQ2hpbGQodGV4dEJveCk7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0b2dnbGVkKSB7XG4gICAgICAgICAgICBiYXIuY2xhc3NMaXN0LnJlbW92ZSguLi5TdHlsZS5TZXR0aW5nc0JhclRvZ2dsZWQpO1xuICAgICAgICAgICAgYmFyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2V0dGluZ3NCYXJVbnRvZ2dsZWQpO1xuICAgICAgICAgICAgdG9nZ2xlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFyLmNsYXNzTGlzdC5yZW1vdmUoLi4uU3R5bGUuU2V0dGluZ3NCYXJVbnRvZ2dsZWQpO1xuICAgICAgICAgICAgYmFyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2V0dGluZ3NCYXJUb2dnbGVkKTtcbiAgICAgICAgICAgIHRvZ2dsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGYoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYnV0dG9uO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvWElUL0J1cm4udHNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGNsZWFyQ2hpbGRyZW4sIGNyZWF0ZUxpbmssIGNyZWF0ZVRleHRTcGFuLCBjcmVhdGVUYWJsZSwgY3JlYXRlTWF0ZXJpYWxFbGVtZW50LCBjcmVhdGVUZXh0RGl2IH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCB7IFRleHRDb2xvcnMgfSBmcm9tIFwiLi4vU3R5bGVcIjtcbmltcG9ydCB7IEZhY3Rpb25IZWFkZXJzIH0gZnJvbSBcIi4uL0dhbWVQcm9wZXJ0aWVzXCI7XG5leHBvcnQgY2xhc3MgQ29udHJhY3RzIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzLCBwbW1nU2V0dGluZ3MsIHVzZXJJbmZvKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ09OVFJBQ1RTXCI7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMucG1tZ1NldHRpbmdzID0gcG1tZ1NldHRpbmdzO1xuICAgICAgICB0aGlzLnVzZXJJbmZvID0gdXNlckluZm87XG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjbGVhckNoaWxkcmVuKHRoaXMudGlsZSk7XG4gICAgICAgIGlmICghdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdIHx8ICF0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJjb250cmFjdHNcIl0pIHtcbiAgICAgICAgICAgIHRoaXMudGlsZS50ZXh0Q29udGVudCA9IFwiTG9hZGluZyBDb250cmFjdCBEYXRhLi4uXCI7XG4gICAgICAgICAgICB0aGlzLnRpbGUuaWQgPSBcInBtbWctcmVsb2FkXCI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udHJhY3REYXRhID0gdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiY29udHJhY3RzXCJdO1xuICAgICAgICBsZXQgdmFsaWRDb250cmFjdHMgPSBjb250cmFjdERhdGEuZmlsdGVyKGMgPT4gIWludmFsaWRDb250cmFjdFN0YXR1cy5pbmNsdWRlcyhjW1wic3RhdHVzXCJdKSk7XG4gICAgICAgIHZhbGlkQ29udHJhY3RzLm1hcChjb250cmFjdCA9PiB7XG4gICAgICAgICAgICBjb250cmFjdFtcIklzRmFjdGlvblwiXSA9IGZhbHNlO1xuICAgICAgICAgICAgY29udHJhY3RbXCJtYXRlcmlhbENvbmRpdGlvbnNcIl0gPSBbXTtcbiAgICAgICAgICAgIGxldCBzZWxmQ29uZGl0aW9ucyA9IFtdO1xuICAgICAgICAgICAgbGV0IHBhcnRuZXJDb25kaXRpb25zID0gW107XG4gICAgICAgICAgICBjb250cmFjdC5jb25kaXRpb25zLm1hcCgoY29uZGl0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbltcInR5cGVcIl0gPT09IFwiUkVQVVRBVElPTlwiKVxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdFtcIklzRmFjdGlvblwiXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbltcInF1YW50aXR5XCJdICE9PSBudWxsICYmIG1hdGVyaWFsRnVsZmlsbWVudFR5cGUuaW5jbHVkZXMoY29uZGl0aW9uW1widHlwZVwiXSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0W1wibWF0ZXJpYWxDb25kaXRpb25zXCJdLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZGl0aW9uW1wicGFydHlcIl0gPT09IGNvbnRyYWN0W1wicGFydHlcIl0pXG4gICAgICAgICAgICAgICAgICAgIHNlbGZDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHBhcnRuZXJDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VsZkNvbmRpdGlvbnMuc29ydChjb25kaXRpb25Tb3J0KTtcbiAgICAgICAgICAgIHBhcnRuZXJDb25kaXRpb25zLnNvcnQoY29uZGl0aW9uU29ydCk7XG4gICAgICAgICAgICBjb250cmFjdC5GaWx0ZXJlZENvbmRpdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIGNvbnRyYWN0LkZpbHRlcmVkQ29uZGl0aW9uc1tcInNlbGZcIl0gPSBzZWxmQ29uZGl0aW9ucztcbiAgICAgICAgICAgIGNvbnRyYWN0LkZpbHRlcmVkQ29uZGl0aW9uc1tcInBhcnRuZXJcIl0gPSBwYXJ0bmVyQ29uZGl0aW9ucztcbiAgICAgICAgfSk7XG4gICAgICAgIHZhbGlkQ29udHJhY3RzLnNvcnQoQ29udHJhY3RTb3J0KTtcbiAgICAgICAgY29uc3QgdGFibGUgPSBjcmVhdGVUYWJsZSh0aGlzLnRpbGUsIFtcIkNvbnRyYWN0IElEXCIsIFwiTWF0ZXJpYWxcIiwgXCJQYXJ0bmVyJ3MgQ29uZGl0aW9uc1wiLCBcIk15IENvbmRpdGlvbnNcIl0pO1xuICAgICAgICBpZiAodmFsaWRDb250cmFjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSBjcmVhdGVOb0NvbnRyYWN0c1Jvdyg0KTtcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWxpZENvbnRyYWN0cy5mb3JFYWNoKGNvbnRyYWN0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3cgPSBjcmVhdGVDb250cmFjdFJvdyhjb250cmFjdCk7XG4gICAgICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlX2J1ZmZlcigpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZV9idWZmZXIoKSB7XG4gICAgICAgIHRoaXMuYWxpdmUgPSBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMudGlsZSk7XG4gICAgICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLmNyZWF0ZV9idWZmZXIoKSwgMzAwMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveV9idWZmZXIoKSB7XG4gICAgfVxufVxuY29uc3QgaW52YWxpZENvbnRyYWN0U3RhdHVzID0gW1xuICAgIFwiRlVMRklMTEVEXCIsXG4gICAgXCJCUkVBQ0hFRFwiLFxuICAgIFwiVEVSTUlOQVRFRFwiLFxuICAgIFwiQ0FOQ0VMTEVEXCIsXG4gICAgXCJSRUpFQ1RFRFwiXG5dO1xuZnVuY3Rpb24gY3JlYXRlQ29udHJhY3RSb3coY29udHJhY3QpIHtcbiAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgIGxldCBjb250cmFjdExpbmsgPSBjcmVhdGVMaW5rKGNvbnRyYWN0W1wibmFtZVwiXSB8fCBjb250cmFjdFtcImxvY2FsSWRcIl0sIFwiQ09OVCBcIiArIGNvbnRyYWN0W1wibG9jYWxJZFwiXSk7XG4gICAgY29uc3QgY29udHJhY3RJZENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICBjb250cmFjdElkQ29sdW1uLmFwcGVuZENoaWxkKGNvbnRyYWN0W1wiSXNGYWN0aW9uXCJdID8gZmFjdGlvbkNvbnRyYWN0KGNvbnRyYWN0TGluaykgOiBjb250cmFjdExpbmspO1xuICAgIHJvdy5hcHBlbmRDaGlsZChjb250cmFjdElkQ29sdW1uKTtcbiAgICBjb25zdCBtYXRlcmlhbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICBtYXRlcmlhbENvbHVtbi5zdHlsZS53aWR0aCA9IFwiMzJweFwiO1xuICAgIG1hdGVyaWFsQ29sdW1uLnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIxMHB4XCI7XG4gICAgY29uc3QgbWF0ZXJpYWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1hdGVyaWFsQ29sdW1uLmFwcGVuZENoaWxkKG1hdGVyaWFsRGl2KTtcbiAgICBpZiAoY29udHJhY3RbXCJtYXRlcmlhbENvbmRpdGlvbnNcIl0ubGVuZ3RoID4gMCkge1xuICAgICAgICBjb250cmFjdFtcIm1hdGVyaWFsQ29uZGl0aW9uc1wiXS5mb3JFYWNoKG1hdGVyaWFsQ29uZGl0aW9uID0+IHtcbiAgICAgICAgICAgIGlmICghbWF0ZXJpYWxDb25kaXRpb24ucXVhbnRpdHkgfHwgIW1hdGVyaWFsQ29uZGl0aW9uLnF1YW50aXR5Lm1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxFbGVtZW50ID0gY3JlYXRlTWF0ZXJpYWxFbGVtZW50KG1hdGVyaWFsQ29uZGl0aW9uLnF1YW50aXR5Lm1hdGVyaWFsLnRpY2tlciwgXCJwcnVuLXJlbW92ZS1qc1wiLCBtYXRlcmlhbENvbmRpdGlvbi5xdWFudGl0eS5hbW91bnQsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChtYXRlcmlhbEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbEVsZW1lbnQuc3R5bGUubWFyZ2luQm90dG9tID0gXCI0cHhcIjtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbERpdi5hcHBlbmRDaGlsZChtYXRlcmlhbEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcm93LmFwcGVuZENoaWxkKG1hdGVyaWFsQ29sdW1uKTtcbiAgICBjb25zdCBwYXJ0bmVyQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIHZhciBmYWN0aW9uO1xuICAgIGlmIChjb250cmFjdFtcIklzRmFjdGlvblwiXSkge1xuICAgICAgICBPYmplY3Qua2V5cyhGYWN0aW9uSGVhZGVycykuZm9yRWFjaChmYWN0aW9uTmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAoY29udHJhY3QucGFydG5lci5uYW1lLmluY2x1ZGVzKGZhY3Rpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgIGZhY3Rpb24gPSBGYWN0aW9uSGVhZGVyc1tmYWN0aW9uTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWZhY3Rpb24pIHtcbiAgICAgICAgbGV0IHBhcnRuZXJMaW5rID0gY3JlYXRlTGluayhjb250cmFjdC5wYXJ0bmVyLm5hbWUsIFwiQ08gXCIgKyBjb250cmFjdC5wYXJ0bmVyLmNvZGUpO1xuICAgICAgICBwYXJ0bmVyQ29sdW1uLmFwcGVuZENoaWxkKHBhcnRuZXJMaW5rKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBwYXJ0bmVyTGluayA9IGNyZWF0ZUxpbmsoY29udHJhY3QucGFydG5lci5uYW1lLCBcIkZBIFwiICsgZmFjdGlvbik7XG4gICAgICAgIHBhcnRuZXJDb2x1bW4uYXBwZW5kQ2hpbGQocGFydG5lckxpbmspO1xuICAgIH1cbiAgICBmb3IgKGxldCBjb25kaXRpb24gb2YgY29udHJhY3QuRmlsdGVyZWRDb25kaXRpb25zW1wicGFydG5lclwiXSlcbiAgICAgICAgcGFydG5lckNvbHVtbi5hcHBlbmRDaGlsZChjb25kaXRpb25TdGF0dXMoY29uZGl0aW9uKSk7XG4gICAgcm93LmFwcGVuZENoaWxkKHBhcnRuZXJDb2x1bW4pO1xuICAgIGNvbnN0IHNlbGZDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgZm9yIChsZXQgY29uZGl0aW9uIG9mIGNvbnRyYWN0LkZpbHRlcmVkQ29uZGl0aW9uc1tcInNlbGZcIl0pXG4gICAgICAgIHNlbGZDb2x1bW4uYXBwZW5kQ2hpbGQoY29uZGl0aW9uU3RhdHVzKGNvbmRpdGlvbikpO1xuICAgIHJvdy5hcHBlbmRDaGlsZChzZWxmQ29sdW1uKTtcbiAgICByZXR1cm4gcm93O1xufVxuO1xuZnVuY3Rpb24gY3JlYXRlTm9Db250cmFjdHNSb3coY29sc3Bhbikge1xuICAgIHZhciBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgIGNvbnN0IHRleHRDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgdGV4dENvbHVtbi5zZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nLCBgJHtjb2xzcGFufWApO1xuICAgIHRleHRDb2x1bW4udGV4dENvbnRlbnQgPSBcIk5vIGNvbnRyYWN0c1wiO1xuICAgIGxpbmUuYXBwZW5kQ2hpbGQodGV4dENvbHVtbik7XG4gICAgcmV0dXJuIGxpbmU7XG59XG5mdW5jdGlvbiBjb25kaXRpb25Tb3J0KGEsIGIpIHtcbiAgICByZXR1cm4gYVtcImluZGV4XCJdID4gYltcImluZGV4XCJdID8gMSA6IC0xO1xufVxuZnVuY3Rpb24gQ29udHJhY3RTb3J0KGEsIGIpIHtcbiAgICByZXR1cm4gKGFbXCJkYXRlXCJdID8gYVtcImRhdGVcIl1bXCJ0aW1lc3RhbXBcIl0gOiAwKSA+IChiW1wiZGF0ZVwiXSA/IGJbXCJkYXRlXCJdW1widGltZXN0YW1wXCJdIDogMCkgPyAxIDogLTE7XG59XG5mdW5jdGlvbiBmYWN0aW9uQ29udHJhY3QobGluaykge1xuICAgIGxldCBjb25kaXRpb25EaXYgPSBjcmVhdGVUZXh0RGl2KFwiXCIpO1xuICAgIGxldCBtYXJrZXIgPSBjcmVhdGVUZXh0U3BhbihcIiDimIVcIik7XG4gICAgbWFya2VyLnN0eWxlLmNvbG9yID0gVGV4dENvbG9ycy5ZZWxsb3c7XG4gICAgbWFya2VyLnN0eWxlLmZvbnRXZWlnaHQgPSBcImJvbGRcIjtcbiAgICBtYXJrZXIuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgbWFya2VyLnRpdGxlID0gXCJGYWN0aW9uIENvbnRyYWN0XCI7XG4gICAgbGluay5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcbiAgICBjb25kaXRpb25EaXYuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgY29uZGl0aW9uRGl2LmFwcGVuZENoaWxkKG1hcmtlcik7XG4gICAgcmV0dXJuIGNvbmRpdGlvbkRpdjtcbn1cbmZ1bmN0aW9uIGNvbmRpdGlvblN0YXR1cyhjb25kaXRpb24pIHtcbiAgICBsZXQgY29uZGl0aW9uRGl2ID0gY3JlYXRlVGV4dERpdihcIlwiKTtcbiAgICBsZXQgbWFya2VyID0gY3JlYXRlVGV4dFNwYW4oY29uZGl0aW9uW1wic3RhdHVzXCJdID09PSBcIkZVTEZJTExFRFwiID8gXCLinJNcIiA6IFwiWFwiKTtcbiAgICBtYXJrZXIuc3R5bGUuY29sb3IgPSBjb25kaXRpb25bXCJzdGF0dXNcIl0gPT09IFwiRlVMRklMTEVEXCIgPyBUZXh0Q29sb3JzLlN1Y2Nlc3MgOiBUZXh0Q29sb3JzLkZhaWx1cmU7XG4gICAgbWFya2VyLnN0eWxlLmZvbnRXZWlnaHQgPSBcImJvbGRcIjtcbiAgICBsZXQgdGV4dCA9IGZyaWVuZGx5Q29uZGl0aW9uVGV4dFtjb25kaXRpb24udHlwZV0gPyBmcmllbmRseUNvbmRpdGlvblRleHRbY29uZGl0aW9uLnR5cGVdIDogY29uZGl0aW9uLnR5cGU7XG4gICAgbGV0IHRleHRTcGFuID0gY3JlYXRlVGV4dFNwYW4oXCIgXCIgKyB0ZXh0KTtcbiAgICBjb25kaXRpb25EaXYuYXBwZW5kQ2hpbGQobWFya2VyKTtcbiAgICBjb25kaXRpb25EaXYuYXBwZW5kQ2hpbGQodGV4dFNwYW4pO1xuICAgIHJldHVybiBjb25kaXRpb25EaXY7XG59XG5jb25zdCBmcmllbmRseUNvbmRpdGlvblRleHQgPSB7XG4gICAgQ09NRVhfUFVSQ0hBU0VfUElDS1VQOiBcIk1hdGVyaWFsIFBpY2t1cFwiLFxuICAgIERFTElWRVJZOiBcIkRlbGl2ZXJ5XCIsXG4gICAgREVMSVZFUllfU0hJUE1FTlQ6IFwiRGVsaXZlciBTaGlwbWVudFwiLFxuICAgIEVYUExPUkFUSU9OOiBcIkV4cGxvcmF0aW9uXCIsXG4gICAgUkVQVVRBVElPTjogXCJSZXB1dGF0aW9uXCIsXG4gICAgUEFZTUVOVDogXCJQYXltZW50XCIsXG4gICAgUElDS1VQX1NISVBNRU5UOiBcIlBpY2t1cCBTaGlwbWVudFwiLFxuICAgIFBST1ZJU0lPTl9TSElQTUVOVDogXCJQcm92aXNpb25cIixcbiAgICBQUk9WSVNJT046IFwiUHJvdmlzaW9uXCIsXG4gICAgTE9BTl9QQVlPVVQ6IFwiTG9hbiBQYXlvdXRcIixcbiAgICBMT0FOX0lOU1RBTExNRU5UOiBcIkxvYW4gSW5zdGFsbG1lbnRcIlxufTtcbmNvbnN0IG1hdGVyaWFsRnVsZmlsbWVudFR5cGUgPSBbXG4gICAgXCJERUxJVkVSWVwiLFxuICAgIFwiREVMSVZFUllfU0hJUE1FTlRcIixcbiAgICBcIlBST1ZJU0lPTl9TSElQTUVOVFwiLFxuICAgIFwiQ09NRVhfUFVSQ0hBU0VfUElDS1VQXCJcbl07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9YSVQvQ29udHJhY3RzLnRzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBjbGVhckNoaWxkcmVuLCBnZXRMb2NhbFN0b3JhZ2UsIHNldFNldHRpbmdzLCBjcmVhdGVMaW5rLCBjcmVhdGVUZXh0U3BhbiwgbWFrZVBvcHVwU3BhY2VyLCBjcmVhdGVQb3B1cElucHV0Um93LCBnZXRWYWx1ZU9mUG9wdXBSb3csIHNob3dXYXJuaW5nRGlhbG9nIH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4uL1N0eWxlXCI7XG5leHBvcnQgY2xhc3MgQ29tbWFuZExpc3RzIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ09NTUFORCBMSVNUXCI7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgfVxuICAgIGNyZWF0ZV9idWZmZXIoKSB7XG4gICAgICAgIGNsZWFyQ2hpbGRyZW4odGhpcy50aWxlKTtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgZ2V0TG9jYWxTdG9yYWdlKFwiUE1NRy1MaXN0c1wiLCBnZW5lcmF0ZUxpc3RUYWJsZSwgdGhpcy50aWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldExvY2FsU3RvcmFnZShcIlBNTUctTGlzdHNcIiwgZGlzcFN0b3JlZExpc3QsIFt0aGlzLnRpbGUsIHRoaXMucGFyYW1ldGVycywgdGhpc10pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlX2J1ZmZlcigpIHtcbiAgICB9XG4gICAgZGVzdHJveV9idWZmZXIoKSB7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2VuZXJhdGVMaXN0VGFibGUocmVzdWx0LCB0aWxlKSB7XG4gICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgdGlsZS5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gICAgY29uc3QgaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcbiAgICBjb25zdCBoZWFkUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoaGVhZFJvdyk7XG4gICAgdGFibGUuYXBwZW5kQ2hpbGQoaGVhZCk7XG4gICAgZm9yIChsZXQgdGl0bGUgb2YgW1wiTmFtZVwiLCBcIkxlbmd0aFwiLCBcIkRlbGV0ZVwiXSkge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgICAgICBoZWFkZXIuc3R5bGUucGFkZGluZ1RvcCA9IFwiMFwiO1xuICAgICAgICBoZWFkUm93LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgfVxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XG4gICAgdGFibGUuYXBwZW5kQ2hpbGQoYm9keSk7XG4gICAgaWYgKCFyZXN1bHRbXCJQTU1HLUxpc3RzXCJdKSB7XG4gICAgICAgIHJlc3VsdFtcIlBNTUctTGlzdHNcIl0gPSB7fTtcbiAgICB9XG4gICAgY29uc3QgbmFtZXMgPSBBcnJheS5mcm9tKE9iamVjdC5rZXlzKHJlc3VsdFtcIlBNTUctTGlzdHNcIl0pKTtcbiAgICBuYW1lcy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIGNvbnN0IG5hbWVDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IGxlbmd0aENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgZGVsZXRlQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQobmFtZUNvbHVtbik7XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChsZW5ndGhDb2x1bW4pO1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoZGVsZXRlQ29sdW1uKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICBuYW1lQ29sdW1uLmFwcGVuZENoaWxkKGNyZWF0ZUxpbmsobmFtZSwgXCJYSVQgTElTVF9cIiArIG5hbWUpKTtcbiAgICAgICAgbGVuZ3RoQ29sdW1uLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKHJlc3VsdFtcIlBNTUctTGlzdHNcIl1bbmFtZV0ubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCkpKTtcbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtYnV0dG9uXCIpO1xuICAgICAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSBcIkRFTEVURVwiO1xuICAgICAgICBkZWxldGVDb2x1bW4uYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzaG93V2FybmluZ0RpYWxvZyh0aWxlLCBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgXCIgKyBuYW1lICsgXCI/XCIsIFwiQ29uZmlybVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZ2V0TG9jYWxTdG9yYWdlKFwiUE1NRy1MaXN0c1wiLCB1cGRhdGVUaGVuU3RvcmVMaXN0LCBbbmFtZSwgXCJcIl0pO1xuICAgICAgICAgICAgICAgIHJvdy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChuYW1lcy5sZW5ndGggPT0gMCkge1xuICAgICAgICB2YXIgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgY29uc3QgdGV4dENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgdGV4dENvbHVtbi5jb2xTcGFuID0gMztcbiAgICAgICAgdGV4dENvbHVtbi50ZXh0Q29udGVudCA9IFwiTm8gQ29tbWFuZCBMaXN0cy5cIjtcbiAgICAgICAgbGluZS5hcHBlbmRDaGlsZCh0ZXh0Q29sdW1uKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChsaW5lKTtcbiAgICB9XG4gICAgcmV0dXJuO1xufVxuZnVuY3Rpb24gdXBkYXRlVGhlblN0b3JlTGlzdChyZXN1bHQsIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zIHx8ICFwYXJhbXNbMF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBub3RlTmFtZSA9IHBhcmFtc1swXTtcbiAgICBjb25zdCBub3RlVGV4dCA9IHBhcmFtc1sxXTtcbiAgICBpZiAoIXJlc3VsdFtcIlBNTUctTGlzdHNcIl0pIHtcbiAgICAgICAgcmVzdWx0W1wiUE1NRy1MaXN0c1wiXSA9IHt9O1xuICAgIH1cbiAgICByZXN1bHRbXCJQTU1HLUxpc3RzXCJdW25vdGVOYW1lXSA9IG5vdGVUZXh0Lmxlbmd0aCA9PSAwID8gdW5kZWZpbmVkIDogbm90ZVRleHQ7XG4gICAgc2V0U2V0dGluZ3MocmVzdWx0KTtcbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBkaXNwU3RvcmVkTGlzdChyZXN1bHQsIHBhcmFtKSB7XG4gICAgY29uc3QgdGlsZSA9IHBhcmFtWzBdO1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBwYXJhbVsxXTtcbiAgICBjb25zdCBsaXN0T2JqID0gcGFyYW1bMl07XG4gICAgY29uc3QgbGlzdE5hbWUgPSAocGFyYW1ldGVycy5zbGljZSgxKSkuam9pbihcIl9cIik7XG4gICAgY29uc3QgbmFtZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmFtZURpdi5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG4gICAgbmFtZURpdi50ZXh0Q29udGVudCA9IGxpc3ROYW1lO1xuICAgIHRpbGUuYXBwZW5kQ2hpbGQobmFtZURpdik7XG4gICAgaWYgKCFyZXN1bHRbXCJQTU1HLUxpc3RzXCJdKSB7XG4gICAgICAgIHJlc3VsdFtcIlBNTUctTGlzdHNcIl0gPSB7fTtcbiAgICB9XG4gICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgdGlsZS5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gICAgY29uc3QgaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiKTtcbiAgICBjb25zdCBoZWFkUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoaGVhZFJvdyk7XG4gICAgdGFibGUuYXBwZW5kQ2hpbGQoaGVhZCk7XG4gICAgZm9yIChsZXQgdGl0bGUgb2YgW1wiXCJdKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcbiAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG4gICAgICAgIGhlYWRSb3cuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcbiAgICB9XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcbiAgICB0YWJsZS5hcHBlbmRDaGlsZChib2R5KTtcbiAgICBpZiAocmVzdWx0W1wiUE1NRy1MaXN0c1wiXVtsaXN0TmFtZV0gJiYgcmVzdWx0W1wiUE1NRy1MaXN0c1wiXVtsaXN0TmFtZV0ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHRbXCJQTU1HLUxpc3RzXCJdW2xpc3ROYW1lXS5mb3JFYWNoKGxpbmtJbmZvID0+IHtcbiAgICAgICAgICAgIGlmICghbGlua0luZm9bMF0gfHwgIWxpbmtJbmZvWzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgICAgICBjb25zdCB0ZXh0Q29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgdGV4dENvbHVtbi5hcHBlbmRDaGlsZChjcmVhdGVMaW5rKGxpbmtJbmZvWzBdLCBsaW5rSW5mb1sxXSkpO1xuICAgICAgICAgICAgbGluZS5hcHBlbmRDaGlsZCh0ZXh0Q29sdW1uKTtcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobGluZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIGNvbnN0IHRleHRDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIHRleHRDb2x1bW4uY29sU3BhbiA9IDE7XG4gICAgICAgIHRleHRDb2x1bW4udGV4dENvbnRlbnQgPSBcIk5vIENvbW1hbmRzLlwiO1xuICAgICAgICBsaW5lLmFwcGVuZENoaWxkKHRleHRDb2x1bW4pO1xuICAgICAgICBib2R5LmFwcGVuZENoaWxkKGxpbmUpO1xuICAgIH1cbiAgICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGFkZEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRWRpdFwiO1xuICAgIHRpbGUuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTtcbiAgICBhZGRCdXR0b24uc3R5bGUubWFyZ2luTGVmdCA9IFwiNXB4XCI7XG4gICAgYWRkQnV0dG9uLnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG4gICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uKTtcbiAgICBhZGRCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b25QcmltYXJ5KTtcbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3JlYXRlRWRpdEludGVyZmFjZSh0aWxlLCByZXN1bHQsIHBhcmFtZXRlcnMsIHJlc3VsdFtcIlBNTUctTGlzdHNcIl1bbGlzdE5hbWVdIHx8IFtdLCBsaXN0T2JqKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlRWRpdEludGVyZmFjZSh0aWxlLCByZXN1bHQsIHBhcmFtZXRlcnMsIHNldHRpbmdzID0gW10sIGxpc3RPYmopIHtcbiAgICBjb25zdCBwcmVmaWxsZWQgPSBzZXR0aW5ncy5sZW5ndGggIT0gMDtcbiAgICBjb25zdCBsaXN0TmFtZSA9IChwYXJhbWV0ZXJzLnNsaWNlKDEpKS5qb2luKFwiX1wiKTtcbiAgICBjb25zdCBvdmVybGFwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBvdmVybGFwRGl2LmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuT3ZlcmxhcHBpbmdEaXYpO1xuICAgIGNvbnN0IGdyZXlTdHJpcGVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBncmV5U3RyaXBlcy5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkdyZXlTdHJpcGVzKTtcbiAgICBvdmVybGFwRGl2LmFwcGVuZENoaWxkKGdyZXlTdHJpcGVzKTtcbiAgICB0aWxlLmluc2VydEJlZm9yZShvdmVybGFwRGl2LCB0aWxlLmZpcnN0Q2hpbGQpO1xuICAgIGdyZXlTdHJpcGVzLmFwcGVuZENoaWxkKG1ha2VQb3B1cFNwYWNlcih0aWxlLCBvdmVybGFwRGl2KSk7XG4gICAgY29uc3QgYWRkSW50ZXJmYWNlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWRkSW50ZXJmYWNlV3JhcHBlci5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkNlbnRlckludGVyZmFjZSk7XG4gICAgZ3JleVN0cmlwZXMuYXBwZW5kQ2hpbGQoYWRkSW50ZXJmYWNlV3JhcHBlcik7XG4gICAgY29uc3QgYWRkSW50ZXJmYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhZGRJbnRlcmZhY2UuY2xhc3NMaXN0LmFkZChcIkRyYWZ0Q29uZGl0aW9uRWRpdG9yX19mb3JtX19fZkY3MmJKTVwiKTtcbiAgICBhZGRJbnRlcmZhY2VXcmFwcGVyLmFwcGVuZENoaWxkKGFkZEludGVyZmFjZSk7XG4gICAgY29uc3QgYWRkSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBhZGRIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJDb21tYW5kIExpc3QgRWRpdG9yXCIpKTtcbiAgICBhZGRIZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgIGFkZEludGVyZmFjZS5hcHBlbmRDaGlsZChhZGRIZWFkZXIpO1xuICAgIGFkZEhlYWRlci5zdHlsZS5tYXJnaW4gPSBcIjAuNWVtIDAgMC41ZW1cIjtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhZGRJbnRlcmZhY2UuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgaWYgKHByZWZpbGxlZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNyZWF0ZVBvcHVwSW5wdXRSb3coXCJMaW5rIFwiICsgKGkgKyAxKSArIFwiIExhYmVsXCIsIHNldHRpbmdzW2ldWzBdLCBpID09IDAgPyBcIlRoZSBsYWJlbCBvZiB0aGUgZmlyc3QgbGluay5cIiA6IFwiXCIpKTtcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXBJbnB1dFJvdyhcIkxpbmsgXCIgKyAoaSArIDEpICsgXCIgQ29tbWFuZFwiLCBzZXR0aW5nc1tpXVsxXSwgaSA9PSAwID8gXCJUaGUgY29tbWFuZCBvcGVuZWQgYnkgdGhlIGZpcnN0IGxpbmsgKGV4OiBDWCBOQzEpXCIgOiBcIlwiKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXBJbnB1dFJvdyhcIkxpbmsgMSBMYWJlbFwiLCBcIlwiLCBcIlRoZSBsYWJlbCBvZiB0aGUgZmlyc3QgbGluay5cIikpO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNyZWF0ZVBvcHVwSW5wdXRSb3coXCJMaW5rIDEgQ29tbWFuZFwiLCBcIlwiLCBcIlRoZSBjb21tYW5kIG9wZW5lZCBieSB0aGUgZmlyc3QgbGluayAoZXg6IENYIE5DMSlcIikpO1xuICAgIH1cbiAgICBjb25zdCBhZGRSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFkZFJvdy5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1TYXZlUm93KTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKGFkZFJvdyk7XG4gICAgY29uc3QgYWRkTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgYWRkTGFiZWwudGV4dENvbnRlbnQgPSBcIkFkZCBMaW5rXCI7XG4gICAgYWRkTGFiZWwuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZUxhYmVsKTtcbiAgICBhZGRSb3cuYXBwZW5kQ2hpbGQoYWRkTGFiZWwpO1xuICAgIGNvbnN0IGFkZElucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhZGRJbnB1dERpdi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1TYXZlSW5wdXQpO1xuICAgIGFkZFJvdy5hcHBlbmRDaGlsZChhZGRJbnB1dERpdik7XG4gICAgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBhZGRCdXR0b24udGV4dENvbnRlbnQgPSBcIkFERCBMSU5LXCI7XG4gICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uKTtcbiAgICBhZGRCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b25QcmltYXJ5KTtcbiAgICBhZGRJbnB1dERpdi5hcHBlbmRDaGlsZChhZGRCdXR0b24pO1xuICAgIGFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjYXROdW1iZXIgPSAoZm9ybS5jaGlsZHJlbi5sZW5ndGgpIC8gMjtcbiAgICAgICAgZm9ybS5pbnNlcnRCZWZvcmUoY3JlYXRlUG9wdXBJbnB1dFJvdyhcIkxpbmsgXCIgKyBjYXROdW1iZXIgKyBcIiBMYWJlbFwiKSwgZm9ybS5jaGlsZHJlbltmb3JtLmNoaWxkcmVuLmxlbmd0aCAtIDJdKTtcbiAgICAgICAgZm9ybS5pbnNlcnRCZWZvcmUoY3JlYXRlUG9wdXBJbnB1dFJvdyhcIkxpbmsgXCIgKyBjYXROdW1iZXIgKyBcIiBDb21tYW5kXCIpLCBmb3JtLmNoaWxkcmVuW2Zvcm0uY2hpbGRyZW4ubGVuZ3RoIC0gMl0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHNhdmVSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNhdmVSb3cuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZVJvdyk7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChzYXZlUm93KTtcbiAgICBjb25zdCBzYXZlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgc2F2ZUxhYmVsLnRleHRDb250ZW50ID0gXCJDTURcIjtcbiAgICBzYXZlTGFiZWwuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZUxhYmVsKTtcbiAgICBzYXZlUm93LmFwcGVuZENoaWxkKHNhdmVMYWJlbCk7XG4gICAgY29uc3Qgc2F2ZUlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzYXZlSW5wdXREaXYuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZUlucHV0KTtcbiAgICBzYXZlUm93LmFwcGVuZENoaWxkKHNhdmVJbnB1dERpdik7XG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU0FWRVwiO1xuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b25QcmltYXJ5KTtcbiAgICBzYXZlSW5wdXREaXYuYXBwZW5kQ2hpbGQoc2F2ZUJ1dHRvbik7XG4gICAgc2F2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb21tYW5kSW5mbyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm0uY2hpbGRyZW4ubGVuZ3RoIC0gMjsgaSArPSAyKSB7XG4gICAgICAgICAgICBpZiAoIWZvcm0uY2hpbGRyZW5baV0gfHwgIWZvcm0uY2hpbGRyZW5baSArIDFdKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0VmFsdWVPZlBvcHVwUm93KGZvcm0uY2hpbGRyZW5baV0pID09IFwiXCIgfHwgZ2V0VmFsdWVPZlBvcHVwUm93KGZvcm0uY2hpbGRyZW5baSArIDFdKSA9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tYW5kSW5mby5wdXNoKFtnZXRWYWx1ZU9mUG9wdXBSb3coZm9ybS5jaGlsZHJlbltpXSksIGdldFZhbHVlT2ZQb3B1cFJvdyhmb3JtLmNoaWxkcmVuW2kgKyAxXSldKTtcbiAgICAgICAgfVxuICAgICAgICB0aWxlLnJlbW92ZUNoaWxkKG92ZXJsYXBEaXYpO1xuICAgICAgICByZXN1bHRbXCJQTU1HLUxpc3RzXCJdW2xpc3ROYW1lXSA9IGNvbW1hbmRJbmZvO1xuICAgICAgICBzZXRTZXR0aW5ncyhyZXN1bHQpO1xuICAgICAgICBsaXN0T2JqLmNyZWF0ZV9idWZmZXIoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICAgIGdyZXlTdHJpcGVzLmFwcGVuZENoaWxkKG1ha2VQb3B1cFNwYWNlcih0aWxlLCBvdmVybGFwRGl2KSk7XG4gICAgcmV0dXJuO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvWElUL0NvbW1hbmRMaXN0cy50c1xuLy8gbW9kdWxlIGlkID0gMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgZG93bmxvYWRGaWxlLCBjbGVhckNoaWxkcmVuLCBYSVRXZWJSZXF1ZXN0IH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4uL1N0eWxlXCI7XG5leHBvcnQgY2xhc3MgRGVidWcge1xuICAgIGNvbnN0cnVjdG9yKHRpbGUsIHBhcmFtZXRlcnMsIHBtbWdTZXR0aW5ncywgdXNlckluZm8sIHdlYkRhdGEpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJERUJVR1wiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICB0aGlzLnBtbWdTZXR0aW5ncyA9IHBtbWdTZXR0aW5ncztcbiAgICAgICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvO1xuICAgICAgICB0aGlzLndlYkRhdGEgPSB3ZWJEYXRhO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjb25zdCB0aWxlID0gdGhpcy50aWxlO1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCBwbW1nU2V0dGluZ3MgPSB0aGlzLnBtbWdTZXR0aW5ncztcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzLnRpbGUpO1xuICAgICAgICBjb25zdCBkb3dubG9hZEJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQoZG93bmxvYWRCdXR0b25zKTtcbiAgICAgICAgZG93bmxvYWRCdXR0b25zLmFwcGVuZENoaWxkKGNyZWF0ZURvd25sb2FkQnV0dG9uKHRoaXMucG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdLCBcIkRvd25sb2FkIEZ1bGwgU2V0dGluZ3NcIiwgXCJwbW1nLXNldHRpbmdzXCIgKyBEYXRlLm5vdygpLnRvU3RyaW5nKCkgKyBcIi5qc29uXCIpKTtcbiAgICAgICAgZG93bmxvYWRCdXR0b25zLmFwcGVuZENoaWxkKGNyZWF0ZURvd25sb2FkQnV0dG9uKHRoaXMud2ViRGF0YSwgXCJEb3dubG9hZCBBbGwgV2ViIERhdGFcIiwgXCJwbW1nLXdlYi1kYXRhXCIgKyBEYXRlLm5vdygpLnRvU3RyaW5nKCkgKyBcIi5qc29uXCIpKTtcbiAgICAgICAgZG93bmxvYWRCdXR0b25zLmFwcGVuZENoaWxkKGNyZWF0ZURvd25sb2FkQnV0dG9uKHRoaXMudXNlckluZm8sIFwiRG93bmxvYWQgQWxsIENvbGxlY3RlZCBEYXRhXCIsIFwicG1tZy11c2VyLWluZm9cIiArIERhdGUubm93KCkudG9TdHJpbmcoKSArIFwiLmpzb25cIikpO1xuICAgICAgICBjb25zdCBlbmRwb2ludExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZW5kcG9pbnRMYWJlbC50ZXh0Q29udGVudCA9IFwiR2V0IEZJTyBFbmRwb2ludCAoZXg6IC9pbmZyYXN0cnVjdHVyZS9Qcm94aW9uKVwiO1xuICAgICAgICBlbmRwb2ludExhYmVsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGVuZHBvaW50TGFiZWwuc3R5bGUubWFyZ2luTGVmdCA9IFwiNHB4XCI7XG4gICAgICAgIGRvd25sb2FkQnV0dG9ucy5hcHBlbmRDaGlsZChlbmRwb2ludExhYmVsKTtcbiAgICAgICAgY29uc3QgZW5kcG9pbnRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgZW5kcG9pbnRJbnB1dC5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtdGV4dFwiKTtcbiAgICAgICAgZW5kcG9pbnRJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBkb3dubG9hZEJ1dHRvbnMuYXBwZW5kQ2hpbGQoZW5kcG9pbnRJbnB1dCk7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgZW5kcG9pbnRCdXR0b24udGV4dENvbnRlbnQgPSBcIkRvd25sb2FkIEZJTyBFbmRwb2ludFwiO1xuICAgICAgICBlbmRwb2ludEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbik7XG4gICAgICAgIGVuZHBvaW50QnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uUHJpbWFyeSk7XG4gICAgICAgIGVuZHBvaW50QnV0dG9uLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjRweFwiO1xuICAgICAgICBlbmRwb2ludEJ1dHRvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjRweFwiO1xuICAgICAgICBlbmRwb2ludEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBlbmRwb2ludEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gXCJodHRwczovL3Jlc3QuZm5hci5uZXRcIiArIChlbmRwb2ludElucHV0LnZhbHVlLmNoYXJBdCgwKSA9PSBcIi9cIiA/IFwiXCIgOiBcIi9cIikgKyBlbmRwb2ludElucHV0LnZhbHVlO1xuICAgICAgICAgICAgWElUV2ViUmVxdWVzdCh0aWxlLCBwYXJhbWV0ZXJzLCBEZWJ1Z19wb3N0LCB1cmwsIFwiR0VUXCIsIFtcIkF1dGhvcml6YXRpb25cIiwgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYXBpa2V5XCJdXSwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb3dubG9hZEJ1dHRvbnMuYXBwZW5kQ2hpbGQoZW5kcG9pbnRCdXR0b24pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZV9idWZmZXIoKSB7XG4gICAgfVxuICAgIGRlc3Ryb3lfYnVmZmVyKCkge1xuICAgIH1cbn1cbmZ1bmN0aW9uIERlYnVnX3Bvc3QodGlsZSwgcGFyYW1ldGVycywganNvbmRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKGpzb25kYXRhKSk7XG4gICAgfVxuICAgIGNhdGNoIChleCkgeyB9XG4gICAgZG93bmxvYWRGaWxlKGpzb25kYXRhLCBcImZpby1lbmRwb2ludFwiICsgRGF0ZS5ub3coKS50b1N0cmluZygpICsgXCIuanNvblwiLCBmYWxzZSk7XG4gICAgcmV0dXJuIFt0aWxlLCBwYXJhbWV0ZXJzXTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURvd25sb2FkQnV0dG9uKGRhdGEsIGJ1dHRvbk5hbWUsIGZpbGVOYW1lKSB7XG4gICAgY29uc3QgZG93bmxvYWRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGRvd25sb2FkQnV0dG9uLnRleHRDb250ZW50ID0gYnV0dG9uTmFtZTtcbiAgICBkb3dubG9hZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbik7XG4gICAgZG93bmxvYWRCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b25QcmltYXJ5KTtcbiAgICBkb3dubG9hZEJ1dHRvbi5zdHlsZS5tYXJnaW5MZWZ0ID0gXCI0cHhcIjtcbiAgICBkb3dubG9hZEJ1dHRvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjRweFwiO1xuICAgIGRvd25sb2FkQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgZG93bmxvYWRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIGRvd25sb2FkRmlsZShkYXRhLCBmaWxlTmFtZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvd25sb2FkQnV0dG9uO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvWElUL0RlYnVnLnRzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBjcmVhdGVUZXh0U3BhbiwgY2xlYXJDaGlsZHJlbiB9IGZyb20gXCIuLi91dGlsXCI7XG5pbXBvcnQgeyBTdHlsZSB9IGZyb20gXCIuLi9TdHlsZVwiO1xuZXhwb3J0IGNsYXNzIEhlbHAge1xuICAgIGNvbnN0cnVjdG9yKHRpbGUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJIRUxQXCI7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgfVxuICAgIGNyZWF0ZV9idWZmZXIoKSB7XG4gICAgICAgIGNsZWFyQ2hpbGRyZW4odGhpcy50aWxlKTtcbiAgICAgICAgY29uc3QgZmVhdHVyZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgIGZlYXR1cmVIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJGZWF0dXJlc1wiKSk7XG4gICAgICAgIGZlYXR1cmVIZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQoZmVhdHVyZUhlYWRlcik7XG4gICAgICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICAgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XG4gICAgICAgIHZhciBoZWFkUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGhlYWRSb3cpO1xuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChoZWFkKTtcbiAgICAgICAgZm9yIChsZXQgdGl0bGUgb2YgW1wiTmFtZVwiLCBcIkRlc2NyaXB0aW9uXCJdKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICAgICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG4gICAgICAgICAgICBoZWFkUm93LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGJvZHkpO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJMTSBVbml0IFByaWNlc1wiLCBcIkRpc3BsYXlzIHBlciB1bml0IHByaWNlcyBvbiB0aGUgbG9jYWwgbWFya2V0LlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkxNIFBvc3RpbmcgVW5pdCBQcmljZXNcIiwgXCJEaXNwbGFjZXMgcGVyIHVuaXQgcHJpY2VzIHdoZW4gcG9zdGluZyBhZHMuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiQ29udHJhY3QgRHJhZnRzXCIsIFwiRGlzcGxheXMgcGVyIHVuaXQgcHJpY2VzIHdoZW4gY3JlYXRpbmcgQ09OVEQuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiT3JkZXIgRVRBc1wiLCBcIkRpc3BsYXlzIHRoZSBkYXRlIGFuZCB0aW1lIHdoZW4gcHJvZHVjdGlvbiBvcmRlcnMgYXJlIGNvbXBsZXRlLlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkZsaWdodCBFVEFzXCIsIFwiRGlzcGxheXMgdGhlIGFycml2YWwgdGltZSB3aGVuIHBsYW5uaW5nIGEgZmxpZ2h0LlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkZsZWV0IEVUQXNcIiwgXCJEaXNwbGF5cyB0aGUgYXJyaXZhbCB0aW1lIG9mIHlvdXIgZmxlZXQuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiUXVldWUgTG9hZFwiLCBcIlF1ZXVlIFBlcmNlbnQgRGlzcGxheS5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJDb25zdW1hYmxlIFRpbWVyc1wiLCBcIkFkZHMgdGhlIG51bWJlciBvZiBkYXlzIG9mIGNvbnN1bWFibGVzIGxlZnQgdG8gV0YgYnVmZmVycy5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJOb3RpZmljYXRpb25zXCIsIFwiU2hvcnRlbnMgYW5kIGNvbG9yIGNvZGVzIG5vdGlmaWNhdGlvbnMuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiU2NyZWVuIFVucGFja1wiLCBcIlVucGFja3MgdGhlIGxpc3Qgb2Ygc2NyZWVucyB0byB0aGUgdG9wIGJhci5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJJbWFnZSBDcmVhdG9yXCIsIFwiTG9hZHMgaW1hZ2VzIGFuZCBHSUZzIGludG8gY2hhdHMuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiSW52ZW50b3J5IE9yZ2FuaXplclwiLCBcIkFsbG93cyBmb3IgY3VzdG9tIHNvcnRpbmcgb2YgaW52ZW50b3JpZXMuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiQ29tbWFuZCBDb3JyZWN0ZXJcIiwgXCJBbGxvd3MgZm9yIHBsYW5ldCBuYW1lcyBpbiBzdG9jayBjb21tYW5kcyAoTW9udGVtLCBQcm9taXRvciwgZXRjLilcIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJTaWRlYmFyXCIsIFwiQWxsb3dzIHRoZSB1c2VyIHRvIGN1c3RvbWl6ZSB0aGUgbGVmdCBzaWRlYmFyIGluIFhJVCBTRVRUSU5HUy5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJQZW5kaW5nIENvbnRyYWN0c1wiLCBcIkRpc3BsYXlzIHRoZSBuYW1lIG9mIHRoZSBvdGhlciBwYXJ0eSBpbiBwZW5kaW5nIGNvbnRyYWN0cy5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJDb21wYWN0ZWQgVUlcIiwgXCJNaW5pbWl6ZXMgdW51c2VkIHBvcnRpb25zIG9mIHRoZSBVSVwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkhlYWRlciBNaW5pbWl6ZXJcIiwgXCJBbGxvd3MgbWluaW1pemluZyBjb250cmFjdCBhbmQgQ1ggaGVhZGVyc1wiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkNvbG9yIFNjaGVtZXNcIiwgXCJDaGFuZ2VzIHRoZSBjb2xvcnMgdXNlZCBvbiBtYXRlcmlhbCBpY29ucy4gU2V0IGluIFhJVCBTRVRUSU5HUy5cIl0pO1xuICAgICAgICBjb25zdCB4aXRIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICB4aXRIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJYSVQgQ29tbWFuZHNcIikpO1xuICAgICAgICB4aXRIZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQoeGl0SGVhZGVyKTtcbiAgICAgICAgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gICAgICAgIGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XG4gICAgICAgIGhlYWRSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoaGVhZFJvdyk7XG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGhlYWQpO1xuICAgICAgICBmb3IgKGxldCB0aXRsZSBvZiBbXCJOYW1lXCIsIFwiQ29tbWFuZFwiLCBcIlBhcmFtZXRlcnNcIiwgXCJEZXNjcmlwdGlvblwiXSkge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xuICAgICAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgICAgICAgICBoZWFkZXIuc3R5bGUucGFkZGluZ1RvcCA9IFwiMFwiO1xuICAgICAgICAgICAgaGVhZFJvdy5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGJvZHkpO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJCdXJuXCIsIFwiWElUIEJVUk5cIiwgXCJQbGFuZXRcIiwgXCJTaG93cyB0aGUgbnVtYmVyIG9mIGRheXMgb2YgY29uc3VtYWJsZXMgbGVmdC5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJSZXBhaXJzXCIsIFwiWElUIFJFUEFJUlNcIiwgXCJQbGFuZXQgKG9wdGlvbmFsKVwiLCBcIlNob3dzIHRoZSBtYXRlcmlhbHMgdG8gcmVwYWlyIGJ1aWxkaW5ncy5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJDb250cmFjdHNcIiwgXCJYSVQgQ09OVFJBQ1RTXCIsIFwiTm9uZVwiLCBcIlNob3dzIHBlbmRpbmcgY29udHJhY3RzLlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkZpbmFuY2VzXCIsIFwiWElUIEZJTlwiLCBcIk5vbmVcIiwgXCJTaG93cyBmaW5hbmNpYWwgaW5mb3JtYXRpb24uXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiRklPIEludmVudG9yeVwiLCBcIlhJVCBJTlZcIiwgXCJVc2VybmFtZSwgUGxhbmV0XCIsIFwiU2hvd3MgdGhlIGludmVudG9yeSBvZiBhbm90aGVyIEZJTyB1c2VyLlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIk5vdGVzXCIsIFwiWElUIE5PVEVTXCIsIFwiTm90ZSBOYW1lIChvcHRpb25hbClcIiwgXCJQcm92aWRlcyBhIHRleHQgYXJlYSB0byB0eXBlIGEgbm90ZSBpbi5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJDaGVja2xpc3RzXCIsIFwiWElUIENIRUNLTElTVFwiLCBcIkNoZWNrbGlzdCBOYW1lIChvcHRpb25hbClcIiwgXCJQcm92aWRlcyBjaGVja2xpc3QgeW91IGNhbiBhZGQgaXRlbXMgdG8uXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiQ29tbWFuZCBMaXN0c1wiLCBcIlhJVCBMSVNUXCIsIFwiTGlzdCBOYW1lIChvcHRpb25hbClcIiwgXCJQcm92aWRlcyBhIGN1c3RvbWl6YWJsZSBsaXN0IG9mIGNvbW1hbmQgbGlua3MuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiU2V0dGluZ3NcIiwgXCJYSVQgU0VUVElOR1NcIiwgXCJOb25lXCIsIFwiT3BlbiBQTU1HIHNldHRpbmdzLlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkNhbGN1bGF0b3JcIiwgXCJYSVQgQ0FMQ1wiLCBcIk5vbmVcIiwgXCJQcm92aWRlcyBhbiBpbmdhbWUgY2FsY3VsYXRvci5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJDaGF0XCIsIFwiWElUIENIQVRcIiwgXCJQbGFuZXRcIiwgXCJQcm92aWRlcyByZWFkLW9ubHkgYWNjZXNzIHRvIGEgcGxhbmV0IGNoYXQuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiRGVidWdcIiwgXCJYSVQgREVCVUdcIiwgXCJOb25lXCIsIFwiRGVidWdnaW5nIG1lbnUuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiU3RhcnRcIiwgXCJYSVQgU1RBUlRcIiwgXCJOb25lXCIsIFwiRmlyc3QgdGltZSB1c2VyIHBvcHVwLlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIlByVU4gUGxhbm5lclwiLCBcIlhJVCBQTEFOTkVSXCIsIFwiU3BlY2lmaWMgUGFnZSAob3B0aW9uYWwpXCIsIFwiTGlua3MgdG8gUHJVTiBQbGFubmVyLlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIldpa2lcIiwgXCJYSVQgV0lLSVwiLCBcIk5vbmVcIiwgXCJMaW5rcyBQclVOIHdpa2kuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiRklPXCIsIFwiWElUIEZJT1wiLCBcIk5vbmVcIiwgXCJMaW5rcyB0byBGSU8gV2ViLlwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkRpc2NvcmRcIiwgXCJYSVQgRElTQ09SRFwiLCBcIlNlcnZlciBJRC9OYW1lLCBDaGFubmVsIElEXCIsIFwiQWxsb3dzIHlvdSB0byBjaGF0IGluIERpc2NvcmQuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiU2hlZXRzXCIsIFwiWElUIFNIRUVUU1wiLCBcIlNoZWV0IElEXCIsIFwiQ29ubmVjdHMgdG8gR29vZ2xlIFNoZWV0cy5cIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJQcm9zcGVyaXR5XCIsIFwiWElUIFBST1NQRVJJVFlcIiwgXCJOb25lXCIsIFwiQWNjZXNzZXMgdGhlIFByb3NwZXJpdHkgbWFwIHRvb2wuXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiUHJVTlwiLCBcIlhJVCBQUlVOXCIsIFwiTm9uZVwiLCBcIk9wZW5zIFByVU4uLi4gaW4gUHJVTiFcIl0pO1xuICAgICAgICBjb25zdCBidWdIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBidWdIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJDb21tb24gSXNzdWVzXCIpKTtcbiAgICAgICAgYnVnSGVhZGVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKGJ1Z0hlYWRlcik7XG4gICAgICAgIHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgICAgICBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xuICAgICAgICBoZWFkUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGhlYWRSb3cpO1xuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChoZWFkKTtcbiAgICAgICAgZm9yIChsZXQgdGl0bGUgb2YgW1wiRGVzY3JpcHRpb25cIiwgXCJFeHBsYW5hdGlvblwiLCBcIlNvbHV0aW9uXCJdKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICAgICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG4gICAgICAgICAgICBoZWFkUm93LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQoYm9keSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIlNlZWluZyBncmVlbiBidWZmZXJzXCIsIFwiUE1NRyBpcyBjcmFzaGluZ1wiLCBcIkNvbnRhY3QgUGlCb3kzMTQgb24gRGlzY29yZFwiXSk7XG4gICAgICAgIGNyZWF0ZVRhYmxlUm93KGJvZHksIFtcIkRhdGEgbm90IHNjYW5uaW5nIGluXCIsIFwiUE1NRydzIGxpc3RlbmVyIGlzIGJlY29taW5nIGRldGFjaGVkLlwiLCBcIkNsb3NlIFByb3NwZXJvdXMgVW5pdmVyc2UgYW5kIHJlb3BlbiBpdC4gQ2hlY2sgeW91ciBkYXRhIGluIFhJVCBIRUFMVEguXCJdKTtcbiAgICAgICAgY3JlYXRlVGFibGVSb3coYm9keSwgW1wiV2FudCB0byBjbGVhciBkYXRhXCIsIFwiTi9BXCIsIFwiQ2xpY2sgb24gZXh0ZW5zaW9uIGljb24gaW4gdXBwZXIgcmlnaHQsIGNsaWNrIFxcXCJDbGVhciBTZXR0aW5nc1xcXCJcIl0pO1xuICAgICAgICBjcmVhdGVUYWJsZVJvdyhib2R5LCBbXCJTb21ldGhpbmcgZWxzZVwiLCBcIk4vQVwiLCBcIkFzayBvbiBEaXNjb3JkLCBwaW5nIFBpQm95MzE0LlwiXSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlX2J1ZmZlcigpIHtcbiAgICB9XG4gICAgZGVzdHJveV9idWZmZXIoKSB7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVGFibGVSb3coYm9keSwgY29udGVudHMpIHtcbiAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgY29udGVudHMuZm9yRWFjaCh0ZXh0ID0+IHtcbiAgICAgICAgY29uc3QgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIHRkLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKHRleHQpKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICByZXR1cm47XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9YSVQvSGVscC50c1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY3JlYXRlVGV4dFNwYW4sIGNsZWFyQ2hpbGRyZW4sIHNldFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCB7IE5vblByb2R1Y3Rpb25CdWlsZGluZ3MgfSBmcm9tIFwiLi4vR2FtZVByb3BlcnRpZXNcIjtcbmV4cG9ydCBjbGFzcyBSZXBhaXJzIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzLCBwbW1nU2V0dGluZ3MsIHVzZXJJbmZvKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUkVQQUlSU1wiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICB0aGlzLnBtbWdTZXR0aW5ncyA9IHBtbWdTZXR0aW5ncztcbiAgICAgICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjb25zdCBwbW1nU2V0dGluZ3MgPSB0aGlzLnBtbWdTZXR0aW5ncztcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzLnRpbGUpO1xuICAgICAgICBpZiAoIXRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXSB8fCAhdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic2l0ZXNcIl0pIHtcbiAgICAgICAgICAgIHRoaXMudGlsZS50ZXh0Q29udGVudCA9IFwiTG9hZGluZyBSZXBhaXIgRGF0YS4uLlwiO1xuICAgICAgICAgICAgdGhpcy50aWxlLmlkID0gXCJwbW1nLXJlbG9hZFwiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBjcmVhdGVUZXh0U3BhbihcIkFsbCBSZXBhaXJzXCIpO1xuICAgICAgICAgICAgdGl0bGUuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgICAgICAgIGNvbnN0IHRocmVzaG9sZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQodGhyZXNob2xkRGl2KTtcbiAgICAgICAgICAgIGNvbnN0IHRocmVzaG9sZElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgdGhyZXNob2xkSW5wdXQuY2xhc3NMaXN0LmFkZChcImlucHV0LXRleHRcIik7XG4gICAgICAgICAgICBjb25zdCB0aHJlc2hvbGRUZXh0ID0gY3JlYXRlVGV4dFNwYW4oXCJBZ2UgVGhyZXNob2xkOlwiKTtcbiAgICAgICAgICAgIHRocmVzaG9sZFRleHQuc3R5bGUucGFkZGluZ0xlZnQgPSBcIjVweFwiO1xuICAgICAgICAgICAgdGhyZXNob2xkSW5wdXQudHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICB0aHJlc2hvbGRJbnB1dC52YWx1ZSA9IHRoaXMucG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicmVwYWlyX3RocmVzaG9sZFwiXSA/IHRoaXMucG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicmVwYWlyX3RocmVzaG9sZFwiXSA6IFwiNzBcIjtcbiAgICAgICAgICAgIHRocmVzaG9sZElucHV0LnN0eWxlLndpZHRoID0gXCI2MHB4XCI7XG4gICAgICAgICAgICB0aHJlc2hvbGREaXYuYXBwZW5kQ2hpbGQodGhyZXNob2xkVGV4dCk7XG4gICAgICAgICAgICB0aHJlc2hvbGREaXYuYXBwZW5kQ2hpbGQodGhyZXNob2xkSW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgbWF0VGl0bGUgPSBjcmVhdGVUZXh0U3BhbihcIlNob3BwaW5nIENhcnRcIik7XG4gICAgICAgICAgICBtYXRUaXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgICBtYXRUaXRsZS5zdHlsZS5wYWRkaW5nQm90dG9tID0gXCIycHhcIjtcbiAgICAgICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChtYXRUaXRsZSk7XG4gICAgICAgICAgICBjb25zdCBtYXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKG1hdERpdik7XG4gICAgICAgICAgICBjb25zdCBidWlUaXRsZSA9IGNyZWF0ZVRleHRTcGFuKFwiQnVpbGRpbmdzXCIpO1xuICAgICAgICAgICAgYnVpVGl0bGUuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgICAgYnVpVGl0bGUuc3R5bGUucGFkZGluZ1RvcCA9IFwiNXB4XCI7XG4gICAgICAgICAgICBidWlUaXRsZS5zdHlsZS5wYWRkaW5nQm90dG9tID0gXCIycHhcIjtcbiAgICAgICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChidWlUaXRsZSk7XG4gICAgICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XG4gICAgICAgICAgICBjb25zdCBociA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoaHIpO1xuICAgICAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQoaGVhZCk7XG4gICAgICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiBbXCJUaWNrZXJcIiwgXCJQbGFuZXRcIiwgXCJBZ2VcIiwgXCJDb25kaXRpb25cIl0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgICAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gdDtcbiAgICAgICAgICAgICAgICBoZWFkZXIuc3R5bGUucGFkZGluZ1RvcCA9IFwiMFwiO1xuICAgICAgICAgICAgICAgIGhyLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYnVpbGRpbmdzID0gW107XG4gICAgICAgICAgICB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzaXRlc1wiXS5mb3JFYWNoKHNpdGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzaXRlLnR5cGUgIT0gXCJCQVNFXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaXRlLmJ1aWxkaW5ncy5mb3JFYWNoKGJ1aWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdzLnB1c2goW3NpdGVbXCJQbGFuZXROYW1lXCJdLCBidWlsZF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBidWlsZGluZ3Muc29ydChnbG9iYWxCdWlsZGluZ1NvcnQpO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGJvZHkpO1xuICAgICAgICAgICAgZ2VuZXJhdGVHZW5lcmFsUmVwYWlyU2NyZWVuKGJvZHksIG1hdERpdiwgYnVpbGRpbmdzLCB0aHJlc2hvbGRJbnB1dCk7XG4gICAgICAgICAgICB0aHJlc2hvbGRJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyQ2hpbGRyZW4oYm9keSk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVHZW5lcmFsUmVwYWlyU2NyZWVuKGJvZHksIG1hdERpdiwgYnVpbGRpbmdzLCB0aHJlc2hvbGRJbnB1dCk7XG4gICAgICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicmVwYWlyX3RocmVzaG9sZFwiXSA9IHRocmVzaG9sZElucHV0LnZhbHVlIHx8IFwiNzBcIjtcbiAgICAgICAgICAgICAgICBzZXRTZXR0aW5ncyhwbW1nU2V0dGluZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IGNyZWF0ZVRleHRTcGFuKHRoaXMucGFyYW1ldGVyc1sxXSArIFwiIFJlcGFpcnNcIik7XG4gICAgICAgICAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICAgICAgdmFyIHNpdGVEYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic2l0ZXNcIl0uZm9yRWFjaChzaXRlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2l0ZS50eXBlID09IFwiQkFTRVwiICYmIChzaXRlW1wiUGxhbmV0TmFtZVwiXS50b1VwcGVyQ2FzZSgpID09IHRoaXMucGFyYW1ldGVyc1sxXS50b1VwcGVyQ2FzZSgpIHx8IHNpdGVbXCJQbGFuZXROYXR1cmFsSWRcIl0udG9VcHBlckNhc2UoKSA9PSB0aGlzLnBhcmFtZXRlcnNbMV0udG9VcHBlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2l0ZURhdGEgPSBzaXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghc2l0ZURhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0aHJlc2hvbGREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHRocmVzaG9sZERpdik7XG4gICAgICAgICAgICBjb25zdCB0aHJlc2hvbGRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgIHRocmVzaG9sZElucHV0LmNsYXNzTGlzdC5hZGQoXCJpbnB1dC10ZXh0XCIpO1xuICAgICAgICAgICAgY29uc3QgdGhyZXNob2xkVGV4dCA9IGNyZWF0ZVRleHRTcGFuKFwiQWdlIFRocmVzaG9sZDpcIik7XG4gICAgICAgICAgICB0aHJlc2hvbGRUZXh0LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCI1cHhcIjtcbiAgICAgICAgICAgIHRocmVzaG9sZElucHV0LnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgdGhyZXNob2xkSW5wdXQudmFsdWUgPSB0aGlzLnBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInJlcGFpcl90aHJlc2hvbGRcIl0gPyB0aGlzLnBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInJlcGFpcl90aHJlc2hvbGRcIl0gOiBcIjcwXCI7XG4gICAgICAgICAgICB0aHJlc2hvbGRJbnB1dC5zdHlsZS53aWR0aCA9IFwiNjBweFwiO1xuICAgICAgICAgICAgdGhyZXNob2xkRGl2LmFwcGVuZENoaWxkKHRocmVzaG9sZFRleHQpO1xuICAgICAgICAgICAgdGhyZXNob2xkRGl2LmFwcGVuZENoaWxkKHRocmVzaG9sZElucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdFRpdGxlID0gY3JlYXRlVGV4dFNwYW4oXCJTaG9wcGluZyBDYXJ0XCIpO1xuICAgICAgICAgICAgbWF0VGl0bGUuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgICAgbWF0VGl0bGUuc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiMnB4XCI7XG4gICAgICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQobWF0VGl0bGUpO1xuICAgICAgICAgICAgY29uc3QgbWF0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChtYXREaXYpO1xuICAgICAgICAgICAgY29uc3QgYnVpVGl0bGUgPSBjcmVhdGVUZXh0U3BhbihcIkJ1aWxkaW5nc1wiKTtcbiAgICAgICAgICAgIGJ1aVRpdGxlLmNsYXNzTGlzdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICAgIGJ1aVRpdGxlLnN0eWxlLnBhZGRpbmdUb3AgPSBcIjVweFwiO1xuICAgICAgICAgICAgYnVpVGl0bGUuc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiMnB4XCI7XG4gICAgICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQoYnVpVGl0bGUpO1xuICAgICAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgICAgICAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoZWFkXCIpO1xuICAgICAgICAgICAgY29uc3QgaHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGhyKTtcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGhlYWQpO1xuICAgICAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICAgICAgICAgIGZvciAobGV0IHQgb2YgW1wiVGlja2VyXCIsIFwiQWdlXCIsIFwiQ29uZGl0aW9uXCJdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xuICAgICAgICAgICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHQ7XG4gICAgICAgICAgICAgICAgaGVhZGVyLnN0eWxlLnBhZGRpbmdUb3AgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBoci5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzaXRlRGF0YVtcImJ1aWxkaW5nc1wiXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpdGVEYXRhW1wiYnVpbGRpbmdzXCJdLnNvcnQoYnVpbGRpbmdTb3J0KTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChib2R5KTtcbiAgICAgICAgICAgIGdlbmVyYXRlUmVwYWlyU2NyZWVuKGJvZHksIG1hdERpdiwgc2l0ZURhdGEsIHRocmVzaG9sZElucHV0KTtcbiAgICAgICAgICAgIHRocmVzaG9sZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJDaGlsZHJlbihib2R5KTtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVJlcGFpclNjcmVlbihib2R5LCBtYXREaXYsIHNpdGVEYXRhLCB0aHJlc2hvbGRJbnB1dCk7XG4gICAgICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicmVwYWlyX3RocmVzaG9sZFwiXSA9IHRocmVzaG9sZElucHV0LnZhbHVlIHx8IFwiNzBcIjtcbiAgICAgICAgICAgICAgICBzZXRTZXR0aW5ncyhwbW1nU2V0dGluZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVfYnVmZmVyKCkge1xuICAgIH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHtcbiAgICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVJlcGFpclNjcmVlbihib2R5LCBtYXREaXYsIHNpdGVEYXRhLCB0aHJlc2hvbGRJbnB1dCkge1xuICAgIGNvbnN0IG1hdGVyaWFscyA9IHt9O1xuICAgIHNpdGVEYXRhW1wiYnVpbGRpbmdzXCJdLmZvckVhY2goYnVpbGRpbmcgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgaWYgKE5vblByb2R1Y3Rpb25CdWlsZGluZ3MuaW5jbHVkZXMoYnVpbGRpbmdbXCJidWlsZGluZ1RpY2tlclwiXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRlID0gKCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gYnVpbGRpbmcubGFzdFJlcGFpcikgLyA4NjQwMDAwMCk7XG4gICAgICAgIGlmIChkYXRlIDwgcGFyc2VGbG9hdCh0aHJlc2hvbGRJbnB1dC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBidWlsZGluZy5yZXBhaXJNYXRlcmlhbHMuZm9yRWFjaChtYXQgPT4ge1xuICAgICAgICAgICAgaWYgKG1hdGVyaWFsc1ttYXQubWF0ZXJpYWwudGlja2VyXSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbHNbbWF0Lm1hdGVyaWFsLnRpY2tlcl0gPSBtYXQuYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxzW21hdC5tYXRlcmlhbC50aWNrZXJdICs9IG1hdC5hbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcm93RGF0YSA9IFtidWlsZGluZ1tcImJ1aWxkaW5nVGlja2VyXCJdLCBkYXRlLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEgfSksIChidWlsZGluZ1tcImNvbmRpdGlvblwiXSAqIDEwMCkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMSB9KSArIFwiJVwiXTtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2Ygcm93RGF0YSkge1xuICAgICAgICAgICAgY29uc3QgdGFibGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRhYmxlRWxlbSk7XG4gICAgICAgICAgICB0YWJsZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4ocG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgY2xlYXJDaGlsZHJlbihtYXREaXYpO1xuICAgIG1hdERpdi5zdHlsZS5tYXhXaWR0aCA9IFwiMjAwcHhcIjtcbiAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICBtYXREaXYuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgIGNvbnN0IGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XG4gICAgY29uc3QgaHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChocik7XG4gICAgdGFibGUuYXBwZW5kQ2hpbGQoaGVhZCk7XG4gICAgZm9yIChsZXQgdCBvZiBbXCJNYXRlcmlhbFwiLCBcIkFtb3VudFwiXSkge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHQ7XG4gICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG4gICAgICAgIGhyLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgfVxuICAgIGNvbnN0IG1ib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xuICAgIHRhYmxlLmFwcGVuZENoaWxkKG1ib2R5KTtcbiAgICBPYmplY3Qua2V5cyhtYXRlcmlhbHMpLnNvcnQoKS5mb3JFYWNoKG1hdCA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgbWJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgdmFyIHJvd0RhdGEgPSBbbWF0LCBtYXRlcmlhbHNbbWF0XS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQpXTtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2Ygcm93RGF0YSkge1xuICAgICAgICAgICAgY29uc3QgdGFibGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRhYmxlRWxlbSk7XG4gICAgICAgICAgICB0YWJsZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4ocG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcmV0dXJuO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVHZW5lcmFsUmVwYWlyU2NyZWVuKGJvZHksIG1hdERpdiwgYnVpbGRpbmdzLCB0aHJlc2hvbGRJbnB1dCkge1xuICAgIGNvbnN0IE5vblByb2R1Y3Rpb25CdWlsZGluZ3MgPSBbXCJDTVwiLCBcIkhCMVwiLCBcIkhCMlwiLCBcIkhCM1wiLCBcIkhCNFwiLCBcIkhCNVwiLCBcIkhCQlwiLCBcIkhCQ1wiLCBcIkhCTFwiLCBcIkhCTVwiLCBcIlNUT1wiXTtcbiAgICBjb25zdCBtYXRlcmlhbHMgPSB7fTtcbiAgICBidWlsZGluZ3MuZm9yRWFjaChidWlsZGluZyA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICBpZiAoTm9uUHJvZHVjdGlvbkJ1aWxkaW5ncy5pbmNsdWRlcyhidWlsZGluZ1sxXVtcImJ1aWxkaW5nVGlja2VyXCJdKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGUgPSAoKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSBidWlsZGluZ1sxXS5sYXN0UmVwYWlyKSAvIDg2NDAwMDAwKTtcbiAgICAgICAgaWYgKGRhdGUgPCBwYXJzZUZsb2F0KHRocmVzaG9sZElucHV0LnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkaW5nWzFdLnJlcGFpck1hdGVyaWFscy5mb3JFYWNoKG1hdCA9PiB7XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWxzW21hdC5tYXRlcmlhbC50aWNrZXJdID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsc1ttYXQubWF0ZXJpYWwudGlja2VyXSA9IG1hdC5hbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbHNbbWF0Lm1hdGVyaWFsLnRpY2tlcl0gKz0gbWF0LmFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByb3dEYXRhID0gW2J1aWxkaW5nWzFdW1wiYnVpbGRpbmdUaWNrZXJcIl0sIGJ1aWxkaW5nWzBdLCBkYXRlLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEgfSksIChidWlsZGluZ1sxXVtcImNvbmRpdGlvblwiXSAqIDEwMCkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMSB9KSArIFwiJVwiXTtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2Ygcm93RGF0YSkge1xuICAgICAgICAgICAgY29uc3QgdGFibGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRhYmxlRWxlbSk7XG4gICAgICAgICAgICB0YWJsZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4ocG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgY2xlYXJDaGlsZHJlbihtYXREaXYpO1xuICAgIG1hdERpdi5zdHlsZS5tYXhXaWR0aCA9IFwiMjAwcHhcIjtcbiAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICBtYXREaXYuYXBwZW5kQ2hpbGQodGFibGUpO1xuICAgIGNvbnN0IGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XG4gICAgY29uc3QgaHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChocik7XG4gICAgdGFibGUuYXBwZW5kQ2hpbGQoaGVhZCk7XG4gICAgZm9yIChsZXQgdCBvZiBbXCJNYXRlcmlhbFwiLCBcIkFtb3VudFwiXSkge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHQ7XG4gICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG4gICAgICAgIGhyLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgfVxuICAgIGNvbnN0IG1ib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xuICAgIHRhYmxlLmFwcGVuZENoaWxkKG1ib2R5KTtcbiAgICBPYmplY3Qua2V5cyhtYXRlcmlhbHMpLnNvcnQoKS5mb3JFYWNoKG1hdCA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgbWJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgdmFyIHJvd0RhdGEgPSBbbWF0LCBtYXRlcmlhbHNbbWF0XS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQpXTtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2Ygcm93RGF0YSkge1xuICAgICAgICAgICAgY29uc3QgdGFibGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRhYmxlRWxlbSk7XG4gICAgICAgICAgICB0YWJsZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4ocG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcmV0dXJuO1xufVxuZnVuY3Rpb24gYnVpbGRpbmdTb3J0KGEsIGIpIHtcbiAgICByZXR1cm4gYVtcImNvbmRpdGlvblwiXSA+IGJbXCJjb25kaXRpb25cIl0gPyAxIDogLTE7XG59XG5mdW5jdGlvbiBnbG9iYWxCdWlsZGluZ1NvcnQoYSwgYikge1xuICAgIHJldHVybiBhWzFdW1wiY29uZGl0aW9uXCJdID4gYlsxXVtcImNvbmRpdGlvblwiXSA/IDEgOiAtMTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL1hJVC9SZXBhaXJzLnRzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBjbGVhckNoaWxkcmVuLCBjcmVhdGVUZXh0U3BhbiwgZG93bmxvYWRGaWxlLCBjcmVhdGVTZWxlY3RPcHRpb24sIHNldFNldHRpbmdzLCBnZXRMb2NhbFN0b3JhZ2UsIGNyZWF0ZVRvb2xUaXAgfSBmcm9tIFwiLi4vdXRpbFwiO1xuaW1wb3J0IHsgU3R5bGUsIFdpdGhTdHlsZXMgfSBmcm9tIFwiLi4vU3R5bGVcIjtcbmV4cG9ydCBjbGFzcyBTZXR0aW5ncyB7XG4gICAgY29uc3RydWN0b3IodGlsZSwgcGFyYW1ldGVycywgcG1tZ1NldHRpbmdzLCB1c2VySW5mbywgd2ViRGF0YSwgbW9kdWxlcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlBNTUcgU0VUVElOR1NcIjtcbiAgICAgICAgdGhpcy50aWxlID0gdGlsZTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICAgICAgdGhpcy5wbW1nU2V0dGluZ3MgPSBwbW1nU2V0dGluZ3M7XG4gICAgICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbztcbiAgICAgICAgdGhpcy53ZWJEYXRhID0gd2ViRGF0YTtcbiAgICAgICAgdGhpcy5tb2R1bGVzID0gbW9kdWxlcztcbiAgICB9XG4gICAgY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMudGlsZTtcbiAgICAgICAgY29uc3QgcG1tZ1NldHRpbmdzID0gdGhpcy5wbW1nU2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IG1vZHVsZXMgPSB0aGlzLm1vZHVsZXM7XG4gICAgICAgIGNsZWFyQ2hpbGRyZW4odGlsZSk7XG4gICAgICAgIGNvbnN0IHdhcm5pbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKHdhcm5pbmdEaXYpO1xuICAgICAgICB3YXJuaW5nRGl2LnN0eWxlLm1hcmdpblRvcCA9IFwiNHB4XCI7XG4gICAgICAgIHdhcm5pbmdEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJDaGFuZ2VzIHJlcXVpcmUgYSByZWZyZXNoIHRvIHRha2UgZWZmZWN0LlwiKSk7XG4gICAgICAgIGNvbnN0IGhlbHBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGhlbHBEaXYpO1xuICAgICAgICBoZWxwRGl2LnN0eWxlLm1hcmdpblRvcCA9IFwiNHB4XCI7XG4gICAgICAgIGhlbHBEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJTZWUgYSBmdWxsIGxpc3Qgb2YgZmVhdHVyZXMgb24gXCIpKTtcbiAgICAgICAgY29uc3Qgd2Vic2l0ZUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgd2Vic2l0ZUxpbmsuaHJlZiA9IFwiaHR0cHM6Ly9zaXRlcy5nb29nbGUuY29tL3ZpZXcvcG1tZ2V4dGVuZGVkL2ZlYXR1cmVzP2F1dGh1c2VyPTBcIjtcbiAgICAgICAgd2Vic2l0ZUxpbmsudGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAgICAgd2Vic2l0ZUxpbmsuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIHdlYnNpdGVMaW5rLmNsYXNzTGlzdC5hZGQoXCJsaW5rXCIpO1xuICAgICAgICB3ZWJzaXRlTGluay50ZXh0Q29udGVudCA9IFwiUE1NRydzIFdlYnNpdGVcIjtcbiAgICAgICAgaGVscERpdi5hcHBlbmRDaGlsZCh3ZWJzaXRlTGluayk7XG4gICAgICAgIGNvbnN0IGVuaGFuY2VkQ29sb3JIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBlbmhhbmNlZENvbG9ySGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQ29sb3IgU2NoZW1lXCIpKTtcbiAgICAgICAgZW5oYW5jZWRDb2xvckhlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKFwiU2VsZWN0IGEgY29sb3Igc2NoZW1lIHRvIGN1c3RvbWl6ZSBtYXRlcmlhbCBpY29ucy5cIiwgXCJyaWdodFwiKSk7XG4gICAgICAgIGVuaGFuY2VkQ29sb3JIZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGVuaGFuY2VkQ29sb3JIZWFkZXIpO1xuICAgICAgICBjb25zdCBjb2xvckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IGNvbG9yTGFiZWwgPSBjcmVhdGVUZXh0U3BhbihcIkNvbG9yIFNjaGVtZTpcIik7XG4gICAgICAgIGNvbG9yTGFiZWwuc3R5bGUubWFyZ2luQm90dG9tID0gXCI0cHhcIjtcbiAgICAgICAgY29sb3JEaXYuYXBwZW5kQ2hpbGQoY29sb3JMYWJlbCk7XG4gICAgICAgIGNvbnN0IGNvbG9yU2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcbiAgICAgICAgY29sb3JTZWxlY3QubmFtZSA9IFwiY29sb3JzLXNlbGVjdFwiO1xuICAgICAgICBjb2xvclNlbGVjdC5pZCA9IFwiY29sb3JzLXNlbGVjdFwiO1xuICAgICAgICBjb2xvclNlbGVjdC5hcHBlbmRDaGlsZChjcmVhdGVTZWxlY3RPcHRpb24oXCJFbmhhbmNlZFwiLCBcImVuaGFuY2VkXCIpKTtcbiAgICAgICAgY29sb3JTZWxlY3QuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZWN0T3B0aW9uKFwiSWNvbnNcIiwgXCJpY29uc1wiKSk7XG4gICAgICAgIGNvbG9yU2VsZWN0LmFwcGVuZENoaWxkKGNyZWF0ZVNlbGVjdE9wdGlvbihcIkRlZmF1bHRcIiwgXCJkZWZhdWx0XCIpKTtcbiAgICAgICAgY29sb3JTZWxlY3QuY2xhc3NMaXN0LmFkZChcInNlbGVjdFwiKTtcbiAgICAgICAgY29sb3JTZWxlY3Quc3R5bGUubWFyZ2luTGVmdCA9IFwiNHB4XCI7XG4gICAgICAgIGlmIChwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJjb2xvcl9zY2hlbWVcIl0gPT0gXCJlbmhhbmNlZFwiIHx8ICFwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJjb2xvcl9zY2hlbWVcIl0pIHtcbiAgICAgICAgICAgIGNvbG9yU2VsZWN0LmNoaWxkcmVuWzBdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJjb2xvcl9zY2hlbWVcIl0gPT0gXCJpY29uc1wiKSB7XG4gICAgICAgICAgICBjb2xvclNlbGVjdC5jaGlsZHJlblsxXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2xvclNlbGVjdC5jaGlsZHJlblsyXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29sb3JTZWxlY3Quc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIGNvbG9yU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiY29sb3Jfc2NoZW1lXCJdID0gY29sb3JTZWxlY3Quc2VsZWN0ZWRPcHRpb25zWzBdLnZhbHVlIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xvckRpdi5hcHBlbmRDaGlsZChjb2xvclNlbGVjdCk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY29sb3JEaXYpO1xuICAgICAgICBjb25zdCBmaW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBmaW5MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgIGZpbkxhYmVsLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKFwiRW5hYmxlIEZpbmFuY2lhbCBSZWNvcmRpbmdcIikpO1xuICAgICAgICBmaW5MYWJlbC5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKFwiUmVjb3JkIGZpbmFuY2lhbCBpbmZvIGRhaWx5LiBPcGVuIFhJVCBGSU4gZm9yIG1vcmUgaW5mby5cIiwgXCJyaWdodFwiKSk7XG4gICAgICAgIGZpbkxhYmVsLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgZmluTGFiZWwuc3R5bGUubWFyZ2luQm90dG9tID0gXCI0cHhcIjtcbiAgICAgICAgZmluRGl2LmFwcGVuZENoaWxkKGZpbkxhYmVsKTtcbiAgICAgICAgY29uc3QgZmluQ2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGZpbkNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIGZpbkNoZWNrYm94LmNoZWNrZWQgPSBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJyZWNvcmRpbmdfZmluYW5jaWFsc1wiXSA9PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgZmluRGl2LmFwcGVuZENoaWxkKGZpbkNoZWNrYm94KTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChmaW5EaXYpO1xuICAgICAgICBmaW5DaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wicmVjb3JkaW5nX2ZpbmFuY2lhbHNcIl0gPSBmaW5DaGVja2JveC5jaGVja2VkO1xuICAgICAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1pbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IG1pbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgbWluTGFiZWwuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJNaW5pbWl6ZSBIZWFkZXJzIGJ5IERlZmF1bHRcIikpO1xuICAgICAgICBtaW5MYWJlbC5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKFwiTWluaW1pemVkIGNvbnRyYWN0IGFuZCBDWCBoZWFkZXJzIGJ5IGRlZmF1bHQuXCIsIFwicmlnaHRcIikpO1xuICAgICAgICBtaW5MYWJlbC5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLlNpZGViYXJTZWN0aW9uSGVhZCk7XG4gICAgICAgIG1pbkxhYmVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiNHB4XCI7XG4gICAgICAgIG1pbkRpdi5hcHBlbmRDaGlsZChtaW5MYWJlbCk7XG4gICAgICAgIGNvbnN0IG1pbkNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBtaW5DaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICBtaW5DaGVja2JveC5jaGVja2VkID0gcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wibWluaW1pemVfYnlfZGVmYXVsdFwiXTtcbiAgICAgICAgbWluRGl2LmFwcGVuZENoaWxkKG1pbkNoZWNrYm94KTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChtaW5EaXYpO1xuICAgICAgICBtaW5DaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wibWluaW1pemVfYnlfZGVmYXVsdFwiXSA9IG1pbkNoZWNrYm94LmNoZWNrZWQ7XG4gICAgICAgICAgICBzZXRTZXR0aW5ncyhwbW1nU2V0dGluZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYWR2RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgYWR2TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBhZHZMYWJlbC5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIkFkdmFuY2VkIE1pbmltYWxpc3QgTW9kZVwiKSk7XG4gICAgICAgIGFkdkxhYmVsLmFwcGVuZENoaWxkKGNyZWF0ZVRvb2xUaXAoXCJSZW1vdmVzIHJlZHVuZGFudCBpbmZvcm1hdGlvbiBmcm9tIG1vc3QgYnVmZmVycy4gTm90IHJlY29tbWVuZGVkIGZvciBwbGF5ZXJzIHVuZmFtaWxpYXIgd2l0aCB0aGUgaW50ZXJmYWNlLlwiLCBcInJpZ2h0XCIpKTtcbiAgICAgICAgYWR2TGFiZWwuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICBhZHZMYWJlbC5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjRweFwiO1xuICAgICAgICBhZHZEaXYuYXBwZW5kQ2hpbGQoYWR2TGFiZWwpO1xuICAgICAgICBjb25zdCBhZHZDaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgYWR2Q2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgYWR2Q2hlY2tib3guY2hlY2tlZCA9IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImFkdmFuY2VkX21vZGVcIl07XG4gICAgICAgIGFkdkRpdi5hcHBlbmRDaGlsZChhZHZDaGVja2JveCk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoYWR2RGl2KTtcbiAgICAgICAgYWR2Q2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImFkdmFuY2VkX21vZGVcIl0gPSBhZHZDaGVja2JveC5jaGVja2VkO1xuICAgICAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJ1cm5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBidXJuTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBidXJuTGFiZWwuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJCdXJuIFNldHRpbmdzXCIpKTtcbiAgICAgICAgYnVybkxhYmVsLmFwcGVuZENoaWxkKGNyZWF0ZVRvb2xUaXAoXCJTZXQgdGhlIHRocmVzaG9sZHMgZm9yIHllbGxvdyBhbmQgcmVkIGNvbnN1bWFibGUgbGV2ZWxzIGluIGJ1cm4gdGlsZXMgKGluIGRheXMpLlwiLCBcInJpZ2h0XCIpKTtcbiAgICAgICAgYnVybkxhYmVsLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgYnVybkxhYmVsLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiNHB4XCI7XG4gICAgICAgIGJ1cm5EaXYuYXBwZW5kQ2hpbGQoYnVybkxhYmVsKTtcbiAgICAgICAgaWYgKCFwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX3RocmVzaG9sZHNcIl0pIHtcbiAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImJ1cm5fdGhyZXNob2xkc1wiXSA9IFszLCA3XTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBidXJuRGl2LmFwcGVuZENoaWxkKHNldERpdik7XG4gICAgICAgIHNldERpdi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIGNvbnN0IHJlZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNldERpdi5hcHBlbmRDaGlsZChyZWREaXYpO1xuICAgICAgICByZWREaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJSZWQgVGhyZXNob2xkOiBcIikpO1xuICAgICAgICBjb25zdCByZWRJbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgcmVkSW4udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgIHJlZEluLnZhbHVlID0gKHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImJ1cm5fdGhyZXNob2xkc1wiXSB8fCBbM10pWzBdLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAgfSk7XG4gICAgICAgIHJlZERpdi5hcHBlbmRDaGlsZChyZWRJbik7XG4gICAgICAgIHJlZEluLmNsYXNzTGlzdC5hZGQoXCJpbnB1dC10ZXh0XCIpO1xuICAgICAgICByZWRJbi5zdHlsZS53aWR0aCA9IFwiNTBweFwiO1xuICAgICAgICByZWRJbi5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl90aHJlc2hvbGRzXCJdWzBdID0gcGFyc2VGbG9hdChyZWRJbi52YWx1ZSk7XG4gICAgICAgICAgICBzZXRTZXR0aW5ncyhwbW1nU2V0dGluZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeWVsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2V0RGl2LmFwcGVuZENoaWxkKHllbERpdik7XG4gICAgICAgIHllbERpdi5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIlllbGxvdyBUaHJlc2hvbGQ6IFwiKSk7XG4gICAgICAgIGNvbnN0IHllbEluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICB5ZWxJbi50eXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgeWVsSW4udmFsdWUgPSAocG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYnVybl90aHJlc2hvbGRzXCJdIHx8IFszLCA3XSlbMV0udG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMCB9KTtcbiAgICAgICAgeWVsRGl2LmFwcGVuZENoaWxkKHllbEluKTtcbiAgICAgICAgeWVsSW4uY2xhc3NMaXN0LmFkZChcImlucHV0LXRleHRcIik7XG4gICAgICAgIHllbEluLnN0eWxlLndpZHRoID0gXCI1MHB4XCI7XG4gICAgICAgIHllbEluLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJidXJuX3RocmVzaG9sZHNcIl1bMV0gPSBwYXJzZUZsb2F0KHllbEluLnZhbHVlKTtcbiAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGJ1cm5EaXYpO1xuICAgICAgICBjb25zdCBob3RrZXlIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBob3RrZXlIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJMZWZ0IFNpZGViYXIgQnV0dG9uc1wiKSk7XG4gICAgICAgIGhvdGtleUhlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKFwiQ3JlYXRlIGhvdGtleXMgb24gdGhlIGxlZnQgc2lkZWJhci4gVGhlIGZpcnN0IHZhbHVlIGlzIHdoYXQgd2lsbCBiZSBkaXNwbGF5ZWQsIHRoZSBzZWNvbmQgaXMgdGhlIGNvbW1hbmQuXCIsIFwicmlnaHRcIikpO1xuICAgICAgICBob3RrZXlIZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGhvdGtleUhlYWRlcik7XG4gICAgICAgIGNvbnN0IGhvdGtleUlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChob3RrZXlJbnB1dERpdik7XG4gICAgICAgIGlmICghcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wic2lkZWJhclwiXSkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wic2lkZWJhclwiXSA9IFtbXCJCU1wiLCBcIkJTXCJdLCBbXCJDT05UXCIsIFwiQ09OVFNcIl0sIFtcIkNPTVwiLCBcIkNPTVwiXSwgW1wiQ09SUFwiLCBcIkNPUlBcIl0sIFtcIkNYTFwiLCBcIkNYTFwiXSwgW1wiRklOXCIsIFwiRklOXCJdLCBbXCJGTFRcIiwgXCJGTFRcIl0sIFtcIklOVlwiLCBcIklOVlwiXSwgW1wiTUFQXCIsIFwiTUFQXCJdLCBbXCJQUk9EXCIsIFwiUFJPRFwiXSwgW1wiQ01EU1wiLCBcIkNNRFNcIl0sIFtcIlNFVFwiLCBcIlhJVCBTRVRUSU5HU1wiXV07XG4gICAgICAgIH1cbiAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wic2lkZWJhclwiXS5mb3JFYWNoKGhvdGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkaXYgPSBjcmVhdGVJbnB1dFBhaXIoaG90a2V5LCBwbW1nU2V0dGluZ3MsIGhvdGtleUlucHV0RGl2KTtcbiAgICAgICAgICAgIGlmIChkaXYgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGhvdGtleUlucHV0RGl2LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhZGRCdXR0b24gPSBtYWtlUHVzaEJ1dHRvbihcIitcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgZGl2ID0gY3JlYXRlSW5wdXRQYWlyKFtbXSwgW11dLCBwbW1nU2V0dGluZ3MsIGhvdGtleUlucHV0RGl2KTtcbiAgICAgICAgICAgIGlmIChkaXYgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGhvdGtleUlucHV0RGl2LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFN0eWxlLkJ1dHRvblN1Y2Nlc3MpO1xuICAgICAgICBhZGRCdXR0b24uc3R5bGUubWFyZ2luTGVmdCA9IFwiNHB4XCI7XG4gICAgICAgIGFkZEJ1dHRvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjRweFwiO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGFkZEJ1dHRvbik7XG4gICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0aW9uSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgYXV0aGVudGljYXRpb25IZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJBdXRoZW50aWNhdGlvbiBTZXR0aW5nc1wiKSk7XG4gICAgICAgIGF1dGhlbnRpY2F0aW9uSGVhZGVyLmFwcGVuZENoaWxkKGNyZWF0ZVRvb2xUaXAoXCJFbnRlciB5b3VyIEZJTyB1c2VybmFtZSBhbmQgQVBJIGtleVwiLCBcInJpZ2h0XCIpKTtcbiAgICAgICAgYXV0aGVudGljYXRpb25IZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGF1dGhlbnRpY2F0aW9uSGVhZGVyKTtcbiAgICAgICAgY29uc3QgdXNlcm5hbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCB1c2VybmFtZUxhYmVsID0gY3JlYXRlVGV4dFNwYW4oXCJGSU8gVXNlcm5hbWU6IFwiKTtcbiAgICAgICAgY29uc3QgdXNlcm5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgdXNlcm5hbWVJbnB1dC52YWx1ZSA9IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInVzZXJuYW1lXCJdIHx8IFwiXCI7XG4gICAgICAgIHVzZXJuYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInVzZXJuYW1lXCJdID0gIXVzZXJuYW1lSW5wdXQudmFsdWUgfHwgdXNlcm5hbWVJbnB1dC52YWx1ZSA9PSBcIlwiID8gdW5kZWZpbmVkIDogdXNlcm5hbWVJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICB1c2VybmFtZUlucHV0LmNsYXNzTGlzdC5hZGQoXCJpbnB1dC10ZXh0XCIpO1xuICAgICAgICB1c2VybmFtZURpdi5hcHBlbmRDaGlsZCh1c2VybmFtZUxhYmVsKTtcbiAgICAgICAgdXNlcm5hbWVEaXYuYXBwZW5kQ2hpbGQodXNlcm5hbWVJbnB1dCk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQodXNlcm5hbWVEaXYpO1xuICAgICAgICBjb25zdCBhcGlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBhcGlMYWJlbCA9IGNyZWF0ZVRleHRTcGFuKFwiRklPIEFQSSBLZXk6IFwiKTtcbiAgICAgICAgYXBpTGFiZWwuc3R5bGUubWluV2lkdGggPSBcIjc3cHhcIjtcbiAgICAgICAgYXBpTGFiZWwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIGNvbnN0IGFwaUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBhcGlJbnB1dC52YWx1ZSA9IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImFwaWtleVwiXSB8fCBcIlwiO1xuICAgICAgICBhcGlJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiYXBpa2V5XCJdID0gIWFwaUlucHV0LnZhbHVlIHx8IGFwaUlucHV0LnZhbHVlID09IFwiXCIgPyB1bmRlZmluZWQgOiBhcGlJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcGlJbnB1dC5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtdGV4dFwiKTtcbiAgICAgICAgYXBpSW5wdXQudHlwZSA9IFwicGFzc3dvcmRcIjtcbiAgICAgICAgYXBpRGl2LmFwcGVuZENoaWxkKGFwaUxhYmVsKTtcbiAgICAgICAgYXBpRGl2LmFwcGVuZENoaWxkKGFwaUlucHV0KTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChhcGlEaXYpO1xuICAgICAgICBjb25zdCBzY3JlZW5VbnBhY2tIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICBzY3JlZW5VbnBhY2tIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJTY3JlZW4gVW5wYWNrIEV4Y2x1c2lvbnNcIikpO1xuICAgICAgICBzY3JlZW5VbnBhY2tIZWFkZXIuYXBwZW5kQ2hpbGQoY3JlYXRlVG9vbFRpcChcIkxpc3Qgc2NyZWVucyB0byBiZSBleGNsdWRlZCBmcm9tIHNjcmVlbiB1bnBhY2suIFNlcGFyYXRlIHNjcmVlbnMgd2l0aCBhIGNvbW1hLlwiLCBcInJpZ2h0XCIpKTtcbiAgICAgICAgc2NyZWVuVW5wYWNrSGVhZGVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChzY3JlZW5VbnBhY2tIZWFkZXIpO1xuICAgICAgICBjb25zdCBub3RpZkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQobm90aWZEaXYpO1xuICAgICAgICBub3RpZkRpdi5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIkxpc3Qgc2NyZWVuIG5hbWVzIHNlcGFyYXRlZCBieSBjb21tYXMsIG5vIHNwYWNlcy5cIikpO1xuICAgICAgICBjb25zdCBleGNsdXNpb25JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgZXhjbHVzaW9uSW5wdXQuY2xhc3NMaXN0LmFkZChcImlucHV0LXRleHRcIik7XG4gICAgICAgIGV4Y2x1c2lvbklucHV0LnZhbHVlID0gcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1widW5wYWNrX2V4Y2VwdGlvbnNcIl0gPT0gdW5kZWZpbmVkID8gXCJcIiA6IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInVucGFja19leGNlcHRpb25zXCJdLmpvaW4oXCIsXCIpO1xuICAgICAgICBleGNsdXNpb25JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1widW5wYWNrX2V4Y2VwdGlvbnNcIl0gPSBleGNsdXNpb25JbnB1dC52YWx1ZS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICBzZXRTZXR0aW5ncyhwbW1nU2V0dGluZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChleGNsdXNpb25JbnB1dCk7XG4gICAgICAgIGNvbnN0IG1vZHVsZVNldHRpbmdzSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgbW9kdWxlU2V0dGluZ3NIZWFkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJUb2dnbGUgRmVhdHVyZXNcIikpO1xuICAgICAgICBtb2R1bGVTZXR0aW5nc0hlYWRlci5hcHBlbmRDaGlsZChjcmVhdGVUb29sVGlwKFwiVG9nZ2xlIGZlYXR1cmVzIG9uIGFuZCBvZmYuIFRoZSB5ZWxsb3cgWCBjbGVhbnMgdXAgYW55IHN0cmF5IGVsZW1lbnRzLlwiLCBcInJpZ2h0XCIpKTtcbiAgICAgICAgbW9kdWxlU2V0dGluZ3NIZWFkZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKG1vZHVsZVNldHRpbmdzSGVhZGVyKTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkNvbnRlbnQpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICBtb2R1bGVzLmZvckVhY2gobXAgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbGluZS5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuU2lkZWJhckxpbmUsIFN0eWxlLkZvbnRzUmVndWxhcikpO1xuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChsaW5lKTtcbiAgICAgICAgICAgIGxpbmUuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4obXAuZnJpZW5kbHlOYW1lKSk7XG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGxpbmUpO1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIHJpZ2h0LnN0eWxlLmZsZXhHcm93ID0gXCIxXCI7XG4gICAgICAgICAgICByaWdodC5zdHlsZS50ZXh0QWxpZ24gPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICBsaW5lLmFwcGVuZENoaWxkKHJpZ2h0KTtcbiAgICAgICAgICAgIGlmIChwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJkaXNhYmxlZFwiXSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJkaXNhYmxlZFwiXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdG9nZ2xlID0gbWFrZVRvZ2dsZUJ1dHRvbihcIk9uXCIsIFwiT2ZmXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBtcC5lbmFibGVkID0gIW1wLmVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImRpc2FibGVkXCJdLmluY2x1ZGVzKG1wLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtcC5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImRpc2FibGVkXCJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImRpc2FibGVkXCJdW2ldID09IG1wLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wiZGlzYWJsZWRcIl0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1wLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImRpc2FibGVkXCJdLnB1c2gobXAubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICAgICAgICAgIH0sIG1wLmVuYWJsZWQpO1xuICAgICAgICAgICAgaWYgKHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcImRpc2FibGVkXCJdLmluY2x1ZGVzKG1wLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLnNldEF0dHJpYnV0ZShcImRhdGEtc3RhdGVcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICAgICAgICBtcC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoLi4uU3R5bGUuQnV0dG9uU3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uUHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlLmlubmVyVGV4dCA9IFwiT2ZmXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByaWdodC5hcHBlbmRDaGlsZCh0b2dnbGUpO1xuICAgICAgICAgICAgY29uc3QgY2xlYW51cCA9IG1ha2VQdXNoQnV0dG9uKFwieFwiLCAoKSA9PiBtcC5tb2R1bGUuY2xlYW51cCh0cnVlKSk7XG4gICAgICAgICAgICBjbGVhbnVwLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCI4cHhcIjtcbiAgICAgICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNsZWFudXApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW1wb3J0SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgaW1wb3J0SGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiSW1wb3J0L0V4cG9ydCBTZXR0aW5nc1wiKSk7XG4gICAgICAgIGltcG9ydEhlYWRlci5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLlNpZGViYXJTZWN0aW9uSGVhZCk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoaW1wb3J0SGVhZGVyKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChjcmVhdGVJbXBvcnRFeHBvcnRCdXR0b24oXCJTZXR0aW5nc1wiLCBmdW5jdGlvbiAoZSwgZXJyb3JUZXh0Qm94KSB7XG4gICAgICAgICAgICBpZiAoIWUgfHwgIWUudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlT3V0cHV0ID0gSlNPTi5wYXJzZShlLnRhcmdldC5wbW1nU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2x1ZGUgPSBbXCJ1c2VybmFtZVwiLCBcImFwaWtleVwiLCBcIndlYmFwcGlkXCJdO1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbGVPdXRwdXQpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleGNsdWRlLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtrZXldID0gZmlsZU91dHB1dFtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICAgICAgICAgICAgICBlcnJvclRleHRCb3guc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBFcnJvciBlbmNvdW50ZXJlZCBwcm9jZXNzaW5nIGZpbGUhXCIpO1xuICAgICAgICAgICAgICAgIGVycm9yVGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgICAgICBjb25zdCBleGNsdWRlID0gW1widXNlcm5hbWVcIiwgXCJhcGlrZXlcIiwgXCJ3ZWJhcHBpZFwiXTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb3dubG9hZEZpbGUob3V0cHV0LCBcInBtbWctc2V0dGluZ3NcIiArIERhdGUubm93KCkudG9TdHJpbmcoKSArIFwiLmpzb25cIik7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChjcmVhdGVJbXBvcnRFeHBvcnRCdXR0b24oXCJOb3Rlc1wiLCBmdW5jdGlvbiAoZSwgZXJyb3JUZXh0Qm94KSB7XG4gICAgICAgICAgICBpZiAoIWUgfHwgIWUudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlT3V0cHV0ID0gSlNPTi5wYXJzZShlLnRhcmdldC5wbW1nU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIHNldFNldHRpbmdzKGZpbGVPdXRwdXQpO1xuICAgICAgICAgICAgICAgIGVycm9yVGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBNTUc6IEVycm9yIGVuY291bnRlcmVkIHByb2Nlc3NpbmcgZmlsZSFcIik7XG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0Qm94LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLU5vdGVzXCIsIGRvd25sb2FkRmlsZSwgXCJwbW1nLW5vdGVzXCIgKyBEYXRlLm5vdygpLnRvU3RyaW5nKCkgKyBcIi5qc29uXCIpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRpbGUuYXBwZW5kQ2hpbGQoY3JlYXRlSW1wb3J0RXhwb3J0QnV0dG9uKFwiTGlzdHNcIiwgZnVuY3Rpb24gKGUsIGVycm9yVGV4dEJveCkge1xuICAgICAgICAgICAgaWYgKCFlIHx8ICFlLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZU91dHB1dCA9IEpTT04ucGFyc2UoZS50YXJnZXQucG1tZ1NldHRpbmdzKTtcbiAgICAgICAgICAgICAgICBzZXRTZXR0aW5ncyhmaWxlT3V0cHV0KTtcbiAgICAgICAgICAgICAgICBlcnJvclRleHRCb3guc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBFcnJvciBlbmNvdW50ZXJlZCBwcm9jZXNzaW5nIGZpbGUhXCIpO1xuICAgICAgICAgICAgICAgIGVycm9yVGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ2V0TG9jYWxTdG9yYWdlKFwiUE1NRy1MaXN0c1wiLCBkb3dubG9hZEZpbGUsIFwicG1tZy1saXN0c1wiICsgRGF0ZS5ub3coKS50b1N0cmluZygpICsgXCIuanNvblwiKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGNyZWF0ZUltcG9ydEV4cG9ydEJ1dHRvbihcIkZpbmFuY2VzXCIsIGZ1bmN0aW9uIChlLCBlcnJvclRleHRCb3gpIHtcbiAgICAgICAgICAgIGlmICghZSB8fCAhZS50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVPdXRwdXQgPSBKU09OLnBhcnNlKGUudGFyZ2V0LnBtbWdTZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmluUmVzdWx0ID0ge307XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsZU91dHB1dCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmaW5SZXN1bHRba2V5XSA9IGZpbGVPdXRwdXRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNldFNldHRpbmdzKHsgXCJQTU1HLUZpbmFuY2VcIjogZmluUmVzdWx0IH0pO1xuICAgICAgICAgICAgICAgIGVycm9yVGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBNTUc6IEVycm9yIGVuY291bnRlcmVkIHByb2Nlc3NpbmcgZmlsZSFcIik7XG4gICAgICAgICAgICAgICAgZXJyb3JUZXh0Qm94LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLUZpbmFuY2VcIiwgcGFyc2VGaW5UaGVuRG93bmxvYWQpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlX2J1ZmZlcigpIHtcbiAgICB9XG4gICAgZGVzdHJveV9idWZmZXIoKSB7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VGaW5UaGVuRG93bmxvYWQocG1tZ1NldHRpbmdzKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgT2JqZWN0LmtleXMocG1tZ1NldHRpbmdzW1wiUE1NRy1GaW5hbmNlXCJdKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIG91dHB1dFtrZXldID0gcG1tZ1NldHRpbmdzW1wiUE1NRy1GaW5hbmNlXCJdW2tleV07XG4gICAgfSk7XG4gICAgZG93bmxvYWRGaWxlKG91dHB1dCwgXCJwbW1nLWZpbmFuY2VcIiArIERhdGUubm93KCkudG9TdHJpbmcoKSArIFwiLmpzb25cIik7XG4gICAgcmV0dXJuO1xufVxuZnVuY3Rpb24gY3JlYXRlSW1wb3J0RXhwb3J0QnV0dG9uKGxhYmVsLCBpbXBvcnRGdW5jdGlvbiwgZXhwb3J0RnVuY3Rpb24pIHtcbiAgICBjb25zdCBidXR0b25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IGltcG9ydEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgaW1wb3J0QnV0dG9uLnRleHRDb250ZW50ID0gXCJJbXBvcnQgXCIgKyBsYWJlbDtcbiAgICBpbXBvcnRCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgIGltcG9ydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvblByaW1hcnkpO1xuICAgIGltcG9ydEJ1dHRvbi5zdHlsZS5tYXJnaW5MZWZ0ID0gXCI0cHhcIjtcbiAgICBpbXBvcnRCdXR0b24uc3R5bGUubWFyZ2luQm90dG9tID0gXCI0cHhcIjtcbiAgICBidXR0b25EaXYuYXBwZW5kQ2hpbGQoaW1wb3J0QnV0dG9uKTtcbiAgICBjb25zdCBpbXBvcnRGaWxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgaW1wb3J0RmlsZUlucHV0LnR5cGUgPSBcImZpbGVcIjtcbiAgICBpbXBvcnRGaWxlSW5wdXQuYWNjZXB0ID0gXCIuanNvblwiO1xuICAgIGltcG9ydEZpbGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgYnV0dG9uRGl2LmFwcGVuZENoaWxkKGltcG9ydEZpbGVJbnB1dCk7XG4gICAgaW1wb3J0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGltcG9ydEZpbGVJbnB1dC5jbGljaygpO1xuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgY29uc3QgZXJyb3JUZXh0Qm94ID0gY3JlYXRlVGV4dFNwYW4oXCJFcnJvciBMb2FkaW5nIEZpbGUhXCIpO1xuICAgIGVycm9yVGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgYnV0dG9uRGl2LmFwcGVuZENoaWxkKGVycm9yVGV4dEJveCk7XG4gICAgaW1wb3J0RmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZmlsZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5maWxlc1swXTtcbiAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpbXBvcnRGdW5jdGlvbihlLCBlcnJvclRleHRCb3gpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICAgIGNvbnN0IGV4cG9ydEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZXhwb3J0QnV0dG9uLnRleHRDb250ZW50ID0gXCJFeHBvcnQgXCIgKyBsYWJlbDtcbiAgICBleHBvcnRCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgIGV4cG9ydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvblByaW1hcnkpO1xuICAgIGV4cG9ydEJ1dHRvbi5zdHlsZS5tYXJnaW5MZWZ0ID0gXCI0cHhcIjtcbiAgICBleHBvcnRCdXR0b24uc3R5bGUubWFyZ2luQm90dG9tID0gXCI0cHhcIjtcbiAgICBidXR0b25EaXYuYXBwZW5kQ2hpbGQoZXhwb3J0QnV0dG9uKTtcbiAgICBleHBvcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXhwb3J0RnVuY3Rpb24oKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYnV0dG9uRGl2O1xufVxuZnVuY3Rpb24gY3JlYXRlSW5wdXRQYWlyKGhvdGtleSwgcG1tZ1NldHRpbmdzLCBmdWxsRGl2KSB7XG4gICAgaWYgKGhvdGtleS5sZW5ndGggIT0gMikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBkaXNwbGF5ZWRWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBkaXNwbGF5ZWRWYWx1ZS5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtdGV4dFwiKTtcbiAgICBkaXNwbGF5ZWRWYWx1ZS5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoZGlzcGxheWVkVmFsdWUpO1xuICAgIGNvbnN0IGNvbW1hbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29tbWFuZC5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtdGV4dFwiKTtcbiAgICBjb21tYW5kLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGRpdi5hcHBlbmRDaGlsZChjb21tYW5kKTtcbiAgICBjb25zdCByZW1vdmUgPSBtYWtlUHVzaEJ1dHRvbihcIlhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkaXNwbGF5ZWRWYWx1ZS52YWx1ZSA9IFwiXCI7XG4gICAgICAgIGNvbW1hbmQudmFsdWUgPSBcIlwiO1xuICAgICAgICBkaXNwbGF5ZWRWYWx1ZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcbiAgICAgICAgQXJyYXkuZnJvbShkaXYuY2hpbGRyZW4pLmZvckVhY2goZWxlbSA9PiB7IGRpdi5yZW1vdmVDaGlsZChlbGVtKTsgcmV0dXJuOyB9KTtcbiAgICB9LCBTdHlsZS5CdXR0b25EYW5nZXIpO1xuICAgIHJlbW92ZS5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICBkaXYuYXBwZW5kQ2hpbGQocmVtb3ZlKTtcbiAgICBkaXNwbGF5ZWRWYWx1ZS52YWx1ZSA9IGhvdGtleVswXTtcbiAgICBjb21tYW5kLnZhbHVlID0gaG90a2V5WzFdO1xuICAgIGRpc3BsYXllZFZhbHVlLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBob3RrZXlzID0gW107XG4gICAgICAgIEFycmF5LmZyb20oZnVsbERpdi5jaGlsZHJlbikuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5jaGlsZHJlblswXSAhPSB1bmRlZmluZWQgJiYgb3B0aW9uLmNoaWxkcmVuWzFdICE9IHVuZGVmaW5lZCAmJiBvcHRpb24uY2hpbGRyZW5bMF0udmFsdWUgIT0gXCJcIiAmJiBvcHRpb24uY2hpbGRyZW5bMF0udmFsdWUgIT0gdW5kZWZpbmVkICYmIG9wdGlvbi5jaGlsZHJlblsxXS52YWx1ZSAhPSBcIlwiICYmIG9wdGlvbi5jaGlsZHJlblsxXS52YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBob3RrZXlzLnB1c2goW29wdGlvbi5jaGlsZHJlblswXS52YWx1ZSwgb3B0aW9uLmNoaWxkcmVuWzFdLnZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJzaWRlYmFyXCJdID0gaG90a2V5cztcbiAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICB9KTtcbiAgICBjb21tYW5kLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBob3RrZXlzID0gW107XG4gICAgICAgIEFycmF5LmZyb20oZnVsbERpdi5jaGlsZHJlbikuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5jaGlsZHJlblswXSAhPSB1bmRlZmluZWQgJiYgb3B0aW9uLmNoaWxkcmVuWzFdICE9IHVuZGVmaW5lZCAmJiBvcHRpb24uY2hpbGRyZW5bMF0udmFsdWUgIT0gXCJcIiAmJiBvcHRpb24uY2hpbGRyZW5bMF0udmFsdWUgIT0gdW5kZWZpbmVkICYmIG9wdGlvbi5jaGlsZHJlblsxXS52YWx1ZSAhPSBcIlwiICYmIG9wdGlvbi5jaGlsZHJlblsxXS52YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBob3RrZXlzLnB1c2goW29wdGlvbi5jaGlsZHJlblswXS52YWx1ZSwgb3B0aW9uLmNoaWxkcmVuWzFdLnZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJzaWRlYmFyXCJdID0gaG90a2V5cztcbiAgICAgICAgc2V0U2V0dGluZ3MocG1tZ1NldHRpbmdzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGl2O1xufVxuZnVuY3Rpb24gbWFrZVB1c2hCdXR0b24odGV4dCwgZiwgc3R5bGUgPSBTdHlsZS5CdXR0b25QcmltYXJ5KSB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uKTtcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCguLi5zdHlsZSk7XG4gICAgYnV0dG9uLm9uY2xpY2sgPSBmO1xuICAgIGJ1dHRvbi5pbm5lclRleHQgPSB0ZXh0O1xuICAgIHJldHVybiBidXR0b247XG59XG5mdW5jdGlvbiBtYWtlVG9nZ2xlQnV0dG9uKG9uLCBvZmYsIGYsIHN0YXRlID0gZmFsc2UpIHtcbiAgICBjb25zdCB0b2dnbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICB0b2dnbGUuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgIGNvbnN0IHNldExvb2sgPSAocykgPT4ge1xuICAgICAgICB0b2dnbGUuaW5uZXJUZXh0ID0gcyA/IG9uIDogb2ZmO1xuICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgdG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoLi4uU3R5bGUuQnV0dG9uUHJpbWFyeSk7XG4gICAgICAgICAgICB0b2dnbGUuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b25TdWNjZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKC4uLlN0eWxlLkJ1dHRvblN1Y2Nlc3MpO1xuICAgICAgICAgICAgdG9nZ2xlLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uUHJpbWFyeSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRvZ2dsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXRlXCIsIFN0cmluZyhzdGF0ZSkpO1xuICAgIHNldExvb2soc3RhdGUpO1xuICAgIHRvZ2dsZS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9ICEodG9nZ2xlLmdldEF0dHJpYnV0ZShcImRhdGEtc3RhdGVcIikgPT09IFwidHJ1ZVwiKTtcbiAgICAgICAgdG9nZ2xlLnNldEF0dHJpYnV0ZShcImRhdGEtc3RhdGVcIiwgU3RyaW5nKG5ld1N0YXRlKSk7XG4gICAgICAgIHNldExvb2sobmV3U3RhdGUpO1xuICAgICAgICBmKCk7XG4gICAgfTtcbiAgICB0b2dnbGUuc3R5bGUud2lkdGggPSBcIjQwcHhcIjtcbiAgICByZXR1cm4gdG9nZ2xlO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvWElUL1NldHRpbmdzLnRzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBjbGVhckNoaWxkcmVuLCBjcmVhdGVUZXh0U3Bhbiwgc2V0U2V0dGluZ3MsIG1ha2VQb3B1cFNwYWNlciwgY3JlYXRlUG9wdXBJbnB1dFJvdywgY3JlYXRlUG9wdXBDaGVja2JveFJvdywgZ2V0VmFsdWVPZlBvcHVwUm93LCBnZXRDaGVja09mUG9wdXBSb3csIGNyZWF0ZVNtYWxsQnV0dG9uIH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4uL1N0eWxlXCI7XG5leHBvcnQgY2xhc3MgU29ydCB7XG4gICAgY29uc3RydWN0b3IodGlsZSwgcGFyYW1ldGVycywgcG1tZ1NldHRpbmdzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiU09SVElORyBPUFRJT05TXCI7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMucG1tZ1NldHRpbmdzID0gcG1tZ1NldHRpbmdzO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjb25zdCB0aWxlID0gdGhpcy50aWxlO1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCBwbW1nU2V0dGluZ3MgPSB0aGlzLnBtbWdTZXR0aW5ncztcbiAgICAgICAgY29uc3Qgc29ydE9iaiA9IHRoaXM7XG4gICAgICAgIGNsZWFyQ2hpbGRyZW4odGlsZSk7XG4gICAgICAgIGlmICghcGFyYW1ldGVyc1sxXSkge1xuICAgICAgICAgICAgdGlsZS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihcIkFkZCBhIHBsYW5ldCBuYW1lIHRvIHRoZSBlbmQgb2YgdGhlIGNvbW1hbmQhXCIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInNvcnRpbmdcIl0pIHtcbiAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInNvcnRpbmdcIl0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcbiAgICAgICAgdGlsZS5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gICAgICAgIGNvbnN0IGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XG4gICAgICAgIGNvbnN0IGhlYWRSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoaGVhZFJvdyk7XG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGhlYWQpO1xuICAgICAgICBmb3IgKGxldCB0aXRsZSBvZiBbXCJBYmJyZXZpYXRpb25cIiwgXCJDYXRlZ29yaWVzXCIsIFwiTW9kaWZ5XCJdKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XG4gICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICAgICAgICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG4gICAgICAgICAgICBoZWFkUm93LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQoYm9keSk7XG4gICAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGFkZEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQWRkIE5ld1wiO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKGFkZEJ1dHRvbik7XG4gICAgICAgIGFkZEJ1dHRvbi5zdHlsZS5tYXJnaW5MZWZ0ID0gXCI1cHhcIjtcbiAgICAgICAgYWRkQnV0dG9uLnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbik7XG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvblN1Y2Nlc3MpO1xuICAgICAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNyZWF0ZUFkZEludGVyZmFjZShzb3J0T2JqLCB0aWxlLCBwbW1nU2V0dGluZ3MsIHBhcmFtZXRlcnMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlzU29ydGluZyA9IGZhbHNlO1xuICAgICAgICBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJzb3J0aW5nXCJdLmZvckVhY2goc2V0dGluZ3MgPT4ge1xuICAgICAgICAgICAgaWYgKCFzZXR0aW5nc1swXSB8fCAhc2V0dGluZ3NbMV0gfHwgIXNldHRpbmdzWzJdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNldHRpbmdzWzFdLnRvVXBwZXJDYXNlKCkgIT0gcGFyYW1ldGVyc1sxXS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNTb3J0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICBjb25zdCBjYXRDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICBjb25zdCBtb2RpZnlDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQobmFtZUNvbHVtbik7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2F0Q29sdW1uKTtcbiAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChtb2RpZnlDb2x1bW4pO1xuICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgbmFtZUNvbHVtbi5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihzZXR0aW5nc1swXSkpO1xuICAgICAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBcIlwiO1xuICAgICAgICAgICAgc2V0dGluZ3NbMl0uZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYXRlZ29yeVswXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgKz0gY2F0ZWdvcnlbMF0gKyBcIiwgXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXRlZ29yaWVzID0gY2F0ZWdvcmllcy5zbGljZSgwLCAtMik7XG4gICAgICAgICAgICBjYXRDb2x1bW4uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oY2F0ZWdvcmllcykpO1xuICAgICAgICAgICAgbW9kaWZ5Q29sdW1uLmFwcGVuZENoaWxkKGNyZWF0ZVNtYWxsQnV0dG9uKFwiZWRpdFwiLCBjcmVhdGVBZGRJbnRlcmZhY2UsIFtzb3J0T2JqLCB0aWxlLCBwbW1nU2V0dGluZ3MsIHBhcmFtZXRlcnMsIHNldHRpbmdzXSkpO1xuICAgICAgICAgICAgbW9kaWZ5Q29sdW1uLmFwcGVuZENoaWxkKGNyZWF0ZVNtYWxsQnV0dG9uKFwiZGVsZXRlXCIsIGZ1bmN0aW9uIChwbW1nU2V0dGluZ3MsIHJvdywgc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInNvcnRpbmdcIl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInNvcnRpbmdcIl1baV0gPT0gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInNvcnRpbmdcIl0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNldHRpbmdzKHBtbWdTZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFtwbW1nU2V0dGluZ3MsIHJvdywgc2V0dGluZ3NdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWlzU29ydGluZykge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgICAgICBjb25zdCB0ZXh0Q29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgdGV4dENvbHVtbi5jb2xTcGFuID0gMztcbiAgICAgICAgICAgIHRleHRDb2x1bW4udGV4dENvbnRlbnQgPSBcIk5vIFNvcnRpbmcgT3B0aW9uc1wiO1xuICAgICAgICAgICAgbGluZS5hcHBlbmRDaGlsZCh0ZXh0Q29sdW1uKTtcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVfYnVmZmVyKCkge1xuICAgIH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVBZGRJbnRlcmZhY2Uoc29ydE9iaiwgdGlsZSwgcG1tZ1NldHRpbmdzLCBwYXJhbWV0ZXJzLCBzZXR0aW5ncyA9IFtdKSB7XG4gICAgY29uc3QgcHJlZmlsbGVkID0gc2V0dGluZ3MubGVuZ3RoICE9IDA7XG4gICAgY29uc3Qgb3ZlcmxhcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgb3ZlcmxhcERpdi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLk92ZXJsYXBwaW5nRGl2KTtcbiAgICBjb25zdCBncmV5U3RyaXBlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZ3JleVN0cmlwZXMuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5HcmV5U3RyaXBlcyk7XG4gICAgb3ZlcmxhcERpdi5hcHBlbmRDaGlsZChncmV5U3RyaXBlcyk7XG4gICAgdGlsZS5pbnNlcnRCZWZvcmUob3ZlcmxhcERpdiwgdGlsZS5maXJzdENoaWxkKTtcbiAgICBncmV5U3RyaXBlcy5hcHBlbmRDaGlsZChtYWtlUG9wdXBTcGFjZXIodGlsZSwgb3ZlcmxhcERpdikpO1xuICAgIGNvbnN0IGFkZEludGVyZmFjZVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFkZEludGVyZmFjZVdyYXBwZXIuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5DZW50ZXJJbnRlcmZhY2UpO1xuICAgIGdyZXlTdHJpcGVzLmFwcGVuZENoaWxkKGFkZEludGVyZmFjZVdyYXBwZXIpO1xuICAgIGNvbnN0IGFkZEludGVyZmFjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWRkSW50ZXJmYWNlLmNsYXNzTGlzdC5hZGQoXCJOTE9ySDdoRjVmYktJZXNxVzN1U2tBPT1cIik7XG4gICAgYWRkSW50ZXJmYWNlV3JhcHBlci5hcHBlbmRDaGlsZChhZGRJbnRlcmZhY2UpO1xuICAgIGNvbnN0IGFkZEhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgYWRkSGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiU29ydGluZyBPcHRpb25zIEVkaXRvclwiKSk7XG4gICAgYWRkSGVhZGVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICBhZGRJbnRlcmZhY2UuYXBwZW5kQ2hpbGQoYWRkSGVhZGVyKTtcbiAgICBhZGRIZWFkZXIuc3R5bGUubWFyZ2luID0gXCIwLjVlbSAwIDAuNWVtXCI7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWRkSW50ZXJmYWNlLmFwcGVuZENoaWxkKGZvcm0pO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXBJbnB1dFJvdyhcIkFiYnJldmlhdGlvblwiLCBwcmVmaWxsZWQgPyBzZXR0aW5nc1swXSA6IFwiXCIsIFwiVGhlIGFiYnJldmlhdGlvbiBzaG93aW5nIGF0IHRoZSB0b3Agb2YgdGhlIGludmVudG9yeSAoQUJDLCBDQVQsIGV0Yy4pXCIpKTtcbiAgICBpZiAocHJlZmlsbGVkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0dGluZ3NbMl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXBJbnB1dFJvdyhcIkNhdGVnb3J5IFwiICsgKGkgKyAxKSArIFwiIE5hbWVcIiwgcHJlZmlsbGVkID8gc2V0dGluZ3NbMl1baV1bMF0gOiBcIlwiLCBpID09IDAgPyBcIlRoZSBuYW1lIG9mIHRoZSBmaXJzdCBjYXRlZ29yeSBmb3IgbWF0ZXJpYWxzXCIgOiBcIlwiKSk7XG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNyZWF0ZVBvcHVwSW5wdXRSb3coXCJDYXRlZ29yeSBcIiArIChpICsgMSkgKyBcIiBNQVRzXCIsIHByZWZpbGxlZCA/IHNldHRpbmdzWzJdW2ldWzFdLmpvaW4oXCIsIFwiKSA6IFwiXCIsIGkgPT0gMCA/IFwiQSBsaXN0IG9mIG1hdGVyaWFscyBpbiB0aGUgZmlyc3QgY2F0ZWdvcnkuIFNlcGFyYXRlIHRpY2tlcnMgYnkgYSBjb21tYS4gKFJBVCwgRFcsIGV0Yy4pXCIgOiBcIlwiKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXBJbnB1dFJvdyhcIkNhdGVnb3J5IDEgTmFtZVwiLCBcIlwiLCBcIlRoZSBuYW1lIG9mIHRoZSBmaXJzdCBjYXRlZ29yeSBmb3IgbWF0ZXJpYWxzLlwiKSk7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3JlYXRlUG9wdXBJbnB1dFJvdyhcIkNhdGVnb3J5IDEgTUFUc1wiLCBcIlwiLCBcIkEgbGlzdCBvZiBtYXRlcmlhbHMgaW4gdGhlIGZpcnN0IGNhdGVnb3J5LiBTZXBhcmF0ZSB0aWNrZXJzIGJ5IGEgY29tbWEuIChSQVQsIERXLCBldGMuKVwiKSk7XG4gICAgfVxuICAgIGNvbnN0IGFkZFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWRkUm93LmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuRm9ybVNhdmVSb3cpO1xuICAgIGZvcm0uYXBwZW5kQ2hpbGQoYWRkUm93KTtcbiAgICBjb25zdCBhZGRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICBhZGRMYWJlbC50ZXh0Q29udGVudCA9IFwiQWRkIENhdGVnb3J5XCI7XG4gICAgYWRkTGFiZWwuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZUxhYmVsKTtcbiAgICBhZGRSb3cuYXBwZW5kQ2hpbGQoYWRkTGFiZWwpO1xuICAgIGNvbnN0IGFkZElucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhZGRJbnB1dERpdi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1TYXZlSW5wdXQpO1xuICAgIGFkZFJvdy5hcHBlbmRDaGlsZChhZGRJbnB1dERpdik7XG4gICAgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBhZGRCdXR0b24udGV4dENvbnRlbnQgPSBcIkFERCBDQVRFR09SWVwiO1xuICAgIGFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvbik7XG4gICAgYWRkQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uUHJpbWFyeSk7XG4gICAgYWRkSW5wdXREaXYuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTtcbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY2F0TnVtYmVyID0gKGZvcm0uY2hpbGRyZW4ubGVuZ3RoIC0gMykgLyAyO1xuICAgICAgICBmb3JtLmluc2VydEJlZm9yZShjcmVhdGVQb3B1cElucHV0Um93KFwiQ2F0ZWdvcnkgXCIgKyBjYXROdW1iZXIgKyBcIiBOYW1lXCIpLCBmb3JtLmNoaWxkcmVuW2Zvcm0uY2hpbGRyZW4ubGVuZ3RoIC0gNF0pO1xuICAgICAgICBmb3JtLmluc2VydEJlZm9yZShjcmVhdGVQb3B1cElucHV0Um93KFwiQ2F0ZWdvcnkgXCIgKyBjYXROdW1iZXIgKyBcIiBNQVRzXCIpLCBmb3JtLmNoaWxkcmVuW2Zvcm0uY2hpbGRyZW4ubGVuZ3RoIC0gNF0pO1xuICAgIH0pO1xuICAgIGNvbnN0IGJ1cm5Sb3cgPSBjcmVhdGVQb3B1cENoZWNrYm94Um93KFwiQnVybiBTb3J0aW5nXCIsIHNldHRpbmdzWzNdIHx8IGZhbHNlLCBcIkFkZCBidXJuIHNvcnRpbmcgYXMgYSBzZWNvbmRhcnkgc29ydGluZyBtZXRob2QuIEJ1cm4gY2F0ZWdvcmllcyB3aWxsIHNob3cgdW5kZXIgdGhlIGNhdGVnb3JpZXMgZGVmaW5lZCBhYm92ZS5cIik7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChidXJuUm93KTtcbiAgICBjb25zdCB6ZXJvUm93ID0gY3JlYXRlUG9wdXBDaGVja2JveFJvdyhcIlNob3cgWmVyb3NcIiwgc2V0dGluZ3NbNF0gfHwgZmFsc2UsIFwiU2hvdyBpdGVtIGljb25zIHRoYXQgaGF2ZSB6ZXJvIHF1YW50aXR5LlwiKTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKHplcm9Sb3cpO1xuICAgIGNvbnN0IHNhdmVSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNhdmVSb3cuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZVJvdyk7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChzYXZlUm93KTtcbiAgICBjb25zdCBzYXZlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgc2F2ZUxhYmVsLnRleHRDb250ZW50ID0gXCJDTURcIjtcbiAgICBzYXZlTGFiZWwuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZUxhYmVsKTtcbiAgICBzYXZlUm93LmFwcGVuZENoaWxkKHNhdmVMYWJlbCk7XG4gICAgY29uc3Qgc2F2ZUlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzYXZlSW5wdXREaXYuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtU2F2ZUlucHV0KTtcbiAgICBzYXZlUm93LmFwcGVuZENoaWxkKHNhdmVJbnB1dERpdik7XG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU0FWRVwiO1xuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b25QcmltYXJ5KTtcbiAgICBzYXZlSW5wdXREaXYuYXBwZW5kQ2hpbGQoc2F2ZUJ1dHRvbik7XG4gICAgc2F2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBpdGVtQWJicmV2aWF0aW9uID0gZ2V0VmFsdWVPZlBvcHVwUm93KGZvcm0uZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnN0IHNvcnRpbmdJbmZvID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZm9ybS5jaGlsZHJlbi5sZW5ndGggLSA0OyBpICs9IDIpIHtcbiAgICAgICAgICAgIGlmICghZm9ybS5jaGlsZHJlbltpXSB8fCAhZm9ybS5jaGlsZHJlbltpICsgMV0pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZXRWYWx1ZU9mUG9wdXBSb3coZm9ybS5jaGlsZHJlbltpXSkgPT0gXCJcIiB8fCBnZXRWYWx1ZU9mUG9wdXBSb3coZm9ybS5jaGlsZHJlbltpICsgMV0pID09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvcnRpbmdJbmZvLnB1c2goW2dldFZhbHVlT2ZQb3B1cFJvdyhmb3JtLmNoaWxkcmVuW2ldKSwgZ2V0VmFsdWVPZlBvcHVwUm93KGZvcm0uY2hpbGRyZW5baSArIDFdKS5yZXBsYWNlKC8gL2csIFwiXCIpLnNwbGl0KFwiLFwiKV0pO1xuICAgICAgICB9XG4gICAgICAgIHRpbGUucmVtb3ZlQ2hpbGQob3ZlcmxhcERpdik7XG4gICAgICAgIGlmICghaXRlbUFiYnJldmlhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaWxsZWQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wic29ydGluZ1wiXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJzb3J0aW5nXCJdW2ldID09IHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInNvcnRpbmdcIl1baV0gPSBbaXRlbUFiYnJldmlhdGlvbiwgcGFyYW1ldGVyc1sxXSwgc29ydGluZ0luZm8sIGdldENoZWNrT2ZQb3B1cFJvdyhidXJuUm93KSwgZ2V0Q2hlY2tPZlBvcHVwUm93KHplcm9Sb3cpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG1tZ1NldHRpbmdzW1wiUE1NR0V4dGVuZGVkXCJdW1wic29ydGluZ1wiXS5wdXNoKFtpdGVtQWJicmV2aWF0aW9uLCBwYXJhbWV0ZXJzWzFdLCBzb3J0aW5nSW5mbywgZ2V0Q2hlY2tPZlBvcHVwUm93KGJ1cm5Sb3cpLCBnZXRDaGVja09mUG9wdXBSb3coemVyb1JvdyldKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRTZXR0aW5ncyhwbW1nU2V0dGluZ3MpO1xuICAgICAgICBzb3J0T2JqLmNyZWF0ZV9idWZmZXIoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICAgIGdyZXlTdHJpcGVzLmFwcGVuZENoaWxkKG1ha2VQb3B1cFNwYWNlcih0aWxlLCBvdmVybGFwRGl2KSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9YSVQvU29ydC50c1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY3JlYXRlVGV4dFNwYW4sIGNsZWFyQ2hpbGRyZW4sIGNyZWF0ZUxpbmsgfSBmcm9tIFwiLi4vdXRpbFwiO1xuZXhwb3J0IGNsYXNzIFN0YXJ0IHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUE1NRyBJTlRST0RVQ1RJT05cIjtcbiAgICAgICAgdGhpcy50aWxlID0gdGlsZTtcbiAgICB9XG4gICAgY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzLnRpbGUpO1xuICAgICAgICB0aGlzLnRpbGUuc3R5bGUuZm9udFNpemUgPSBcIjEycHhcIjtcbiAgICAgICAgdGhpcy50aWxlLnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIycHhcIjtcbiAgICAgICAgY29uc3Qgd2VsY29tZSA9IGNyZWF0ZVRleHRTcGFuKFwiVGhhbmsgeW91IGZvciB1c2luZyBQTU1HIEV4dGVuZGVkIVwiKTtcbiAgICAgICAgd2VsY29tZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG4gICAgICAgIHdlbGNvbWUuc3R5bGUucGFkZGluZ0xlZnQgPSBcIjBcIjtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHdlbGNvbWUpO1xuICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJUaGlzIGlzIGEgc2hvcnQgdHV0b3JpYWwgb24gaG93IHRvIGdldCB0aGUgbW9zdCBvdXQgb2YgdGhlIGV4dGVuc2lvbi5cIikpO1xuICAgICAgICBjb25zdCB3ZWJzaXRlTGlua0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHdlYnNpdGVMaW5rRGl2LnN0eWxlLnBhZGRpbmdUb3AgPSBcIjE1cHhcIjtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHdlYnNpdGVMaW5rRGl2KTtcbiAgICAgICAgd2Vic2l0ZUxpbmtEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJEZXRhaWxzIG9uIHdoYXQgUE1NRyBvZmZlcnMgY2FuIGJlIGZvdW5kIGhlcmU6IFwiKSk7XG4gICAgICAgIGNvbnN0IHdlYnNpdGVMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIHdlYnNpdGVMaW5rLmhyZWYgPSBcImh0dHBzOi8vc2l0ZXMuZ29vZ2xlLmNvbS92aWV3L3BtbWdleHRlbmRlZC9ob21lP2F1dGh1c2VyPTBcIjtcbiAgICAgICAgd2Vic2l0ZUxpbmsudGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAgICAgd2Vic2l0ZUxpbmsuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIHdlYnNpdGVMaW5rLmNsYXNzTGlzdC5hZGQoXCJsaW5rXCIpO1xuICAgICAgICB3ZWJzaXRlTGluay50ZXh0Q29udGVudCA9IFwiUE1NRyBFeHRlbmRlZFwiO1xuICAgICAgICB3ZWJzaXRlTGlua0Rpdi5hcHBlbmRDaGlsZCh3ZWJzaXRlTGluayk7XG4gICAgICAgIGNvbnN0IGhlbHBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQoaGVscERpdik7XG4gICAgICAgIGhlbHBEaXYuc3R5bGUucGFkZGluZ1RvcCA9IFwiMTVweFwiO1xuICAgICAgICBoZWxwRGl2LmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKFwiWW91IGNhbiBmaW5kIGEgbGlzdCBvZiBhbGwgb2YgdGhlIFBNTUcgY29tbWFuZHMgdXNpbmcgXCIpKTtcbiAgICAgICAgY29uc3QgaGVscExpbmsgPSBjcmVhdGVMaW5rKFwiWElUIEhFTFBcIiwgXCJYSVQgSEVMUFwiKTtcbiAgICAgICAgaGVscExpbmsuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIGhlbHBEaXYuYXBwZW5kQ2hpbGQoaGVscExpbmspO1xuICAgICAgICBjb25zdCBzZXR0aW5nc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChzZXR0aW5nc0Rpdik7XG4gICAgICAgIHNldHRpbmdzRGl2LnN0eWxlLnBhZGRpbmdUb3AgPSBcIjE1cHhcIjtcbiAgICAgICAgc2V0dGluZ3NEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJQTU1HJ3Mgc2V0dGluZ3MgY2FuIGJlIGFjY2Vzc2VkIHVzaW5nIFwiKSk7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzTGluayA9IGNyZWF0ZUxpbmsoXCJYSVQgU0VUVElOR1NcIiwgXCJYSVQgU0VUVElOR1NcIik7XG4gICAgICAgIHNldHRpbmdzTGluay5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgc2V0dGluZ3NEaXYuYXBwZW5kQ2hpbGQoc2V0dGluZ3NMaW5rKTtcbiAgICAgICAgY29uc3Qgc2NhbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChzY2FuRGl2KTtcbiAgICAgICAgc2NhbkRpdi5zdHlsZS5wYWRkaW5nVG9wID0gXCIxNXB4XCI7XG4gICAgICAgIHNjYW5EaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oXCJUbyBnZXQgUE1NRyB0byBzaG93IHlvdSBkYXRhIGFib3V0IHlvdXIgc3BhY2UgZW1waXJlLCB5b3UgbmVlZCB0byAnc2NhbiBpbicgeW91ciBiYXNlcyBieSByZWZyZXNoaW5nIHRoZSBwYWdlLCB0aGVuIG9wZW5pbmcgZWFjaCBvZiB5b3VyIHByb2R1Y3Rpb24gbGluZXMuIFlvdSBjYW4gY2hlY2sgaG93IG11Y2ggZGF0YSBoYXMgYmVlbiBzY2FubmVkIGluIHVzaW5nIHRoZSBYSVQgSEVBTFRIIGJ1ZmZlci5cIikpO1xuICAgICAgICBjb25zdCBmaW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQoZmluRGl2KTtcbiAgICAgICAgZmluRGl2LnN0eWxlLnBhZGRpbmdUb3AgPSBcIjE1cHhcIjtcbiAgICAgICAgZmluRGl2LmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKFwiT25jZSB5b3UgaGF2ZSBzY2FubmVkIGluIHlvdXIgZGF0YSwgb25lIG9mIHRoZSBiaWdnZXN0IFBNTUcgZmVhdHVyZXMgaXMgaW4gdGhlIFhJVCBGSU4gYnVmZmVyLiBJdCB0cmFja3MgeW91ciBmaW5hbmNlcyBtb3JlIGFjY3VyYXRlbHkgdGhhbiB0aGUgaW4gZ2FtZSBGSU4gYnVmZmVyLlwiKSk7XG4gICAgICAgIGNvbnN0IGNvbmNsdXNpb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnRpbGUuYXBwZW5kQ2hpbGQoY29uY2x1c2lvbkRpdik7XG4gICAgICAgIGNvbmNsdXNpb25EaXYuc3R5bGUucGFkZGluZ1RvcCA9IFwiMTVweFwiO1xuICAgICAgICBjb25jbHVzaW9uRGl2LmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKFwiQ29udGFjdCBQaUJveTMxNCBpbiBnYW1lIG9yIG9uIERpc2NvcmQgaWYgeW91IGhhdmUgcXVlc3Rpb25zLlwiKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlX2J1ZmZlcigpIHtcbiAgICB9XG4gICAgZGVzdHJveV9idWZmZXIoKSB7XG4gICAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvWElUL1N0YXJ0LnRzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBjbGVhckNoaWxkcmVuIH0gZnJvbSBcIi4uL3V0aWxcIjtcbmV4cG9ydCBjbGFzcyBQclVOIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUFJVTi1DRVBUSU9OXCI7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgfVxuICAgIGNyZWF0ZV9idWZmZXIoKSB7XG4gICAgICAgIGNsZWFyQ2hpbGRyZW4odGhpcy50aWxlKTtcbiAgICAgICAgY29uc3QgcHJ1biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgIHBydW4uc3JjID0gXCJodHRwczovL2FwZXgucHJvc3Blcm91c3VuaXZlcnNlLmNvbS8jL1wiO1xuICAgICAgICBwcnVuLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHBydW4uaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgIHBydW4uc3R5bGUuYm9yZGVyV2lkdGggPSBcIjBcIjtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHBydW4pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZV9idWZmZXIoKSB7XG4gICAgfVxuICAgIGRlc3Ryb3lfYnVmZmVyKCkge1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9zcGVyaXR5IHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUFJPU1BFUklUWVwiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjbGVhckNoaWxkcmVuKHRoaXMudGlsZSk7XG4gICAgICAgIHZhciB1cmwgPSBcImh0dHBzOi8vcHJvc3Blcml0eS1wcnVuLm5ldGxpZnkuYXBwL1wiO1xuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICB1cmwgKz0gXCI/ZnJvbT1cIiArIHRoaXMucGFyYW1ldGVyc1sxXSArIFwiJnRvPVwiICsgdGhpcy5wYXJhbWV0ZXJzWzJdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3NwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgcHJvc3Auc3JjID0gdXJsO1xuICAgICAgICBwcm9zcC53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICBwcm9zcC5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgcHJvc3Auc3R5bGUuYm9yZGVyV2lkdGggPSBcIjBcIjtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHByb3NwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVfYnVmZmVyKCkge1xuICAgIH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2hlZXRzIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiR09PR0xFIFNIRUVUU1wiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjbGVhckNoaWxkcmVuKHRoaXMudGlsZSk7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdGhpcy50aWxlLnRleHRDb250ZW50ID0gXCJFcnJvciEgTm90IEVub3VnaCBQYXJhbWV0ZXJzIVwiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgdGhpcy5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnNbMV0gKz0gXCJfXCIgKyB0aGlzLnBhcmFtZXRlcnNbaV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICBzaGVldC5zcmMgPSBcImh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL1wiICsgdGhpcy5wYXJhbWV0ZXJzWzFdICsgXCIvZWRpdD91c3A9c2hhcmluZ1wiO1xuICAgICAgICBzaGVldC5zdHlsZS5ib3JkZXJXaWR0aCA9IFwiMFwiO1xuICAgICAgICBzaGVldC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgc2hlZXQuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKHNoZWV0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVfYnVmZmVyKCkge1xuICAgIH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgV2lraSB7XG4gICAgY29uc3RydWN0b3IodGlsZSwgcGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlBSVU4gV0lLSVwiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjbGVhckNoaWxkcmVuKHRoaXMudGlsZSk7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgZnJhbWUuc3JjID0gdGhpcy5wYXJhbWV0ZXJzWzFdICYmIHRoaXMucGFyYW1ldGVyc1sxXS50b0xvd2VyQ2FzZSgpID09IFwicmVzb3VyY2VzXCIgPyBcImh0dHBzOi8vaGFuZGJvb2suYXBleC5wcm9zcGVyb3VzdW5pdmVyc2UuY29tL3dpa2kvY29tbXVuaXR5LXJlc291cmNlcy9pbmRleC5odG1sXCIgOiBcImh0dHBzOi8vaGFuZGJvb2suYXBleC5wcm9zcGVyb3VzdW5pdmVyc2UuY29tL3dpa2kvaW5kZXguaHRtbFwiO1xuICAgICAgICBmcmFtZS5zdHlsZS5ib3JkZXJXaWR0aCA9IFwiMFwiO1xuICAgICAgICBmcmFtZS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgZnJhbWUuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgdGhpcy50aWxlLmFwcGVuZENoaWxkKGZyYW1lKTtcbiAgICB9XG4gICAgdXBkYXRlX2J1ZmZlcigpIHtcbiAgICB9XG4gICAgZGVzdHJveV9idWZmZXIoKSB7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBydW5QbGFubmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUFJVTiBQTEFOTkVSXCI7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgfVxuICAgIGNyZWF0ZV9idWZmZXIoKSB7XG4gICAgICAgIGNsZWFyQ2hpbGRyZW4odGhpcy50aWxlKTtcbiAgICAgICAgdmFyIGxpbmsgPSBcImh0dHBzOi8vcHJ1bnBsYW5uZXIub3JnXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsaW5rICs9IFwiL1wiICsgdGhpcy5wYXJhbWV0ZXJzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgZnJhbWUuc3JjID0gbGluaztcbiAgICAgICAgZnJhbWUuc3R5bGUuYm9yZGVyV2lkdGggPSBcIjBcIjtcbiAgICAgICAgZnJhbWUuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgIGZyYW1lLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChmcmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlX2J1ZmZlcigpIHtcbiAgICB9XG4gICAgZGVzdHJveV9idWZmZXIoKSB7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZJTyB7XG4gICAgY29uc3RydWN0b3IodGlsZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkZJT1wiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBjbGVhckNoaWxkcmVuKHRoaXMudGlsZSk7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgZnJhbWUuc3JjID0gXCJodHRwczovL2Zpby5mbmFyLm5ldC9cIjtcbiAgICAgICAgZnJhbWUuc3R5bGUuYm9yZGVyV2lkdGggPSBcIjBcIjtcbiAgICAgICAgZnJhbWUuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgICAgIGZyYW1lLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHRoaXMudGlsZS5hcHBlbmRDaGlsZChmcmFtZSk7XG4gICAgfVxuICAgIHVwZGF0ZV9idWZmZXIoKSB7XG4gICAgfVxuICAgIGRlc3Ryb3lfYnVmZmVyKCkge1xuICAgIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL1hJVC9XZWIudHNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGNsZWFyQ2hpbGRyZW4sIGdldExvY2FsU3RvcmFnZSwgc2V0U2V0dGluZ3MsIGNyZWF0ZVRleHRTcGFuLCBjcmVhdGVUYWJsZSwgY3JlYXRlTGluaywgUG9wdXAsIHNob3dXYXJuaW5nRGlhbG9nLCBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldCwgY2FsY3VsYXRlQnVybiB9IGZyb20gXCIuLi91dGlsXCI7XG5pbXBvcnQgeyBTdHlsZSwgVGV4dENvbG9ycyB9IGZyb20gXCIuLi9TdHlsZVwiO1xuaW1wb3J0IHsgTm9uUHJvZHVjdGlvbkJ1aWxkaW5ncyB9IGZyb20gXCIuLi9HYW1lUHJvcGVydGllc1wiO1xuZXhwb3J0IGNsYXNzIENoZWNrbGlzdHMge1xuICAgIGNvbnN0cnVjdG9yKHRpbGUsIHBhcmFtZXRlcnMsIHBtbWdSZXN1bHQsIHVzZXJJbmZvKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ0hFQ0tMSVNUXCI7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMucG1tZ1Jlc3VsdCA9IHBtbWdSZXN1bHQ7XG4gICAgICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbztcbiAgICB9XG4gICAgY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzLnRpbGUpO1xuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLUNoZWNrbGlzdHNcIiwgZ2VuZXJhdGVDaGVja1RhYmxlLCB0aGlzLnRpbGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tOYW1lID0gKHRoaXMucGFyYW1ldGVycy5zbGljZSgxKSkuam9pbihcIiBcIik7XG4gICAgICAgICAgICBkaXNwbGF5Q2hlY2tsaXN0KHRoaXMudGlsZSwgdGhpcy51c2VySW5mbywgY2hlY2tOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZV9idWZmZXIoKSB7XG4gICAgfVxuICAgIGRlc3Ryb3lfYnVmZmVyKCkge1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdlbmVyYXRlQ2hlY2tUYWJsZShyZXN1bHQsIHRpbGUpIHtcbiAgICBpZiAoIXRpbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdFtcIlBNTUctQ2hlY2tsaXN0c1wiXSkge1xuICAgICAgICByZXN1bHRbXCJQTU1HLUNoZWNrbGlzdHNcIl0gPSB7fTtcbiAgICB9XG4gICAgY29uc3QgdGJvZHkgPSBjcmVhdGVUYWJsZSh0aWxlLCBbXCJOYW1lXCIsIFwiSW5jb21wbGV0ZVwiLCBcIkR1ZSBEYXRlXCIsIFwiTW9kaWZ5XCJdKTtcbiAgICBpZiAoT2JqZWN0LmtleXMocmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdKS5sZW5ndGggPT0gMCkge1xuICAgICAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICBjb25zdCB0ZXh0Q29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICB0ZXh0Q29sdW1uLmNvbFNwYW4gPSA0O1xuICAgICAgICB0ZXh0Q29sdW1uLnRleHRDb250ZW50ID0gXCJObyBDaGVja2xpc3RzXCI7XG4gICAgICAgIGxpbmUuYXBwZW5kQ2hpbGQodGV4dENvbHVtbik7XG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKGxpbmUpO1xuICAgIH1cbiAgICBjb25zdCBjaGVja2xpc3RMaXN0ID0gT2JqZWN0LmVudHJpZXMocmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdKTtcbiAgICBjaGVja2xpc3RMaXN0LnNvcnQoY2hlY2tsaXN0RHVlZGF0ZVNvcnQpO1xuICAgIGNoZWNrbGlzdExpc3QuZm9yRWFjaChvYmogPT4ge1xuICAgICAgICBjb25zdCBsaXN0TmFtZSA9IG9ialswXTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0ID0gb2JqWzFdO1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgIGNvbnN0IG5hbWVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBuYW1lRWxlbS5hcHBlbmRDaGlsZChjcmVhdGVMaW5rKGxpc3ROYW1lLCBcIlhJVCBDSEVDS0xJU1RfXCIgKyBsaXN0TmFtZS5yZXBsYWNlKC8gLywgXCJfXCIpKSk7XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChuYW1lRWxlbSk7XG4gICAgICAgIHZhciBpbmNvbXBsZXRlID0gMDtcbiAgICAgICAgdmFyIGR1ZWRhdGU7XG4gICAgICAgIGNoZWNrbGlzdC5mb3JFYWNoKGNvbmRpdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbmRpdGlvbi5jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBpbmNvbXBsZXRlKys7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvbi5kdWVkYXRlICYmICghZHVlZGF0ZSB8fCBjb25kaXRpb24uZHVlZGF0ZSA8IGR1ZWRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGR1ZWRhdGUgPSBjb25kaXRpb24uZHVlZGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbmNvbXBsZXRlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgaW5jb21wbGV0ZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oaW5jb21wbGV0ZS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgXCJtYXhpbXVtRnJhY3Rpb25EaWdpdHNcIjogMCB9KSkpO1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoaW5jb21wbGV0ZUVsZW0pO1xuICAgICAgICBjb25zdCBkdWVkYXRlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgZHVlZGF0ZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oZHVlZGF0ZSA/IChuZXcgRGF0ZShkdWVkYXRlKSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkgOiBcIi0tXCIpKTtcbiAgICAgICAgaWYgKGR1ZWRhdGUgJiYgZHVlZGF0ZSA8IERhdGUubm93KCkpIHtcbiAgICAgICAgICAgIGR1ZWRhdGVFbGVtLnN0eWxlLmNvbG9yID0gVGV4dENvbG9ycy5GYWlsdXJlO1xuICAgICAgICB9XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChkdWVkYXRlRWxlbSk7XG4gICAgICAgIGNvbnN0IG1vZGlmeUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChtb2RpZnlFbGVtKTtcbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuQnV0dG9uRGFuZ2VyKTtcbiAgICAgICAgbW9kaWZ5RWxlbS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICBkZWxldGVCdXR0b24udGV4dENvbnRlbnQgPSBcImRlbGV0ZVwiO1xuICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNob3dXYXJuaW5nRGlhbG9nKHRpbGUsIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGNoZWNrbGlzdD9cIiwgXCJDb25maXJtXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLUNoZWNrbGlzdHNcIiwgZGVsZXRlQ2hlY2tsaXN0LCBbbGlzdE5hbWUsIHRpbGVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB0aWxlLnN0eWxlLm1pbkhlaWdodCA9IFwiYXV0b1wiO1xuICAgIHJldHVybjtcbn1cbmZ1bmN0aW9uIGNoZWNrbGlzdER1ZWRhdGVTb3J0KGEsIGIpIHtcbiAgICBjb25zdCBhRHVlZGF0ZSA9IGNhbGN1bGF0ZUR1ZWRhdGUoYVsxXSk7XG4gICAgY29uc3QgYkR1ZWRhdGUgPSBjYWxjdWxhdGVEdWVkYXRlKGJbMV0pO1xuICAgIGlmIChhRHVlZGF0ZSAmJiBiRHVlZGF0ZSkge1xuICAgICAgICByZXR1cm4gYUR1ZWRhdGUgPiBiRHVlZGF0ZSA/IDEgOiAtMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYUR1ZWRhdGUgJiYgIWJEdWVkYXRlKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZUR1ZWRhdGUoY2hlY2tsaXN0KSB7XG4gICAgdmFyIGR1ZWRhdGU7XG4gICAgY2hlY2tsaXN0LmZvckVhY2goY29uZGl0aW9uID0+IHtcbiAgICAgICAgaWYgKCFjb25kaXRpb24uY29tcGxldGVkKSB7XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uLmR1ZWRhdGUgJiYgKCFkdWVkYXRlIHx8IGNvbmRpdGlvbi5kdWVkYXRlIDwgZHVlZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBkdWVkYXRlID0gY29uZGl0aW9uLmR1ZWRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZHVlZGF0ZTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZUNoZWNrbGlzdChyZXN1bHQsIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zWzBdIHx8ICFwYXJhbXNbMV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGVja2xpc3ROYW1lID0gcGFyYW1zWzBdO1xuICAgIGNvbnN0IHRpbGUgPSBwYXJhbXNbMV07XG4gICAgaWYgKCFyZXN1bHRbXCJQTU1HLUNoZWNrbGlzdHNcIl1bY2hlY2tsaXN0TmFtZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWxldGUgcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdW2NoZWNrbGlzdE5hbWVdO1xuICAgIHNldFNldHRpbmdzKHJlc3VsdCk7XG4gICAgY2xlYXJDaGlsZHJlbih0aWxlKTtcbiAgICBnZW5lcmF0ZUNoZWNrVGFibGUocmVzdWx0LCB0aWxlKTtcbn1cbmZ1bmN0aW9uIGRpc3BsYXlDaGVja2xpc3QodGlsZSwgdXNlckluZm8sIGNoZWNrTmFtZSkge1xuICAgIGNvbnN0IG5hbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5hbWVEaXYuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oY2hlY2tOYW1lKSk7XG4gICAgbmFtZURpdi5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG4gICAgdGlsZS5hcHBlbmRDaGlsZChuYW1lRGl2KTtcbiAgICBjb25zdCBjaGVja0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGlsZS5hcHBlbmRDaGlsZChjaGVja0Rpdik7XG4gICAgY29uc3QgY2hlY2tsaXN0ID0gbmV3IENoZWNrbGlzdChjaGVja05hbWUsIGNoZWNrRGl2LCB0aWxlLCB1c2VySW5mbyk7XG4gICAgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBhZGRCdXR0b24uY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5CdXR0b24pO1xuICAgIGFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkJ1dHRvblByaW1hcnkpO1xuICAgIHRpbGUuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKTtcbiAgICBhZGRCdXR0b24uc3R5bGUubWFyZ2luID0gXCI1cHhcIjtcbiAgICBhZGRCdXR0b24udGV4dENvbnRlbnQgPSBcIkFERCBJVEVNXCI7XG4gICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGdlbmVyYXRlRWRpdFBvcHVwKHRpbGUsIGNoZWNrbGlzdCwgdXNlckluZm8pO1xuICAgIH0pO1xuICAgIHJldHVybjtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlRWRpdFBvcHVwKHRpbGUsIGNoZWNrbGlzdCwgdXNlckluZm8sIGluZm8pIHtcbiAgICBpZiAoIWluZm8pIHtcbiAgICAgICAgaW5mbyA9IHsgXCJ0eXBlXCI6IFwiVGV4dFwiLCBcImNvbXBsZXRlZFwiOiBmYWxzZSwgXCJpZFwiOiBnZW5lcmF0ZVJhbmRvbUhleFNlcXVlbmNlKDgpLCBcImNyZWF0ZWRcIjogRGF0ZS5ub3coKSB9O1xuICAgIH1cbiAgICBjb25zdCBwb3B1cCA9IG5ldyBQb3B1cCh0aWxlLCBcIkNoZWNrbGlzdCBJdGVtIEVkaXRvclwiKTtcbiAgICBwb3B1cC5hZGRQb3B1cFJvdyhcImRyb3Bkb3duXCIsIFwiVHlwZVwiLCBbXCJUZXh0XCIsIFwiUmVzdXBwbHlcIiwgXCJSZXBhaXJcIiwgZWRpdFBvcHVwVHlwZXNbaW5mby50eXBlXV0sIFwiVGhlIHR5cGUgb2YgY2hlY2tsaXN0IGl0ZW0gYmVpbmcgYWRkZWQuXCIsIHVwZGF0ZVBvcHVwSW5mbywgW3BvcHVwLCBpbmZvLCB1c2VySW5mb10pO1xuICAgIHZhciBkYXRlO1xuICAgIGlmIChpbmZvLmR1ZWRhdGUpIHtcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGluZm8uZHVlZGF0ZSk7XG4gICAgICAgIGRhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSAtIGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gICAgfVxuICAgIHBvcHVwLmFkZFBvcHVwUm93KFwiZGF0ZVwiLCBcIkR1ZSBEYXRlXCIsIGluZm8uZHVlZGF0ZSA/IGRhdGUudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxNikgOiB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdXBkYXRlUG9wdXBJbmZvLCBbcG9wdXAsIGluZm8sIHVzZXJJbmZvXSk7XG4gICAgcG9wdXAuYWRkUG9wdXBSb3coXCJudW1iZXJcIiwgXCJSZWN1cnJpbmcgUGVyaW9kXCIsIGluZm8ucmVjdXJyaW5nLCBcIkhvdyBvZnRlbiB0aGUgY2hlY2tsaXN0IGl0ZW0gd2lsbCBiZSBhZGRlZCBiYWNrLiBXaWxsIG5vdCBmdW5jdGlvbiB3aXRob3V0IGEgZHVlIGRhdGUuXCIsIHVwZGF0ZVBvcHVwSW5mbywgW3BvcHVwLCBpbmZvLCB1c2VySW5mb10pO1xuICAgIHBvcHVwLmFkZFBvcHVwUm93KFwiYnV0dG9uXCIsIFwiQ01EXCIsIFwiU0FWRVwiLCBcIlNhdmUgYW5kIGFkZCB0aGUgY2hlY2tsaXN0IGl0ZW0uXCIsIGFkZENoZWNrbGlzdEl0ZW0sIFtwb3B1cCwgaW5mbywgY2hlY2tsaXN0LCB1c2VySW5mb10pO1xuICAgIHBvcHVwLmFkZFBvcHVwUm93KFwiYnV0dG9uXCIsIFwiREVMRVRFXCIsIFwiREVMRVRFXCIsIFwiRGVsZXRlIHRoZSBjdXJyZW50IGNoZWNrbGlzdCBpdGVtLlwiLCBkZWxldGVDaGVja2xpc3RJdGVtLCBbcG9wdXAsIGluZm8sIGNoZWNrbGlzdF0pO1xuICAgIHBvcHVwLmdldFJvd0J5TmFtZShcIkRFTEVURVwiKS5yb3dJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFN0eWxlLkJ1dHRvblByaW1hcnkpO1xuICAgIHBvcHVwLmdldFJvd0J5TmFtZShcIkRFTEVURVwiKS5yb3dJbnB1dC5jbGFzc0xpc3QuYWRkKFN0eWxlLkJ1dHRvbkRhbmdlcik7XG4gICAgdXBkYXRlUG9wdXBJbmZvKG51bGwsIFtwb3B1cCwgaW5mbywgdXNlckluZm8sIHRydWVdKTtcbn1cbmNvbnN0IGVkaXRQb3B1cFR5cGVzID0ge1xuICAgIFwiVGV4dFwiOiAwLFxuICAgIFwiUmVzdXBwbHlcIjogMSxcbiAgICBcIlJlcGFpclwiOiAyXG59O1xuZnVuY3Rpb24gdXBkYXRlUG9wdXBJbmZvKGp1bmssIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zWzBdIHx8ICFwYXJhbXNbMV0gfHwgIXBhcmFtc1syXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBvcHVwID0gcGFyYW1zWzBdO1xuICAgIGNvbnN0IGluZm8gPSBwYXJhbXNbMV07XG4gICAgY29uc3QgdXNlckluZm8gPSBwYXJhbXNbMl07XG4gICAgY29uc3QgbWFudWFsbHlVcGRhdGUgPSBwYXJhbXNbM107XG4gICAgY29uc3QgdHlwZVZhbHVlID0gcG9wdXAucm93c1swXS5yb3dJbnB1dC5zZWxlY3RlZE9wdGlvbnNbMF0udmFsdWU7XG4gICAgaWYgKGluZm8udHlwZSAhPSB0eXBlVmFsdWUgfHwgbWFudWFsbHlVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgbnVtUm93cyA9IHBvcHVwLnJvd3MubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMzsgaSA8IG51bVJvd3MgLSAyOyBpKyspIHtcbiAgICAgICAgICAgIHBvcHVwLnJlbW92ZVBvcHVwUm93KDMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlVmFsdWUgPT0gXCJUZXh0XCIpIHtcbiAgICAgICAgICAgIHBvcHVwLmFkZFBvcHVwUm93KFwidGV4dFwiLCBcIlRleHRcIiwgaW5mb1tcIm5hbWVcIl0sIHVuZGVmaW5lZCwgdXBkYXRlUG9wdXBJbmZvLCBbcG9wdXAsIGluZm8sIHVzZXJJbmZvXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZVZhbHVlID09IFwiUmVzdXBwbHlcIikge1xuICAgICAgICAgICAgdmFyIHBsYW5ldE5hbWVzID0gW107XG4gICAgICAgICAgICBpZiAodXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcIndvcmtmb3JjZVwiXSkge1xuICAgICAgICAgICAgICAgIHBsYW5ldE5hbWVzID0gdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcIndvcmtmb3JjZVwiXS5tYXAocGxhbmV0ID0+IHBsYW5ldC5QbGFuZXROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmZvW1wicGxhbmV0XCJdICYmIHBsYW5ldE5hbWVzLmluY2x1ZGVzKGluZm9bXCJwbGFuZXRcIl0pICYmIHBsYW5ldE5hbWVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHBsYW5ldE5hbWVzLnB1c2gocGxhbmV0TmFtZXMuaW5kZXhPZihpbmZvW1wicGxhbmV0XCJdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3B1cC5hZGRQb3B1cFJvdyhcImRyb3Bkb3duXCIsIFwiUGxhbmV0XCIsIHBsYW5ldE5hbWVzLCBcIlRoZSBiYXNlIHRvIHJlc3VwcGx5LlwiLCB1cGRhdGVQb3B1cEluZm8sIFtwb3B1cCwgaW5mbywgdXNlckluZm9dKTtcbiAgICAgICAgICAgIHBvcHVwLmFkZFBvcHVwUm93KFwibnVtYmVyXCIsIFwiRGF5c1wiLCBpbmZvW1wiZGF5c1wiXSA/IGluZm9bXCJkYXlzXCJdLnRvU3RyaW5nKCkgOiBcIjBcIiwgXCJUaGUgbnVtYmVyIG9mIGRheXMgb2Ygc3VwcGxpZXNcIiwgdXBkYXRlUG9wdXBJbmZvLCBbcG9wdXAsIGluZm8sIHVzZXJJbmZvXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZVZhbHVlID09IFwiUmVwYWlyXCIpIHtcbiAgICAgICAgICAgIHZhciBwbGFuZXROYW1lcyA9IFtdO1xuICAgICAgICAgICAgaWYgKHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzaXRlc1wiXSkge1xuICAgICAgICAgICAgICAgIHBsYW5ldE5hbWVzID0gdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcInNpdGVzXCJdLmZpbHRlcihzaXRlID0+IHNpdGUudHlwZSA9PSBcIkJBU0VcIikubWFwKHNpdGUgPT4gc2l0ZS5QbGFuZXROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmZvW1wicGxhbmV0XCJdICYmIHBsYW5ldE5hbWVzLmluY2x1ZGVzKGluZm9bXCJwbGFuZXRcIl0pICYmIHBsYW5ldE5hbWVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHBsYW5ldE5hbWVzLnB1c2gocGxhbmV0TmFtZXMuaW5kZXhPZihpbmZvW1wicGxhbmV0XCJdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3B1cC5hZGRQb3B1cFJvdyhcImRyb3Bkb3duXCIsIFwiUGxhbmV0XCIsIHBsYW5ldE5hbWVzLCBcIlRoZSBiYXNlIHRvIHJlcGFpci5cIiwgdXBkYXRlUG9wdXBJbmZvLCBbcG9wdXAsIGluZm8sIHVzZXJJbmZvXSk7XG4gICAgICAgICAgICBwb3B1cC5hZGRQb3B1cFJvdyhcIm51bWJlclwiLCBcIlRocmVzaG9sZFwiLCBpbmZvW1wiZGF5c1wiXSA/IGluZm9bXCJkYXlzXCJdLnRvU3RyaW5nKCkgOiBcIjBcIiwgXCJUaGUgY3V0b2ZmIGZvciB0aGUgYWdlIG9mIGJ1aWxkaW5ncyBkaXNwbGF5ZWQgKGluIGRheXMpXCIsIHVwZGF0ZVBvcHVwSW5mbywgW3BvcHVwLCBpbmZvLCB1c2VySW5mb10pO1xuICAgICAgICB9XG4gICAgICAgIHBvcHVwLm1vdmVSb3dUb0JvdHRvbSgzKTtcbiAgICAgICAgcG9wdXAubW92ZVJvd1RvQm90dG9tKDMpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGVWYWx1ZSkge1xuICAgICAgICBjYXNlIFwiVGV4dFwiOlxuICAgICAgICAgICAgY29uc3QgdGV4dFJvdyA9IHBvcHVwLmdldFJvd0J5TmFtZShcIlRleHRcIik7XG4gICAgICAgICAgICBpZiAodGV4dFJvdykge1xuICAgICAgICAgICAgICAgIGluZm9bXCJuYW1lXCJdID0gdGV4dFJvdy5yb3dJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUmVzdXBwbHlcIjpcbiAgICAgICAgICAgIHZhciBwbGFuZXRSb3cgPSBwb3B1cC5nZXRSb3dCeU5hbWUoXCJQbGFuZXRcIik7XG4gICAgICAgICAgICB2YXIgZGF5c1JvdyA9IHBvcHVwLmdldFJvd0J5TmFtZShcIkRheXNcIik7XG4gICAgICAgICAgICBpZiAocGxhbmV0Um93KSB7XG4gICAgICAgICAgICAgICAgaW5mb1tcInBsYW5ldFwiXSA9IHBsYW5ldFJvdy5yb3dJbnB1dC5zZWxlY3RlZE9wdGlvbnNbMF0udmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF5c1Jvdykge1xuICAgICAgICAgICAgICAgIGluZm9bXCJkYXlzXCJdID0gZGF5c1Jvdy5yb3dJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUmVwYWlyXCI6XG4gICAgICAgICAgICBwbGFuZXRSb3cgPSBwb3B1cC5nZXRSb3dCeU5hbWUoXCJQbGFuZXRcIik7XG4gICAgICAgICAgICBkYXlzUm93ID0gcG9wdXAuZ2V0Um93QnlOYW1lKFwiVGhyZXNob2xkXCIpO1xuICAgICAgICAgICAgaWYgKHBsYW5ldFJvdykge1xuICAgICAgICAgICAgICAgIGluZm9bXCJwbGFuZXRcIl0gPSBwbGFuZXRSb3cucm93SW5wdXQuc2VsZWN0ZWRPcHRpb25zWzBdLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRheXNSb3cpIHtcbiAgICAgICAgICAgICAgICBpbmZvW1wiZGF5c1wiXSA9IGRheXNSb3cucm93SW5wdXQudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIGluZm9bXCJ0eXBlXCJdID0gdHlwZVZhbHVlO1xuICAgIGluZm9bXCJkdWVkYXRlXCJdID0gcG9wdXAucm93c1sxXS5yb3dJbnB1dC52YWx1ZSA9PSBcIlwiID8gdW5kZWZpbmVkIDogKG5ldyBEYXRlKHBvcHVwLnJvd3NbMV0ucm93SW5wdXQudmFsdWUpKS5nZXRUaW1lKCk7XG4gICAgaW5mb1tcInJlY3VycmluZ1wiXSA9IHBvcHVwLnJvd3NbMl0ucm93SW5wdXQudmFsdWUgPT0gXCJcIiA/IHVuZGVmaW5lZCA6IHBvcHVwLnJvd3NbMl0ucm93SW5wdXQudmFsdWU7XG4gICAgcmV0dXJuIGp1bms7XG59XG5mdW5jdGlvbiBkZWxldGVDaGVja2xpc3RJdGVtKHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zWzBdIHx8ICFwYXJhbXNbMV0gfHwgIXBhcmFtc1syXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBvcHVwID0gcGFyYW1zWzBdO1xuICAgIGNvbnN0IGluZm8gPSBwYXJhbXNbMV07XG4gICAgY29uc3QgY2hlY2tsaXN0ID0gcGFyYW1zWzJdO1xuICAgIHBvcHVwLmRlc3Ryb3koKTtcbiAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLUNoZWNrbGlzdHNcIiwgdXBkYXRlU3RvcmVkQ2hlY2tsaXN0cywgW2luZm8sIGNoZWNrbGlzdCwgdHJ1ZSwgZmFsc2VdKTtcbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBhZGRDaGVja2xpc3RJdGVtKHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zWzBdIHx8ICFwYXJhbXNbMV0gfHwgIXBhcmFtc1syXSB8fCAhcGFyYW1zWzNdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcG9wdXAgPSBwYXJhbXNbMF07XG4gICAgY29uc3QgaW5mbyA9IHBhcmFtc1sxXTtcbiAgICBjb25zdCBjaGVja2xpc3QgPSBwYXJhbXNbMl07XG4gICAgY29uc3QgdXNlckluZm8gPSBwYXJhbXNbM107XG4gICAgc3dpdGNoIChpbmZvLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIlJlc3VwcGx5XCI6XG4gICAgICAgICAgICBpbmZvLm5hbWUgPSBcIlN1cHBseSBbW3A6XCIgKyBpbmZvW1wicGxhbmV0XCJdICsgXCJdXSB3aXRoIFwiICsgaW5mb1tcImRheXNcIl0gKyBcIiBcIiArIChpbmZvW1wiZGF5c1wiXSA9PSBcIjFcIiA/IFwiZGF5XCIgOiBcImRheXNcIikgKyBcIiBvZiBjb25zdW1hYmxlcy5cIjtcbiAgICAgICAgICAgIGNvbnN0IHBsYW5ldFdvcmtmb3JjZSA9IGZpbmRDb3JyZXNwb25kaW5nUGxhbmV0KGluZm9bXCJwbGFuZXRcIl0sIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJ3b3JrZm9yY2VcIl0pO1xuICAgICAgICAgICAgY29uc3QgcGxhbmV0UHJvZHVjdGlvbiA9IGZpbmRDb3JyZXNwb25kaW5nUGxhbmV0KGluZm9bXCJwbGFuZXRcIl0sIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJwcm9kdWN0aW9uXCJdKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1cm4gPSBjYWxjdWxhdGVCdXJuKHBsYW5ldFByb2R1Y3Rpb24sIHBsYW5ldFdvcmtmb3JjZSwgbnVsbCk7XG4gICAgICAgICAgICBpbmZvW1wiY2hpbGRyZW5cIl0gPSBbXTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGJ1cm4pLmZvckVhY2gobWF0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYnVyblttYXRdW1wiRGFpbHlBbW91bnRcIl0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtdCA9IC1idXJuW21hdF1bXCJEYWlseUFtb3VudFwiXSAqIHBhcnNlRmxvYXQoaW5mby5kYXlzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuaWQgPSBnZW5lcmF0ZVJhbmRvbUhleFNlcXVlbmNlKDgpO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5pc0NoaWxkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubmFtZSA9IGFtdC50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwIH0pICsgXCIgW1ttOlwiICsgbWF0ICsgXCJdXVwiO1xuICAgICAgICAgICAgICAgICAgICBpbmZvW1wiY2hpbGRyZW5cIl0ucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlJlcGFpclwiOlxuICAgICAgICAgICAgaW5mby5uYW1lID0gXCJSZXBhaXIgYnVpbGRpbmdzIG9uIFtbcDpcIiArIGluZm9bXCJwbGFuZXRcIl0gKyBcIl1dIG9sZGVyIHRoYW4gXCIgKyBpbmZvW1wiZGF5c1wiXSArIChpbmZvW1wiZGF5c1wiXSA9PSBcIjFcIiA/IFwiIGRheVwiIDogXCIgZGF5c1wiKTtcbiAgICAgICAgICAgIGNvbnN0IG1hdHMgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IHNpdGUgPSBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldChpbmZvW1wicGxhbmV0XCJdLCB1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic2l0ZXNcIl0sIHRydWUpO1xuICAgICAgICAgICAgaW5mb1tcImNoaWxkcmVuXCJdID0gW107XG4gICAgICAgICAgICBpZiAoc2l0ZS5idWlsZGluZ3MpIHtcbiAgICAgICAgICAgICAgICBzaXRlLmJ1aWxkaW5ncy5mb3JFYWNoKGJ1aWxkaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFOb25Qcm9kdWN0aW9uQnVpbGRpbmdzLmluY2x1ZGVzKGJ1aWxkaW5nLmJ1aWxkaW5nVGlja2VyKSAmJiBEYXRlLm5vdygpIC0gYnVpbGRpbmcubGFzdFJlcGFpciA+IHBhcnNlRmxvYXQoaW5mby5kYXlzKSAqIDg2NDAwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZy5yZXBhaXJNYXRlcmlhbHMuZm9yRWFjaChtYXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRzW21hdC5tYXRlcmlhbC50aWNrZXJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdHNbbWF0Lm1hdGVyaWFsLnRpY2tlcl0gKz0gbWF0LmFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdHNbbWF0Lm1hdGVyaWFsLnRpY2tlcl0gPSBtYXQuYW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtYXRzKS5mb3JFYWNoKG1hdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB7fTtcbiAgICAgICAgICAgICAgICBjaGlsZC5pZCA9IGdlbmVyYXRlUmFuZG9tSGV4U2VxdWVuY2UoOCk7XG4gICAgICAgICAgICAgICAgY2hpbGQuaXNDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2hpbGQubmFtZSA9IG1hdHNbbWF0XS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwIH0pICsgXCIgW1ttOlwiICsgbWF0ICsgXCJdXVwiO1xuICAgICAgICAgICAgICAgIGluZm9bXCJjaGlsZHJlblwiXS5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHBvcHVwLmRlc3Ryb3koKTtcbiAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLUNoZWNrbGlzdHNcIiwgdXBkYXRlU3RvcmVkQ2hlY2tsaXN0cywgW2luZm8sIGNoZWNrbGlzdF0pO1xuICAgIHJldHVybjtcbn1cbmNvbnN0IGdlbmVyYXRlUmFuZG9tSGV4U2VxdWVuY2UgPSAobGVuZ3RoKSA9PiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sICgpID0+ICcwMTIzNDU2Nzg5YWJjZGVmJ1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNildKS5qb2luKCcnKTtcbmZ1bmN0aW9uIHVwZGF0ZVN0b3JlZENoZWNrbGlzdHMocmVzdWx0LCBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtc1swXSB8fCAhcGFyYW1zWzFdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdG9VcGRhdGUgPSBwYXJhbXNbMF07XG4gICAgY29uc3QgY2hlY2tsaXN0ID0gcGFyYW1zWzFdO1xuICAgIGNvbnN0IHRvRGVsZXRlID0gcGFyYW1zWzJdO1xuICAgIGNvbnN0IGlzQ2hpbGQgPSBwYXJhbXNbM107XG4gICAgaWYgKCFyZXN1bHRbXCJQTU1HLUNoZWNrbGlzdHNcIl0pIHtcbiAgICAgICAgcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdID0ge307XG4gICAgfVxuICAgIGlmICghcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdW2NoZWNrbGlzdC5uYW1lXSkge1xuICAgICAgICByZXN1bHRbXCJQTU1HLUNoZWNrbGlzdHNcIl1bY2hlY2tsaXN0Lm5hbWVdID0gW107XG4gICAgfVxuICAgIGlmIChpc0NoaWxkKSB7XG4gICAgICAgIGNvbnN0IG91dGVySW5kZXggPSByZXN1bHRbXCJQTU1HLUNoZWNrbGlzdHNcIl1bY2hlY2tsaXN0Lm5hbWVdLmZpbmRJbmRleChvYmogPT4gb2JqLmNoaWxkcmVuICYmIG9iai5jaGlsZHJlbi5maW5kSW5kZXgoY2hpbGQgPT4gY2hpbGQuaWQgPT0gdG9VcGRhdGUuaWQpICE9IC0xKTtcbiAgICAgICAgaWYgKG91dGVySW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQmFkIEluZGV4aW5nIGluIENoZWNrbGlzdCBDaGlsZHJlblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbm5lckluZGV4ID0gcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdW2NoZWNrbGlzdC5uYW1lXVtvdXRlckluZGV4XS5jaGlsZHJlbi5maW5kSW5kZXgoY2hpbGQgPT4gY2hpbGQuaWQgPT0gdG9VcGRhdGUuaWQpO1xuICAgICAgICBpZiAoaW5uZXJJbmRleCA9PSAtMSAmJiAhdG9EZWxldGUpIHtcbiAgICAgICAgICAgIHJlc3VsdFtcIlBNTUctQ2hlY2tsaXN0c1wiXVtjaGVja2xpc3QubmFtZV1bb3V0ZXJJbmRleF0uY2hpbGRyZW4ucHVzaCh0b1VwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5uZXJJbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgaWYgKHRvRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdW2NoZWNrbGlzdC5uYW1lXVtvdXRlckluZGV4XS5jaGlsZHJlbi5zcGxpY2UoaW5uZXJJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbXCJQTU1HLUNoZWNrbGlzdHNcIl1bY2hlY2tsaXN0Lm5hbWVdW291dGVySW5kZXhdLmNoaWxkcmVuW2lubmVySW5kZXhdID0gdG9VcGRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdW2NoZWNrbGlzdC5uYW1lXS5maW5kSW5kZXgob2JqID0+IG9iai5pZCA9PSB0b1VwZGF0ZS5pZCk7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSAmJiAhdG9EZWxldGUpIHtcbiAgICAgICAgICAgIHJlc3VsdFtcIlBNTUctQ2hlY2tsaXN0c1wiXVtjaGVja2xpc3QubmFtZV0ucHVzaCh0b1VwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgIGlmICh0b0RlbGV0ZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtcIlBNTUctQ2hlY2tsaXN0c1wiXVtjaGVja2xpc3QubmFtZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtcIlBNTUctQ2hlY2tsaXN0c1wiXVtjaGVja2xpc3QubmFtZV1baW5kZXhdID0gdG9VcGRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0U2V0dGluZ3MocmVzdWx0KTtcbiAgICBjaGVja2xpc3QucmVjcmVhdGVDYWxsYmFjayhyZXN1bHQsIGNoZWNrbGlzdCk7XG59XG5mdW5jdGlvbiBjcmVhdGVOYW1lKG5hbWUpIHtcbiAgICBuYW1lID0gbmFtZSB8fCBcIlwiO1xuICAgIGNvbnN0IG1hdGNoZXMgPSBbLi4ubmFtZS5tYXRjaEFsbCgvXFxbXFxbKFthLXpBLVpdKTooW146XFxdXSspXFxdXFxdL2cpXTtcbiAgICBjb25zdCBuYW1lRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHZhciBuYW1lQ29weSA9IG5hbWU7XG4gICAgdmFyIGN1dCA9IDA7XG4gICAgbWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+IHtcbiAgICAgICAgbmFtZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4obmFtZUNvcHkuc3Vic3RyaW5nKDAsIG1hdGNoLmluZGV4IC0gY3V0KSkpO1xuICAgICAgICB2YXIgY29tbWFuZDtcbiAgICAgICAgc3dpdGNoIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgY2FzZSBcIm1cIjpcbiAgICAgICAgICAgICAgICBjb21tYW5kID0gXCJNQVQgXCIgKyBtYXRjaFsyXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgICAgICAgICAgY29tbWFuZCA9IFwiUExJIFwiICsgbWF0Y2hbMl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG5hbWVFbGVtLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKG1hdGNoWzBdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbW1hbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtFbGVtID0gY3JlYXRlTGluayhtYXRjaFsyXSwgY29tbWFuZCk7XG4gICAgICAgICAgICBsaW5rRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcbiAgICAgICAgICAgIG5hbWVFbGVtLmFwcGVuZENoaWxkKGxpbmtFbGVtKTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lQ29weSA9IG5hbWVDb3B5LnNsaWNlKG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoIC0gY3V0KTtcbiAgICAgICAgY3V0ID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7XG4gICAgfSk7XG4gICAgbmFtZUVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4obmFtZUNvcHkpKTtcbiAgICByZXR1cm4gbmFtZUVsZW07XG59XG5jbGFzcyBDaGVja2xpc3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNoZWNrRGl2LCB0aWxlLCB1c2VySW5mbykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNoZWNrRGl2ID0gY2hlY2tEaXY7XG4gICAgICAgIHRoaXMudGlsZSA9IHRpbGU7XG4gICAgICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbztcbiAgICAgICAgdGhpcy5yZWNyZWF0ZSgpO1xuICAgIH1cbiAgICByZWNyZWF0ZSgpIHtcbiAgICAgICAgZ2V0TG9jYWxTdG9yYWdlKFwiUE1NRy1DaGVja2xpc3RzXCIsIHRoaXMucmVjcmVhdGVDYWxsYmFjaywgdGhpcyk7XG4gICAgfVxuICAgIHJlY3JlYXRlQ2FsbGJhY2socmVzdWx0LCB0aGlzT2JqZWN0KSB7XG4gICAgICAgIGlmICghcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldkhlaWdodCA9IHRoaXNPYmplY3QuY2hlY2tEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICB0aGlzT2JqZWN0LmNoZWNrRGl2LnN0eWxlLm1pbkhlaWdodCA9IHByZXZIZWlnaHQudG9TdHJpbmcoKSArIFwicHhcIjtcbiAgICAgICAgY2xlYXJDaGlsZHJlbih0aGlzT2JqZWN0LmNoZWNrRGl2KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0SXRlbXMgPSBbXTtcbiAgICAgICAgaWYgKHJlc3VsdFtcIlBNTUctQ2hlY2tsaXN0c1wiXVt0aGlzT2JqZWN0Lm5hbWVdKSB7XG4gICAgICAgICAgICByZXN1bHRbXCJQTU1HLUNoZWNrbGlzdHNcIl1bdGhpc09iamVjdC5uYW1lXS5mb3JFYWNoKGNoZWNrSW5mbyA9PiB7XG4gICAgICAgICAgICAgICAgY2hlY2tsaXN0SXRlbXMucHVzaChuZXcgQ2hlY2tJdGVtKGNoZWNrSW5mbywgdGhpc09iamVjdCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tsaXN0SXRlbXMuc29ydChjaGVja1NvcnQpO1xuICAgICAgICBjaGVja2xpc3RJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgdGhpc09iamVjdC5jaGVja0Rpdi5hcHBlbmRDaGlsZChpdGVtLml0ZW0pO1xuICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNPYmplY3QuY2hlY2tEaXYuYXBwZW5kQ2hpbGQoY2hpbGQuaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzT2JqZWN0LmNoZWNrRGl2LnN0eWxlLm1pbkhlaWdodCA9IFwiYXV0b1wiO1xuICAgIH1cbn1cbmNsYXNzIENoZWNrSXRlbSB7XG4gICAgY29uc3RydWN0b3IoY2hlY2tJbmZvLCBjaGVja2xpc3QsIGlzQ2hpbGQpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmlzQ2hpbGQgPSBpc0NoaWxkO1xuICAgICAgICB0aGlzLmNoZWNrSW5mbyA9IGNoZWNrSW5mbztcbiAgICAgICAgdGhpcy5jaGVja2xpc3QgPSBjaGVja2xpc3Q7XG4gICAgICAgIHRoaXMuaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuaXRlbS5jbGFzc0xpc3QuYWRkKFwiY2hlY2staXRlbVwiKTtcbiAgICAgICAgdGhpcy5pdGVtLnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG4gICAgICAgIHRoaXMuaXRlbS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIHRoaXMuaXRlbS5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcbiAgICAgICAgdGhpcy5jaGVja0NpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuaXRlbS5hcHBlbmRDaGlsZCh0aGlzLmNoZWNrQ2lyY2xlKTtcbiAgICAgICAgdGhpcy5jaGVja0NpcmNsZS5pbm5lckhUTUwgPSBjaGVja0luZm8uY29tcGxldGVkID8gZmlsbGVkQ2lyY2xlIDogdW5maWxsZWRDaXJjbGU7XG4gICAgICAgIHRoaXMuY2hlY2tDaXJjbGUuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjVweFwiO1xuICAgICAgICB0aGlzLmNoZWNrQ2lyY2xlLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjVweFwiO1xuICAgICAgICB0aGlzLmNoZWNrQ2lyY2xlLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuICAgICAgICBpZiAoaXNDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NpcmNsZS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCIyMHB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWFpblRleHREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtYWluVGV4dERpdi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIG1haW5UZXh0RGl2LnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcImNvbHVtblwiO1xuICAgICAgICBtYWluVGV4dERpdi5zdHlsZS5mbGV4ID0gXCIxXCI7XG4gICAgICAgIHRoaXMuY2hlY2tUZXh0ID0gY3JlYXRlTmFtZShjaGVja0luZm8ubmFtZSk7XG4gICAgICAgIG1haW5UZXh0RGl2LmFwcGVuZENoaWxkKHRoaXMuY2hlY2tUZXh0KTtcbiAgICAgICAgaWYgKGNoZWNrSW5mby5kdWVkYXRlKSB7XG4gICAgICAgICAgICB2YXIgZGF0ZVRleHQgPSAobmV3IERhdGUoY2hlY2tJbmZvLmR1ZWRhdGUpKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChjaGVja0luZm8ucmVjdXJyaW5nKSB7XG4gICAgICAgICAgICAgICAgZGF0ZVRleHQgKz0gXCIgKGV2ZXJ5IFwiICsgKGNoZWNrSW5mby5yZWN1cnJpbmcpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDEgfSkgKyBcIiBkYXlcIiArIChjaGVja0luZm8ucmVjdXJyaW5nID09IDEgPyBcIilcIiA6IFwicylcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRhdGVFbGVtID0gY3JlYXRlVGV4dFNwYW4oZGF0ZVRleHQpO1xuICAgICAgICAgICAgdGhpcy5kYXRlRWxlbS5zdHlsZS5jb2xvciA9IGNoZWNrSW5mby5kdWVkYXRlIDwgRGF0ZS5ub3coKSAmJiAhY2hlY2tJbmZvLmNvbXBsZXRlZCA/IFRleHRDb2xvcnMuRmFpbHVyZSA6IFwiIzc4Nzg3OFwiO1xuICAgICAgICAgICAgbWFpblRleHREaXYuYXBwZW5kQ2hpbGQodGhpcy5kYXRlRWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrVGV4dC5zdHlsZS5tYXJnaW5Ub3AgPSBcIi0xcHhcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW0uYXBwZW5kQ2hpbGQobWFpblRleHREaXYpO1xuICAgICAgICBjb25zdCB0aGlzT2JqZWN0ID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzQ2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgICAgICB0aGlzLmVkaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIm1vZGlmeVwiO1xuICAgICAgICAgICAgdGhpcy5lZGl0QnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU21hbGxCdXR0b24pO1xuICAgICAgICAgICAgdGhpcy5lZGl0QnV0dG9uLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCI1cHhcIjtcbiAgICAgICAgICAgIHRoaXMuaXRlbS5hcHBlbmRDaGlsZCh0aGlzLmVkaXRCdXR0b24pO1xuICAgICAgICAgICAgdGhpcy5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVFZGl0UG9wdXAoY2hlY2tsaXN0LnRpbGUsIGNoZWNrbGlzdCwgY2hlY2tsaXN0LnVzZXJJbmZvLCB0aGlzT2JqZWN0LmNoZWNrSW5mbyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrQ2lyY2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpc09iamVjdC5jaGFuZ2VDaGVja2VkU3RhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjaGVja0luZm8uY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoZWNrSW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaW52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBDaGVja0l0ZW0oY2hpbGQsIGNoZWNrbGlzdCwgdHJ1ZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hhbmdlQ2hlY2tlZFN0YXRlKCkge1xuICAgICAgICB0aGlzLmNoZWNrSW5mby5jb21wbGV0ZWQgPSAhdGhpcy5jaGVja0luZm8uY29tcGxldGVkO1xuICAgICAgICB0aGlzLmNoZWNrQ2lyY2xlLmlubmVySFRNTCA9IHRoaXMuY2hlY2tJbmZvLmNvbXBsZXRlZCA/IGZpbGxlZENpcmNsZSA6IHVuZmlsbGVkQ2lyY2xlO1xuICAgICAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLUNoZWNrbGlzdHNcIiwgdXBkYXRlU3RvcmVkQ2hlY2tsaXN0cywgW3RoaXMuY2hlY2tJbmZvLCB0aGlzLmNoZWNrbGlzdCwgZmFsc2UsIHRoaXMuaXNDaGlsZF0pO1xuICAgICAgICBjb25zdCB0aGlzT2JqZWN0ID0gdGhpcztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnZXRMb2NhbFN0b3JhZ2UoXCJQTU1HLUNoZWNrbGlzdHNcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdIHx8ICFyZXN1bHRbXCJQTU1HLUNoZWNrbGlzdHNcIl1bdGhpc09iamVjdC5jaGVja2xpc3QubmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY29tcGxldGVkO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzT2JqZWN0LmNoZWNrSW5mby5pc0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdW3RoaXNPYmplY3QuY2hlY2tsaXN0Lm5hbWVdLmZpbmRJbmRleChvYmogPT4gb2JqLmNoaWxkcmVuICYmIG9iai5jaGlsZHJlbi5maW5kSW5kZXgob2JqMiA9PiBvYmoyLmlkID09IHRoaXNPYmplY3QuY2hlY2tJbmZvLmlkKSAhPSAtMSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBwYXJlbnRJbmRleCA9PSAtMSA/IC0xIDogcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdW3RoaXNPYmplY3QuY2hlY2tsaXN0Lm5hbWVdW3BhcmVudEluZGV4XS5jaGlsZHJlbi5maW5kSW5kZXgob2JqID0+IG9iai5pZCA9PSB0aGlzT2JqZWN0LmNoZWNrSW5mby5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IGNoaWxkSW5kZXggIT0gLTEgJiYgcmVzdWx0W1wiUE1NRy1DaGVja2xpc3RzXCJdW3RoaXNPYmplY3QuY2hlY2tsaXN0Lm5hbWVdW3BhcmVudEluZGV4XS5jaGlsZHJlbltjaGlsZEluZGV4XS5jb21wbGV0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlc3VsdFtcIlBNTUctQ2hlY2tsaXN0c1wiXVt0aGlzT2JqZWN0LmNoZWNrbGlzdC5uYW1lXS5maW5kSW5kZXgob2JqID0+IG9iai5pZCA9PSB0aGlzT2JqZWN0LmNoZWNrSW5mby5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IGluZGV4ICE9IC0xICYmIHJlc3VsdFtcIlBNTUctQ2hlY2tsaXN0c1wiXVt0aGlzT2JqZWN0LmNoZWNrbGlzdC5uYW1lXVtpbmRleF0uY29tcGxldGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b0RlbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzT2JqZWN0LmNoZWNrSW5mby5pc0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzT2JqZWN0LmNoZWNrSW5mby5pbnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9EZWxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzT2JqZWN0LmNoZWNrSW5mby5yZWN1cnJpbmcgJiYgdGhpc09iamVjdC5jaGVja0luZm8uZHVlZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09iamVjdC5jaGVja0luZm8uZHVlZGF0ZSArPSB0aGlzT2JqZWN0LmNoZWNrSW5mby5yZWN1cnJpbmcgKiA4NjQwMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNPYmplY3QuY2hlY2tJbmZvLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9EZWxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzT2JqZWN0LmNoZWNrSW5mby5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNPYmplY3QuY2hlY2tJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5pbnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9jYWxTdG9yYWdlKFwiUE1NRy1DaGVja2xpc3RzXCIsIHVwZGF0ZVN0b3JlZENoZWNrbGlzdHMsIFt0aGlzT2JqZWN0LmNoZWNrSW5mbywgdGhpc09iamVjdC5jaGVja2xpc3QsIHRvRGVsZXRlLCB0aGlzT2JqZWN0LmlzQ2hpbGRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMjUwMCk7XG4gICAgfVxufVxuY29uc3QgdW5maWxsZWRDaXJjbGUgPSBgPHN2ZyB3aWR0aD1cIjE1XCIgaGVpZ2h0PVwiMTVcIiB2aWV3Qm94ID0gXCIxMCAxMCA4MCA4MFwiPlxuICA8cGF0aCBkPVwiTSA1MCAxMCBBIDQwIDQwIDAgMSAwIDUwIDkwIEEgNDAgNDAgMCAxIDAgNTAgMTAgWiBNIDUwIDIwIEEgMzAgMzAgMCAxIDEgNTAgODAgQSAzMCAzMCAwIDEgMSA1MCAyMCBaXCIgZmlsbD1cIiNmN2E2MDBcIiBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMFwiIC8+XG48L3N2Zz5gO1xuY29uc3QgZmlsbGVkQ2lyY2xlID0gYDxzdmcgd2lkdGg9XCIxNVwiIGhlaWdodD1cIjE1XCIgdmlld0JveCA9IFwiMTAgMTAgODAgODBcIj5cbiAgPHBhdGggZD1cIk0gNTAgMTAgQSA0MCA0MCAwIDEgMCA1MCA5MCBBIDQwIDQwIDAgMSAwIDUwIDEwIFogTSA1MCAyMCBBIDMwIDMwIDAgMSAxIDUwIDgwIEEgMzAgMzAgMCAxIDEgNTAgMjAgWlwiIGZpbGw9XCIjZjdhNjAwXCIgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjBcIiAvPjxjaXJjbGUgY3g9XCI1MFwiIGN5PVwiNTBcIiByPVwiMjBcIiBmaWxsPVwiI2Y3YTYwMFwiIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIyXCIgLz5cbjwvc3ZnPmA7XG5mdW5jdGlvbiBjaGVja1NvcnQoYSwgYikge1xuICAgIGlmIChhLmNoZWNrSW5mby5kdWVkYXRlICYmIGIuY2hlY2tJbmZvLmR1ZWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGEuY2hlY2tJbmZvLmR1ZWRhdGUgPiBiLmNoZWNrSW5mby5kdWVkYXRlID8gMSA6IC0xO1xuICAgIH1cbiAgICBlbHNlIGlmIChhLmNoZWNrSW5mby5kdWVkYXRlICYmICFiLmNoZWNrSW5mby5kdWVkYXRlKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWEuY2hlY2tJbmZvLmR1ZWRhdGUgJiYgYi5jaGVja0luZm8uZHVlZGF0ZSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhLmNoZWNrSW5mby5jcmVhdGVkID4gYi5jaGVja0luZm8uY3JlYXRlZCA/IDEgOiAtMTtcbiAgICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9YSVQvQ2hlY2tsaXN0cy50c1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBjbGVhckNoaWxkcmVuLCBjcmVhdGVMaW5rLCBjcmVhdGVUZXh0U3BhbiwgZ2V0TG9jYWxTdG9yYWdlUHJvbWlzZSwgc2V0TG9jYWxTdG9yYWdlUHJvbWlzZSwgc2hvd1dhcm5pbmdEaWFsb2cgfSBmcm9tIFwiLi4vdXRpbFwiO1xuZXhwb3J0IGNsYXNzIE5vdGVzIHtcbiAgICBjb25zdHJ1Y3Rvcih0aWxlLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTk9URVwiO1xuICAgICAgICB0aGlzLnRpbGUgPSB0aWxlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgIH1cbiAgICBjcmVhdGVfYnVmZmVyKCkge1xuICAgICAgICBDcmVhdGVOb3Rlcyh0aGlzLnRpbGUsIHRoaXMucGFyYW1ldGVycyk7XG4gICAgfVxuICAgIHVwZGF0ZV9idWZmZXIoKSB7IH1cbiAgICBkZXN0cm95X2J1ZmZlcigpIHsgfVxufVxuY29uc3QgU3RvcmFnZU5hbWUgPSBcIlBNTUctTm90ZXNcIjtcbmZ1bmN0aW9uIENyZWF0ZU5vdGVzKHRpbGUsIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBpZiAoIXRpbGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcmFtZXRlciAndGlsZScgaXMgcmVxdWlyZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyYW1ldGVycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFyYW1ldGVyICdwYXJhbWV0ZXJzJyBpcyByZXF1aXJlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJhbWV0ZXJzWzBdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJhbWV0ZXIgJ3BhcmFtZXRlcnMnIG11c3QgY29udGFpbiBvbmUgb3IgbW9yZSB2YWx1ZXMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyQ2hpbGRyZW4odGlsZSk7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgZGlzcGxheU5vdGVzTGlzdCh0aWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3RlTmFtZSA9IHBhcmFtZXRlcnMuc2xpY2UoMSkuam9pbihcIl9cIik7XG4gICAgICAgIGxldCBuYW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmFtZURpdi5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIiwgXCJub3RlLXRpdGxlXCIpO1xuICAgICAgICBuYW1lRGl2LnRleHRDb250ZW50ID0gbm90ZU5hbWU7XG4gICAgICAgIG5hbWVEaXYuc3R5bGUucGFkZGluZ0xlZnQgPSBcIjEwcHhcIjtcbiAgICAgICAgdGlsZS5hcHBlbmQobmFtZURpdik7XG4gICAgICAgIGNvbnN0IHRleHRib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgICAgIHRleHRib3guY2xhc3NMaXN0LmFkZChcInBiLWVkaXQtZGl2XCIpO1xuICAgICAgICB0ZXh0Ym94LmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiO1xuICAgICAgICB0aWxlLmFwcGVuZENoaWxkKHRleHRib3gpO1xuICAgICAgICB5aWVsZCBkaXNwbGF5U3RvcmVkTm90ZSh0ZXh0Ym94LCBub3RlTmFtZSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwbGF5Tm90ZXNMaXN0KHRpbGUpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICByZXR1cm4gZ2V0TG9jYWxTdG9yYWdlUHJvbWlzZShTdG9yYWdlTmFtZSlcbiAgICAgICAgICAgIC50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGdlbmVyYXRlTm90ZXNUYWJsZSh2YWx1ZVtTdG9yYWdlTmFtZV0sIHRpbGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlTm90ZXNUYWJsZShub3Rlc1N0b3JhZ2UsIHRpbGUpIHtcbiAgICBpZiAoIXRpbGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFyYW1ldGVyICd0aWxlJyBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICAgIGNvbnN0IG5vdGVzVGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgY29uc3QgdGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhlYWRcIik7XG4gICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgdGhlYWQuYXBwZW5kKHRyKTtcbiAgICBub3Rlc1RhYmxlLmFwcGVuZCh0aGVhZCk7XG4gICAgZm9yIChjb25zdCB0aXRsZSBvZiBbXCJOYW1lXCIsIFwiTGVuZ3RoXCIsIFwiRGVsZXRlXCJdKSB7XG4gICAgICAgIGNvbnN0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xuICAgICAgICB0aC50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgICAgICB0aC5zdHlsZS5wYWRkaW5nVG9wID0gXCIwXCI7XG4gICAgICAgIHRyLmFwcGVuZCh0aCk7XG4gICAgfVxuICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xuICAgIG5vdGVzVGFibGUuYXBwZW5kKHRib2R5KTtcbiAgICBpZiAoIW5vdGVzU3RvcmFnZSkge1xuICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kKHRyKTtcbiAgICAgICAgY29uc3QgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIHRkLmNvbFNwYW4gPSAzO1xuICAgICAgICB0ZC50ZXh0Q29udGVudCA9IFwiTm8gTm90ZXNcIjtcbiAgICAgICAgdHIuYXBwZW5kKHRkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuYW1lcyA9IEFycmF5LmZyb20oT2JqZWN0LmtleXMobm90ZXNTdG9yYWdlKSk7XG4gICAgbmFtZXMuZm9yRWFjaChub3RlTmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdGVUZXh0ID0gbm90ZXNTdG9yYWdlW25vdGVOYW1lXTtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICB0Ym9keS5hcHBlbmQocm93KTtcbiAgICAgICAgY29uc3QgbmFtZUNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCBidXR0b25zQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICByb3cuYXBwZW5kKG5hbWVDb2x1bW4sIGxlbmd0aENvbHVtbiwgYnV0dG9uc0NvbHVtbik7XG4gICAgICAgIGNvbnN0IG9wZW5Ob3RlTGluayA9IGNyZWF0ZUxpbmsobm90ZU5hbWUsIFwiWElUIE5PVEVTX1wiICsgbm90ZU5hbWUpO1xuICAgICAgICBuYW1lQ29sdW1uLmFwcGVuZChvcGVuTm90ZUxpbmspO1xuICAgICAgICBjb25zdCBub3RlQ291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5vdGVDb3VudGVyLmlubmVySFRNTCA9IG5vdGVUZXh0O1xuICAgICAgICBjb25zdCBpbm5lclRleHQgPSBub3RlQ291bnRlci50ZXh0Q29udGVudCB8fCBcIlwiO1xuICAgICAgICBsZXQgbGVuZ3RoVGV4dCA9IGAke2lubmVyVGV4dC5sZW5ndGgudG9Mb2NhbGVTdHJpbmcoKX0gY2hhcmFjdGVyYDtcbiAgICAgICAgaWYgKG5vdGVUZXh0Lmxlbmd0aCAhPSAxKVxuICAgICAgICAgICAgbGVuZ3RoVGV4dCArPSBcInNcIjtcbiAgICAgICAgbGVuZ3RoQ29sdW1uLmFwcGVuZChjcmVhdGVUZXh0U3BhbihsZW5ndGhUZXh0KSk7XG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWJ1dHRvblwiKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnRleHRDb250ZW50ID0gXCJERUxFVEVcIjtcbiAgICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzaG93V2FybmluZ0RpYWxvZyh0aWxlLCBgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgbm90ZSBcIiR7bm90ZU5hbWV9XCI/YCwgXCJDb25maXJtXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzYXZlTm90ZShub3RlTmFtZSwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByb3cucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1dHRvbnNDb2x1bW4uYXBwZW5kKGRlbGV0ZUJ1dHRvbik7XG4gICAgfSk7XG4gICAgdGlsZS5hcHBlbmQobm90ZXNUYWJsZSk7XG59XG5mdW5jdGlvbiBzYXZlTm90ZShub3RlTmFtZSwgbm90ZVRleHQpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBsZXQgc3RvcmFnZSA9IHlpZWxkIGdldExvY2FsU3RvcmFnZVByb21pc2UoU3RvcmFnZU5hbWUpO1xuICAgICAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgICAgICAgIHN0b3JhZ2UgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW5vdGVUZXh0IHx8IG5vdGVUZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc3RvcmFnZVtTdG9yYWdlTmFtZV1bbm90ZU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RvcmFnZVtTdG9yYWdlTmFtZV1bbm90ZU5hbWVdID0gbm90ZVRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHlpZWxkIHNldExvY2FsU3RvcmFnZVByb21pc2Uoc3RvcmFnZSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwbGF5U3RvcmVkTm90ZSh0ZXh0Ym94LCBub3RlTmFtZSkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBsZXQgc3RvcmFnZVZhbHVlID0geWllbGQgZ2V0TG9jYWxTdG9yYWdlUHJvbWlzZShTdG9yYWdlTmFtZSk7XG4gICAgICAgIGxldCBub3Rlc1N0b3JhZ2UgPSBzdG9yYWdlVmFsdWVbU3RvcmFnZU5hbWVdO1xuICAgICAgICBpZiAoIW5vdGVzU3RvcmFnZSkge1xuICAgICAgICAgICAgbm90ZXNTdG9yYWdlID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vdGVUZXh0ID0gKF9hID0gbm90ZXNTdG9yYWdlW25vdGVOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIjtcbiAgICAgICAgdGV4dGJveC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbm90ZVRleHQgPSB0ZXh0Ym94LnZhbHVlO1xuICAgICAgICAgICAgc2F2ZU5vdGUobm90ZU5hbWUsIG5vdGVUZXh0KVxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2F2ZSBub3RlIHRvIGxvY2FsIHN0b3JhZ2U6ICVvXCIsIHJlYXNvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5vdGVUZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbmRlck5vdGVUZXh0KHRleHRib3gsIG5vdGVUZXh0KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHJlbmRlck5vdGVUZXh0KHRleHRib3gsIG5vdGVUZXh0KSB7XG4gICAgdGV4dGJveC52YWx1ZSA9IG5vdGVUZXh0O1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvWElUL05vdGVzLnRzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gXCIuL1NlbGVjdG9yXCI7XG5pbXBvcnQgeyBjb252ZXJ0RHVyYXRpb25Ub0VUQSwgcGFyc2VEdXJhdGlvbiwgY3JlYXRlVGV4dFNwYW4sIGdlbmVyaWNDbGVhbnVwIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNsYXNzIE9yZGVyRVRBcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1vcmRlci1ldGFcIjtcbiAgICB9XG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgZ2VuZXJpY0NsZWFudXAodGhpcy50YWcpO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIHRoaXMuYmVhdXRpZnlPcmRlcnMoKTtcbiAgICB9XG4gICAgYmVhdXRpZnlPcmRlcnMoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLlByb2RRdWV1ZSkpO1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKHF1ZXVlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2RTbG90cyA9IEFycmF5LmZyb20ocXVldWUuY2hpbGRyZW4pO1xuICAgICAgICAgICAgdmFyIGluUXVldWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBsaW5lVGltZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciB0aW1lRWxhcHNlZCA9IDA7XG4gICAgICAgICAgICBwcm9kU2xvdHMuZm9yRWFjaChwcm9kSXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2RJdGVtLmNsYXNzTGlzdC5jb250YWlucyhTZWxlY3Rvci5Qcm9kSXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpblF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2RJdGVtLmNoaWxkcmVuWzBdLmNoaWxkcmVuLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVGltZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSAtIGI7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pblRpbWUgPSBsaW5lVGltZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZUVsYXBzZWQgKz0gbWluVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVGltZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVGltZXMgPSBsaW5lVGltZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgLSBtaW5UaW1lOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHBhcnNlRHVyYXRpb24ocHJvZEl0ZW0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0udGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVUaW1lcy5wdXNoKGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGR1cmF0aW9uICsgdGltZUVsYXBzZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2RJdGVtLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKGAgKCR7Y29udmVydER1cmF0aW9uVG9FVEEoZHVyYXRpb24gKyB0aW1lRWxhcHNlZCl9KWAsIHRoaXMudGFnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBwYXJzZUR1cmF0aW9uKHByb2RJdGVtLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVGltZXMucHVzaChkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihkdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZEl0ZW0uY2hpbGRyZW5bMV0uY2hpbGRyZW5bMV0uYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oYCAoJHtjb252ZXJ0RHVyYXRpb25Ub0VUQShkdXJhdGlvbil9KWAsIHRoaXMudGFnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChUeXBlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5RdWV1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL09yZGVyRVRBcy50c1xuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgcGFyc2VCYXNlTmFtZSwgZmluZENvcnJlc3BvbmRpbmdQbGFuZXQsIGNyZWF0ZVRleHRTcGFuLCBnZXRCdWZmZXJzLCBjYWxjdWxhdGVCdXJuIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tIFwiLi9TZWxlY3RvclwiO1xuZXhwb3J0IGNsYXNzIENvbnN1bWFibGVUaW1lcnMge1xuICAgIGNvbnN0cnVjdG9yKHRocmVzaG9sZHMsIHVzZXJJbmZvKSB7XG4gICAgICAgIHRoaXMudGhyZXNob2xkcyA9IHRocmVzaG9sZHM7XG4gICAgICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbztcbiAgICB9XG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiV0ZcIik7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgYnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICBnZW5lcmF0ZUJ1cm5zKGJ1ZmZlciwgdGhpcy50aHJlc2hvbGRzIHx8IFszLCA3XSwgdGhpcy51c2VySW5mbyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQnVybnMoYnVmZmVyLCB0aHJlc2hvbGRzLCB1c2VySW5mbykge1xuICAgIGlmICghdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHdvcmtmb3JjZSA9IHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJ3b3JrZm9yY2VcIl07XG4gICAgY29uc3QgaW52ZW50b3JpZXMgPSB1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wic3RvcmFnZVwiXTtcbiAgICBpZiAoYnVmZmVyLmNsYXNzTGlzdC5jb250YWlucyhcInBiLWxvYWRlZFwiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5hbWVFbGVtID0gYnVmZmVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuV29ya2ZvcmNlQ29uc3VtcHRpb25UYWJsZSk7XG4gICAgaWYgKCFuYW1lRWxlbSB8fCAhbmFtZUVsZW0udGV4dENvbnRlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBuYW1lID0gcGFyc2VCYXNlTmFtZShuYW1lRWxlbS50ZXh0Q29udGVudCk7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IEFycmF5LmZyb20oYnVmZmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0YWJsZSA+IHRoZWFkID4gdHJcIikpO1xuICAgIGhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgICAgICBjb25zdCB0b3RhbEhlYWRlciA9IGhlYWRlci5jaGlsZHJlblsyXTtcbiAgICAgICAgY29uc3QgYnVybkhlYWRlciA9IGhlYWRlci5jaGlsZHJlblszXTtcbiAgICAgICAgdG90YWxIZWFkZXIudGV4dENvbnRlbnQgPSBcIlRvdGFsXCI7XG4gICAgICAgIGlmIChidXJuSGVhZGVyLmNoaWxkcmVuICE9IHVuZGVmaW5lZCAmJiBidXJuSGVhZGVyLmNoaWxkcmVuWzBdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYnVybkhlYWRlci5yZW1vdmVDaGlsZChidXJuSGVhZGVyLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBidXJuSGVhZGVyLnRleHRDb250ZW50ID0gXCJCdXJuXCI7XG4gICAgfSk7XG4gICAgY29uc3QgcGxhbmV0V29ya2ZvcmNlID0gZmluZENvcnJlc3BvbmRpbmdQbGFuZXQobmFtZSwgd29ya2ZvcmNlKTtcbiAgICBjb25zdCBwbGFuZXRJbnYgPSBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldChuYW1lLCBpbnZlbnRvcmllcywgdHJ1ZSk7XG4gICAgY29uc3QgcGxhbmV0QnVybiA9IGNhbGN1bGF0ZUJ1cm4obnVsbCwgcGxhbmV0V29ya2ZvcmNlLCBwbGFuZXRJbnYpO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShidWZmZXIucXVlcnlTZWxlY3RvckFsbChcInRhYmxlID4gdGJvZHkgPiB0clwiKSk7XG4gICAgZWxlbWVudHMuZm9yRWFjaCh0YXJnZXRSb3cgPT4ge1xuICAgICAgICBpZiAodGFyZ2V0Um93LmNoaWxkRWxlbWVudENvdW50IDwgNSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dERhdGEgPSB0YXJnZXRSb3cuY2hpbGRyZW5bNF07XG4gICAgICAgIGNvbnN0IHRvdGFsRGF0YSA9IHRhcmdldFJvdy5jaGlsZHJlblszXTtcbiAgICAgICAgaWYgKG91dHB1dERhdGEudGV4dENvbnRlbnQgIT0gXCJcIikge1xuICAgICAgICAgICAgY29uc3QgdGlja2VyID0gdGFyZ2V0Um93LmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xuICAgICAgICAgICAgaWYgKCF0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBidXJuQW1vdW50ID0gcGxhbmV0QnVyblt0aWNrZXJdID8gcGxhbmV0QnVyblt0aWNrZXJdW1wiRGFpbHlBbW91bnRcIl0gOiAwO1xuICAgICAgICAgICAgdmFyIGRheXNMZWZ0ID0gcGxhbmV0QnVyblt0aWNrZXJdID8gcGxhbmV0QnVyblt0aWNrZXJdW1wiRGF5c0xlZnRcIl0gOiAwO1xuICAgICAgICAgICAgaWYgKGJ1cm5BbW91bnQgIT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChkYXlzTGVmdCA8PSB0aHJlc2hvbGRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3V0cHV0RGF0YS5jbGFzc0xpc3QuY29udGFpbnMoXCJidXJuLXJlZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dERhdGEuY2xhc3NMaXN0LmFkZChcImJ1cm4tcmVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXlzTGVmdCA8PSB0aHJlc2hvbGRzWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3V0cHV0RGF0YS5jbGFzc0xpc3QuY29udGFpbnMoXCJidXJuLXllbGxvd1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dERhdGEuY2xhc3NMaXN0LmFkZChcImJ1cm4teWVsbG93XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXlzTGVmdCA+PSA1MDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXRwdXREYXRhLmNsYXNzTGlzdC5jb250YWlucyhcImJ1cm4tZ3JlZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dERhdGEuY2xhc3NMaXN0LmFkZChcImJ1cm4tZ3JlZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlzTGVmdCA9IFwi4oieXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3V0cHV0RGF0YS5jbGFzc0xpc3QuY29udGFpbnMoXCJidXJuLWdyZWVuXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0RGF0YS5jbGFzc0xpc3QuYWRkKFwiYnVybi1ncmVlblwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihkYXlzTGVmdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5c0xlZnQgPSBkYXlzTGVmdC50b0ZpeGVkKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF5c0xlZnQgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkYXlzTGVmdCArPSBcIiBEYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRheXNMZWZ0ICs9IFwiIERheXNcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXlzTGVmdCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZmlyc3RDaGlsZCA9IG91dHB1dERhdGEuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGlmIChmaXJzdENoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXREYXRhLnJlbW92ZUNoaWxkKGZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0cHV0RGF0YS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihkYXlzTGVmdCkpO1xuICAgICAgICAgICAgZmlyc3RDaGlsZCA9IHRvdGFsRGF0YS5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKGZpcnN0Q2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRvdGFsRGF0YS5yZW1vdmVDaGlsZChmaXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdGFsRGF0YS5hcHBlbmRDaGlsZChjcmVhdGVUZXh0U3BhbihidXJuQW1vdW50ID09IDAgPyBcIlwiIDogKC1idXJuQW1vdW50KS50b0ZpeGVkKDIpKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBidWZmZXIuY2xhc3NMaXN0LmFkZChcInBiLWxvYWRlZFwiKTtcbiAgICByZXR1cm47XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9Db25zdW1hYmxlVGltZXJzLnRzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBjb252ZXJ0RHVyYXRpb25Ub0VUQSwgcGFyc2VEdXJhdGlvbiwgY3JlYXRlVGV4dFNwYW4sIGdlbmVyaWNDbGVhbnVwLCBnZXRCdWZmZXJzIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNsYXNzIEZsZWV0RVRBcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1mbHQtZXRhXCI7XG4gICAgfVxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIGdlbmVyaWNDbGVhbnVwKHRoaXMudGFnKTtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZ2V0QnVmZmVycyhcIkZMVFwiKTtcbiAgICAgICAgaWYgKGJ1ZmZlcnMgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCBidWZmZXIgb2YgYnVmZmVycykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGJ1ZmZlci5xdWVyeVNlbGVjdG9yQWxsKFwidGFibGUgPiB0Ym9keSA+IHRyXCIpKTtcbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2godGFyZ2V0Um93ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBldGFEYXRhID0gdGFyZ2V0Um93LmNoaWxkcmVuWzddO1xuICAgICAgICAgICAgICAgIGlmIChldGFEYXRhLnRleHRDb250ZW50ICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXRhID0gY29udmVydER1cmF0aW9uVG9FVEEocGFyc2VEdXJhdGlvbihldGFEYXRhLnRleHRDb250ZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIGV0YURhdGEuYXBwZW5kQ2hpbGQoY3JlYXRlVGV4dFNwYW4oYCAoJHtldGF9KWAsIHRoaXMudGFnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0ZsZWV0RVRBcy50c1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tIFwiLi9TZWxlY3RvclwiO1xuaW1wb3J0IHsgTWF0ZXJpYWxzLCBDdXJyZW5jeVN5bWJvbHMgfSBmcm9tIFwiLi9HYW1lUHJvcGVydGllc1wiO1xuaW1wb3J0IHsgY3JlYXRlVGV4dFNwYW4sIGdlbmVyaWNDbGVhbnVwIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNsYXNzIFBvc3RMTSB7XG4gICAgY29uc3RydWN0b3Iod2ViRGF0YSkge1xuICAgICAgICB0aGlzLmNsZWFudXBzID0gW107XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1wb3N0LWxtLXByaWNlXCI7XG4gICAgICAgIHRoaXMud2ViRGF0YSA9IHdlYkRhdGE7XG4gICAgfVxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cHMuZm9yRWFjaCgoZiwgaSkgPT4ge1xuICAgICAgICAgICAgZigpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2xlYW51cHNbaV07XG4gICAgICAgIH0pO1xuICAgICAgICBnZW5lcmljQ2xlYW51cCh0aGlzLnRhZyk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkxNUG9zdEZvcm0pKS5mb3JFYWNoKGZvcm0gPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IEFycmF5LmZyb20oZm9ybS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiU3RhdGljSW5wdXRfX3N0YXRpY19fX1ZwbjF1MG4gZm9ybXNfX3N0YXRpY19fX2E0YmlEaTRcIikpO1xuICAgICAgICAgICAgdmFyIHNoaXBwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBlbGVtIG9mIHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS50ZXh0Q29udGVudCA9PSBcIlNISVBQSU5HXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpcHBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb21tb2RpdHkgPSBkb2N1bWVudC5ldmFsdWF0ZShcImRpdltsYWJlbC9zcGFuW3RleHQoKT0nQ29tbW9kaXR5J11dLy9pbnB1dFwiLCBmb3JtLCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50SW5wdXQgPSBkb2N1bWVudC5ldmFsdWF0ZShcImRpdltsYWJlbC9zcGFuW3RleHQoKT0nQW1vdW50J11dLy9pbnB1dFwiLCBmb3JtLCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlO1xuICAgICAgICAgICAgY29uc3QgdG90YWxQcmljZUlucHV0ID0gZG9jdW1lbnQuZXZhbHVhdGUoXCJkaXZbbGFiZWwvc3Bhblt0ZXh0KCk9J1RvdGFsIHByaWNlJ11dLy9pbnB1dFwiLCBmb3JtLCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlO1xuICAgICAgICAgICAgY29uc3QgY3VycmVuY3lJbnB1dCA9IGRvY3VtZW50LmV2YWx1YXRlKFwiZGl2W2xhYmVsL3NwYW5bdGV4dCgpPSdDdXJyZW5jeSddXS8vc2VsZWN0XCIsIGZvcm0sIG51bGwsIFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7XG4gICAgICAgICAgICB2YXIgZGlzcGxheUVsZW1lbnQgPSBjcmVhdGVUZXh0U3BhbihcIi0tXCIsIHRoaXMudGFnKTtcbiAgICAgICAgICAgIGlmIChzaGlwcGluZyAmJiBjb21tb2RpdHkudmFsdWUgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHRvdGFsUHJpY2VJbnB1dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXNwbGF5RWxlbWVudCwgdG90YWxQcmljZUlucHV0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVQcmljZVBlclVuaXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlSW50KGFtb3VudElucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBwYXJzZUZsb2F0KHRvdGFsUHJpY2VJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdEluZm8gPSBNYXRlcmlhbHNbY29tbW9kaXR5LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVuY3kgPSBjdXJyZW5jeUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVuY3lTeW1ib2w7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW5jeSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5U3ltYm9sID0gQ3VycmVuY3lTeW1ib2xzW2N1cnJlbmN5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5U3ltYm9sID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVuY3lTeW1ib2wgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeVN5bWJvbCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdEluZm8gPT0gdW5kZWZpbmVkIHx8IG1hdEluZm8gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVuaXQgPSBtYXRJbmZvWzFdID49IG1hdEluZm9bMl0gPyBcInRcIiA6IFwibcKzXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdlaWdodHZvbHVtZSA9IE1hdGgubWF4KG1hdEluZm9bMV0sIG1hdEluZm9bMl0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4od2VpZ2h0dm9sdW1lKSB8fCBpc05hTih0b3RhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlFbGVtZW50LnRleHRDb250ZW50ID0gXCItLSB0IHwgXCIgKyBjdXJyZW5jeVN5bWJvbCArIFwiLS0gLyB0XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5RWxlbWVudC50ZXh0Q29udGVudCA9IChhbW91bnQgKiB3ZWlnaHR2b2x1bWUpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMCB9KSArIFwiIFwiICsgdW5pdCArIFwiIHwgXCIgKyBjdXJyZW5jeVN5bWJvbCArICh0b3RhbCAvIChhbW91bnQgKiB3ZWlnaHR2b2x1bWUpKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLCBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAgfSkgKyBcIiAvIFwiICsgdW5pdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlUHJpY2VQZXJVbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy53ZWJEYXRhW1wiY3VzdG9tX3ByaWNlc1wiXSB8fCBPYmplY3Qua2V5cyh0aGlzLndlYkRhdGFbXCJjdXN0b21fcHJpY2VzXCJdKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHRvdGFsUHJpY2VJbnB1dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXNwbGF5RWxlbWVudCwgdG90YWxQcmljZUlucHV0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVQcmljZVBlclVuaXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlSW50KGFtb3VudElucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBwYXJzZUZsb2F0KHRvdGFsUHJpY2VJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gY3VycmVuY3lJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbmN5U3ltYm9sO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5U3ltYm9sID0gQ3VycmVuY3lTeW1ib2xzW2N1cnJlbmN5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5U3ltYm9sID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbmN5U3ltYm9sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeVN5bWJvbCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHRvdGFsKSB8fCBpc05hTihhbW91bnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUVsZW1lbnQudGV4dENvbnRlbnQgPSBjdXJyZW5jeVN5bWJvbCArICh0b3RhbCAvIGFtb3VudCkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pICsgXCIgZWFcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlUHJpY2VQZXJVbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb21tb2RpdHkudmFsdWUgJiYgTWF0ZXJpYWxzW2NvbW1vZGl0eS52YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICB0b3RhbFByaWNlSW5wdXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZGlzcGxheUVsZW1lbnQsIHRvdGFsUHJpY2VJbnB1dCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlUHJpY2VQZXJVbml0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludChhbW91bnRJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gcGFyc2VGbG9hdCh0b3RhbFByaWNlSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW5jeSA9IGN1cnJlbmN5SW5wdXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW5jeVN5bWJvbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lTeW1ib2wgPSBDdXJyZW5jeVN5bWJvbHNbY3VycmVuY3ldIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeVN5bWJvbCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlID0gTWF0ZXJpYWxzW2NvbW1vZGl0eS52YWx1ZV0gPyB0aGlzLndlYkRhdGFbXCJjdXN0b21fcHJpY2VzXCJdW01hdGVyaWFsc1tjb21tb2RpdHkudmFsdWVdWzBdXSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc05hTihhbW91bnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IFwiIHwgXCIgKyAocHJpY2UgKiBhbW91bnQpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgeyBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KSArIFwiIFRvdGFsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUVsZW1lbnQudGV4dENvbnRlbnQgPSBjdXJyZW5jeVN5bWJvbCArICh0b3RhbCAvIGFtb3VudCkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pICsgXCIgZWFcIiArIChwcmljZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYWxjdWxhdGVQcmljZVBlclVuaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvUG9zdExNLnRzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gXCIuL1NlbGVjdG9yXCI7XG5pbXBvcnQgeyBjcmVhdGVUZXh0U3BhbiwgZ2VuZXJpY0NsZWFudXAgfSBmcm9tIFwiLi91dGlsXCI7XG5leHBvcnQgY2xhc3MgU2hpcHBpbmdBZHMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhZyA9IFwicGItc2hpcHBpbmctYWRzXCI7XG4gICAgfVxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIGdlbmVyaWNDbGVhbnVwKHRoaXMudGFnKTtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuTE1Db21tb2RpdHlBZFRleHQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0ZXh0ICYmIHRleHQubWF0Y2goLyg/OlNISVBQSU5HKVxccyhbXFxkLC5dKyl0XFxzXFwvXFxzKFtcXGQsLl0rKW3Cs1xcc0BcXHMoW1xcZCwuXSspXFxzW0EtWl0rXFxzZnJvbS8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxDb3N0ID0gbWF0Y2hlc1szXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b25uYWdlID0gcGFyc2VGbG9hdChtYXRjaGVzWzFdLnJlcGxhY2UoL1ssLl0vZywgJycpKSAvIDEwMDtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gcGFyc2VGbG9hdChtYXRjaGVzWzJdLnJlcGxhY2UoL1ssLl0vZywgJycpKSAvIDEwMDtcbiAgICAgICAgICAgICAgICB2YXIgdW5pdDtcbiAgICAgICAgICAgICAgICB2YXIgY291bnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRvbm5hZ2UgPiBzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSAndCc7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ID0gdG9ubmFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSAnbcKzJztcbiAgICAgICAgICAgICAgICAgICAgY291bnQgPSBzaXplO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbENlbnRzID0gcGFyc2VJbnQodG90YWxDb3N0LnJlcGxhY2UoL1ssLl0vZywgJycpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJJdGVtID0gKHRvdGFsQ2VudHMgLyBjb3VudCAvIDEwMCkudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLCB7IG1heGltdW1GcmFjdGlvbkRpZ2l0czogMiB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmljZVNwYW4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuTE1Db21tb2RpdHlBZFByaWNlU3Bhbik7XG4gICAgICAgICAgICAgICAgcHJpY2VTcGFuLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKGAgKCR7cGVySXRlbX0vJHt1bml0fSlgLCB0aGlzLnRhZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9TaGlwcGluZ0Fkcy50c1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tIFwiLi9TZWxlY3RvclwiO1xuaW1wb3J0IHsgY3JlYXRlVGV4dFNwYW4sIGdlbmVyaWNDbGVhbnVwLCBwYXJzZUR1cmF0aW9uIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNsYXNzIFF1ZXVlTG9hZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1xdWV1ZS1sb2FkXCI7XG4gICAgfVxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIGdlbmVyaWNDbGVhbnVwKHRoaXMudGFnKTtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVF1ZXVlTG9hZCgpO1xuICAgIH1cbiAgICBnZXRFdGFGcm9tUm93KHJvdykge1xuICAgICAgICBjb25zdCBldGFDZWxsID0gcm93LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZFwiKS5pdGVtKDUpO1xuICAgICAgICBpZiAoZXRhQ2VsbCkge1xuICAgICAgICAgICAgY29uc3QgZXRhU3BhbiA9IGV0YUNlbGwucXVlcnlTZWxlY3RvcihcInNwYW5cIik7XG4gICAgICAgICAgICBpZiAoZXRhU3Bhbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV0YSA9IHBhcnNlRHVyYXRpb24oZXRhU3Bhbi50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY2FsY3VsYXRlUXVldWVMb2FkKCkge1xuICAgICAgICBjb25zdCB0YWJsZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuUHJvZFF1ZXVlVGFibGUpKTtcbiAgICAgICAgdGFibGVzLmZvckVhY2godGFibGUgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm93cyA9IEFycmF5LmZyb20odGFibGUucXVlcnlTZWxlY3RvckFsbChcInRib2R5Om50aC1vZi10eXBlKDIpID4gdHJcIikpO1xuICAgICAgICAgICAgY29uc3QgdG90YWxUaW1lID0gcm93cy5yZWR1Y2UoKHRvdGFsLCByb3cpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdGhpcy5nZXRFdGFGcm9tUm93KHJvdyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgbjtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgaWYgKHRvdGFsVGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICByb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXRhID0gdGhpcy5nZXRFdGFGcm9tUm93KHJvdyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSAoZXRhIC8gdG90YWxUaW1lICogMTAwKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0RmllbGQgPSByb3cucXVlcnlTZWxlY3RvckFsbChcInRkXCIpLml0ZW0oNik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0RmllbGQgJiYgZXRhID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGNyZWF0ZVRleHRTcGFuKGAgJHtwZXJjZW50fSVgLCB0aGlzLnRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0RmllbGQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvUXVldWVMb2FkLnRzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gXCIuL1NlbGVjdG9yXCI7XG5pbXBvcnQgeyBnZW5lcmljQ2xlYW51cCB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IE1hdGVyaWFscyB9IGZyb20gXCIuL0dhbWVQcm9wZXJ0aWVzXCI7XG5leHBvcnQgY2xhc3MgTm90aWZpY2F0aW9ucyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1ub3RzXCI7XG4gICAgfVxuICAgIGNsZWFudXAoZnVsbCA9IGZhbHNlKSB7XG4gICAgICAgIGZ1bGwgJiYgZ2VuZXJpY0NsZWFudXAodGhpcy50YWcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLk5vdGlmaWNhdGlvbik7XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5maXJzdENoaWxkICYmIGVsZW1lbnQuZmlyc3RDaGlsZC5jbGFzc0xpc3QuY29udGFpbnModGhpcy50YWcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBlbGVtZW50LmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xuICAgICAgICAgICAgaWYgKHRleHRDb250ZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBmb3VuZFR5cGUgPSBmYWxzZTtcbiAgICAgICAgICAgIFNlYXJjaGVycy5mb3JFYWNoKHNlYXJjaCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdGV4dC5tYXRjaChuZXcgUmVnRXhwKHNlYXJjaFswXSkpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kVHlwZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZVNwYW4udGV4dENvbnRlbnQgPSBzZWFyY2hbMV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdHlwZVNwYW4uY2xhc3NMaXN0LmFkZCh0aGlzLnRhZyk7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVTcGFuLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVTcGFuLnN0eWxlLmNvbG9yID0gc2VhcmNoWzJdO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZSh0eXBlU3BhbiwgZWxlbWVudC5jaGlsZHJlblswXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm90VGV4dCA9IGVsZW1lbnQuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RUZXh0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub3RUZXh0ID0gbm90VGV4dC5yZXBsYWNlKC9DaGFtYmVyIG9mIEdsb2JhbCBDb21tZXJjZS8sIFwiQ09HQ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzZWFyY2hbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcm9kdWNlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdFRleHQgPSBub3RUZXh0LnJlcGxhY2UoL2F0IHlvdXIgYmFzZSAvLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RUZXh0ID0gbm90VGV4dC5yZXBsYWNlKC9PbmUgLywgXCIxIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RUZXh0ID0gbm90VGV4dC5yZXBsYWNlKC8gaGF2ZSBiZWVuLywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90VGV4dCA9IG5vdFRleHQucmVwbGFjZSgvIHVuaXRbc10/IG9mLywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyA9IG5vdFRleHQubWF0Y2goLyAoW0EteiAtXSspIHByb2R1Y2VkLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgIT0gbnVsbCAmJiBtYXRjaGVzWzFdICE9IHVuZGVmaW5lZCAmJiBNYXRlcmlhbHNbbWF0Y2hlc1sxXV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdFRleHQgPSBub3RUZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChtYXRjaGVzWzFdKSwgTWF0ZXJpYWxzW21hdGNoZXNbMV1dWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJhZGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gbm90VGV4dC5tYXRjaCgveW91ciAoW0EteiAtXSspIG9yZGVyLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgIT0gbnVsbCAmJiBtYXRjaGVzWzFdICE9IHVuZGVmaW5lZCAmJiBNYXRlcmlhbHNbbWF0Y2hlc1sxXV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdFRleHQgPSBub3RUZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChtYXRjaGVzWzFdKSwgTWF0ZXJpYWxzW21hdGNoZXNbMV1dWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3JkZXIgZmlsbGVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90VGV4dCA9IG5vdFRleHQucmVwbGFjZSgvIENvbW1vZGl0eSBFeGNoYW5nZS8sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgPSBub3RUZXh0Lm1hdGNoKC8oW0EteiAtXSspIG9yZGVyLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgIT0gbnVsbCAmJiBtYXRjaGVzWzFdICE9IHVuZGVmaW5lZCAmJiBNYXRlcmlhbHNbbWF0Y2hlc1sxXV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdFRleHQgPSBub3RUZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChtYXRjaGVzWzFdKSwgTWF0ZXJpYWxzW21hdGNoZXNbMV1dWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWNjZXB0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RUZXh0ID0gbm90VGV4dC5yZXBsYWNlKC8gdGhlLywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90VGV4dCA9IG5vdFRleHQucmVwbGFjZSgvIGxvY2FsIG1hcmtldC8sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbnRyYWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90VGV4dCA9IG5vdFRleHQucmVwbGFjZSgvWW91ciBwYXJ0bmVyIC8sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFycml2ZWQgYXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RUZXh0ID0gbm90VGV4dC5yZXBsYWNlKC9pdHMgZGVzdGluYXRpb24gLywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29nY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNoYW1iZXIgb2YgZ2xvYmFsIGNvbW1lcmNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90VGV4dCA9IG5vdFRleHQucmVwbGFjZSgvIGEgbmV3IGVjb25vbWljIHByb2dyYW0vLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RUZXh0ID0gbm90VGV4dC5yZXBsYWNlKC8gQWR2ZXJ0aXNpbmcgQ2FtcGFpZ246LywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jaGlsZHJlblsxXS50ZXh0Q29udGVudCA9IG5vdFRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuY29uc3QgU2VhcmNoZXJzID0gW1xuICAgIFtcImNvbnRyYWN0XCIsIFwiY29udHJhY3RcIiwgXCJyZ2IoMjQ3LCAxNjYsIDApXCJdLFxuICAgIFtcIm91ciBjb3Jwb3JhdGlvblwiLCBcImNvcnBcIiwgXCIjOGY1MmNjXCJdLFxuICAgIFtcImFjY2VwdGVkIG91ciBpbnZpdGF0aW9uXCIsIFwiY29ycFwiLCBcIiM4ZjUyY2NcIl0sXG4gICAgW1wicHJvZHVjZWRcIiwgXCJwcm9kdWNlZFwiLCBcIiMzZmEyZGVcIl0sXG4gICAgW1wiYWNjZXB0ZWRcIiwgXCJhZHZlcnRcIiwgXCIjNDQ5YzU3XCJdLFxuICAgIFtcImV4cGlyZWRcIiwgXCJhZHZlcnRcIiwgXCIjNDQ5YzU3XCJdLFxuICAgIFtcInRyYWRlXCIsIFwidHJhZGVcIiwgXCIjMDA4MDAwXCJdLFxuICAgIFtcIm9yZGVyIGZpbGxlZFwiLCBcIm9yZGVyXCIsIFwiI2NjMjkyOVwiXSxcbiAgICBbXCJhcnJpdmVkIGF0XCIsIFwiYXJyaXZhbFwiLCBcIiNiMzM2YjNcIl0sXG4gICAgW1wicmVwb3J0XCIsIFwicmVwb3J0XCIsIFwiIzAwYWE3N1wiXSxcbiAgICBbXCJlbGVjdGlvblwiLCBcImVsZWN0aW9uXCIsIFwiIzhmNTJjY1wiXSxcbiAgICBbXCJnb3Zlcm5vclwiLCBcImdvdmVybm9yXCIsIFwiIzhmNTJjY1wiXSxcbiAgICBbXCJydWxlc1wiLCBcInJ1bGVzXCIsIFwiIzhmNTJjY1wiXSxcbiAgICBbXCJjb2djXCIsIFwiQ09HQ1wiLCBcIiM4ZjUyY2NcIl0sXG4gICAgW1wiY2hhbWJlciBvZiBnbG9iYWwgY29tbWVyY2VcIiwgXCJDT0dDXCIsIFwiIzhmNTJjY1wiXSxcbiAgICBbXCJleHBlcnRcIiwgXCJleHBlcnRcIiwgXCIjZmY4YTAwXCJdLFxuICAgIFtcInBvcHVsYXRpb24gaW5mcmFzdHJ1Y3R1cmUgcHJvamVjdFwiLCBcIlBPUElcIiwgXCIjOGY1MmNjXCJdLFxuICAgIFtcImFwZXhcIiwgXCJ1cGRhdGVcIiwgXCIjMDBhYTc3XCJdLFxuICAgIFtcIndhcmVob3VzXCIsIFwid2FyXCIsIFwiI2NjMjkyOVwiXSxcbiAgICBbXCJzaGlwYnVpbGRpbmcgcHJvamVjdFwiLCBcInNoaXBcIiwgXCIjOGY1MmNjXCJdLFxuICAgIFtcInBsYW5ldGFyeSBwcm9qZWN0XCIsIFwiaW5mcmFcIiwgXCIjOGY1MmNjXCJdLFxuICAgIFtcImNvbnN1bWFibGUgc3VwcGxpZXNcIiwgXCJzdXBwbGllc1wiLCBcIiNiMzdiMzJcIl1cbl07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9Ob3RpZmljYXRpb25zLnRzXG4vLyBtb2R1bGUgaWQgPSAzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBzZXRTZXR0aW5ncyB9IGZyb20gXCIuL3V0aWxcIjtcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmljZXMod2ViRGF0YSwgc2hlZXRVUkwsIHNoZWV0TmFtZSkge1xuICAgIGlmICghc2hlZXRVUkwgfHwgIXNoZWV0TmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlBNTUc6IEN1c3RvbSBQcmljZXMgVGltZW91dFwiKTtcbiAgICB9O1xuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHdlYkRhdGFbXCJjdXN0b21fcHJpY2VzXCJdID0ge307XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBSZXRyZWl2ZWQgQ3VzdG9tIFByaWNlc1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgcHJpY2VEYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocHJpY2VEYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE1NRzogQ3VzdG9tIFByaWNlcyBcIiArIHByaWNlRGF0YS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXByaWNlRGF0YS5wcmljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBObyBEYXRhIGZyb20gQ3VzdG9tIFByaWNlc1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJpY2VEYXRhLnByaWNlcy5mb3JFYWNoKHByaWNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2ViRGF0YVtcImN1c3RvbV9wcmljZXNcIl1bcHJpY2VbMF1dID0gcHJpY2VbMV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cod2ViRGF0YVtcImN1c3RvbV9wcmljZXNcIl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKFN5bnRheEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBCYWQgRGF0YSBmcm9tIEN1c3RvbSBQcmljZXNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgY29uc3Qgc2hlZXRJRCA9IHNoZWV0VVJMLm1hdGNoKC9cXC9kXFwvKFteXFwvXSspLyk7XG4gICAgaWYgKCFzaGVldElEIHx8ICFzaGVldElEWzFdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGFkZHJlc3MgPSBcImh0dHBzOi8vc2NyaXB0Lmdvb2dsZS5jb20vbWFjcm9zL3MvQUtmeWNid2R4R3gtT0JWc2xGZVhTU3YtRl9kNTVYX0JUUHMyMHZUTU5pVDhEOWVJQWtiY2NrWGg5WEFrWDlmZEJNSXYxWHJZL2V4ZWM/aWQ9XCIgKyBzaGVldElEWzFdICsgXCImc2hlZXQ9XCIgKyBzaGVldE5hbWU7XG4gICAgeGhyLnRpbWVvdXQgPSAxMDAwMDtcbiAgICB4aHIub3BlbihcIkdFVFwiLCBhZGRyZXNzLCB0cnVlKTtcbiAgICB4aHIuc2VuZChudWxsKTtcbiAgICByZXR1cm47XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q1hQcmljZXModXNlckluZm8pIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBDWCBQcmljZSBUaW1lb3V0XCIpO1xuICAgIH07XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBSZXRyZWl2ZWQgQ1ggUHJpY2VzXCIpO1xuICAgICAgICAgICAgICAgIHZhciBwcmljZURhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhbnRlZFJlc3VsdHMgPSBbXCJBc2tQcmljZVwiLCBcIkJpZFByaWNlXCIsIFwiQXZlcmFnZVwiLCBcIkFza0F2YWlsXCIsIFwiQmlkQXZhaWxcIl07XG4gICAgICAgICAgICAgICAgY29uc3QgQ1hzID0gW1wiQUkxXCIsIFwiQ0kxXCIsIFwiQ0kyXCIsIFwiSUMxXCIsIFwiTkMxXCIsIFwiTkMyXCJdO1xuICAgICAgICAgICAgICAgIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJjeF9wcmljZXNcIl0gPSB7fTtcbiAgICAgICAgICAgICAgICBDWHMuZm9yRWFjaChDWCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJjeF9wcmljZXNcIl1bQ1hdID0ge307XG4gICAgICAgICAgICAgICAgICAgIHdhbnRlZFJlc3VsdHMuZm9yRWFjaCh3YW50ZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImN4X3ByaWNlc1wiXVtDWF1bd2FudGVkXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VEYXRhLmZvckVhY2gobWF0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdW1wiY3hfcHJpY2VzXCJdW0NYXVt3YW50ZWRdW21hdFtcIlRpY2tlclwiXV0gPSBtYXRbQ1ggKyBcIi1cIiArIHdhbnRlZF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImN4X3ByaWNlc1wiXVtcIkFnZVwiXSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgc2V0U2V0dGluZ3ModXNlckluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKFN5bnRheEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBCYWQgRGF0YSBmcm9tIFJhaW4gUHJpY2VzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIHhoci50aW1lb3V0ID0gMTAwMDA7XG4gICAgeGhyLm9wZW4oXCJHRVRcIiwgXCJodHRwczovL3Jlc3QuZm5hci5uZXRcIiArIFwiL3JhaW4vcHJpY2VzXCIsIHRydWUpO1xuICAgIHhoci5zZW5kKG51bGwpO1xuICAgIHJldHVybjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRCdXJuKHdlYkRhdGEsIHVzZXJuYW1lLCBhcGlrZXkpIHtcbiAgICBpZiAoIXdlYkRhdGFbXCJidXJuXCJdKSB7XG4gICAgICAgIHdlYkRhdGFbXCJidXJuXCJdID0ge307XG4gICAgfVxuICAgIGlmICghYXBpa2V5IHx8ICF1c2VybmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHdlYkRhdGFbXCJidXJuXCJdW3VzZXJuYW1lXSA9IFtdO1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlBNTUc6IEZJTyBCdXJuIFRpbWVvdXRcIik7XG4gICAgICAgIHdlYkRhdGFbXCJidXJuXCJdW3VzZXJuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE1NRzogUmV0cmVpdmVkIEJ1cm4gZnJvbSBGSU9cIik7XG4gICAgICAgICAgICAgICAgdmFyIGJ1cm5EYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICBidXJuRGF0YS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3ZWJEYXRhW1wiYnVyblwiXVt1c2VybmFtZV0ucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChTeW50YXhFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE1NRzogQmFkIERhdGEgZnJvbSBGSU9cIik7XG4gICAgICAgICAgICAgICAgd2ViRGF0YVtcImJ1cm5cIl1bdXNlcm5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIHhoci50aW1lb3V0ID0gMjAwMDA7XG4gICAgdmFyIGFkZHJlc3MgPSBcImh0dHBzOi8vcmVzdC5mbmFyLm5ldFwiICsgXCIvZmlvd2ViL2J1cm4vdXNlci9cIiArIHVzZXJuYW1lO1xuICAgIHhoci5vcGVuKFwiR0VUXCIsIGFkZHJlc3MsIHRydWUpO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBhcGlrZXkpO1xuICAgIHhoci5zZW5kKG51bGwpO1xuICAgIHJldHVybjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRHcm91cEJ1cm4od2ViRGF0YSwgZ3JvdXBpZCwgYXBpa2V5KSB7XG4gICAgaWYgKCF3ZWJEYXRhW1wiYnVyblwiXSkge1xuICAgICAgICB3ZWJEYXRhW1wiYnVyblwiXSA9IHt9O1xuICAgIH1cbiAgICBpZiAoIWFwaWtleSB8fCAhZ3JvdXBpZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlBNTUc6IEZJTyBCdXJuIFRpbWVvdXRcIik7XG4gICAgICAgIHdlYkRhdGFbXCJidXJuXCJdW2dyb3VwaWRdID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBSZXRyZWl2ZWQgR3JvdXAgQnVybiBmcm9tIEZJT1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgYnVybkRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIHdlYkRhdGFbXCJidXJuXCJdW2dyb3VwaWRdID0gW107XG4gICAgICAgICAgICAgICAgYnVybkRhdGEuZm9yRWFjaChkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2ViRGF0YVtcImJ1cm5cIl1bZ3JvdXBpZF0ucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChTeW50YXhFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE1NRzogQmFkIERhdGEgZnJvbSBGSU9cIik7XG4gICAgICAgICAgICAgICAgd2ViRGF0YVtcImJ1cm5cIl1bZ3JvdXBpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgeGhyLnRpbWVvdXQgPSAyMDAwMDtcbiAgICB2YXIgYWRkcmVzcyA9IFwiaHR0cHM6Ly9yZXN0LmZuYXIubmV0XCIgKyBcIi9maW93ZWIvYnVybi9ncm91cC9cIiArIGdyb3VwaWQ7XG4gICAgeGhyLm9wZW4oXCJHRVRcIiwgYWRkcmVzcywgdHJ1ZSk7XG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIGFwaWtleSk7XG4gICAgeGhyLnNlbmQobnVsbCk7XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1cm5TZXR0aW5ncyh3ZWJEYXRhLCB1c2VybmFtZSwgYXBpa2V5KSB7XG4gICAgd2ViRGF0YVtcImJ1cm5fc2V0dGluZ3NcIl0gPSBbXTtcbiAgICB3ZWJEYXRhW1wiYnVybl9zZXR0aW5nc1wiXS5wdXNoKFwibG9hZGluZ1wiKTtcbiAgICBpZiAoIWFwaWtleSB8fCAhdXNlcm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBGSU8gQnVybiBTZXR0aW5ncyBUaW1lb3V0XCIpO1xuICAgIH07XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBSZXRyZWl2ZWQgQnVybiBTZXR0aW5ncyBmcm9tIEZJT1wiKTtcbiAgICAgICAgICAgICAgICB3ZWJEYXRhW1wiYnVybl9zZXR0aW5nc1wiXVswXSA9IFwibG9hZGVkXCI7XG4gICAgICAgICAgICAgICAgdmFyIGJ1cm5EYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICBidXJuRGF0YS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3ZWJEYXRhW1wiYnVybl9zZXR0aW5nc1wiXS5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKFN5bnRheEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBCYWQgRGF0YSBmcm9tIEZJT1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICB4aHIudGltZW91dCA9IDEwMDAwO1xuICAgIHZhciBhZGRyZXNzID0gXCJodHRwczovL3Jlc3QuZm5hci5uZXRcIiArIFwiL3VzZXJzZXR0aW5ncy9idXJucmF0ZS9cIiArIHVzZXJuYW1lO1xuICAgIHhoci5vcGVuKFwiR0VUXCIsIGFkZHJlc3MsIHRydWUpO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBhcGlrZXkpO1xuICAgIHhoci5zZW5kKG51bGwpO1xuICAgIHJldHVybjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRDWE9TKHdlYkRhdGEsIHVzZXJuYW1lLCBhcGlrZXkpIHtcbiAgICBpZiAoIWFwaWtleSB8fCAhdXNlcm5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBGSU8gQ1hPUyBUaW1lb3V0XCIpO1xuICAgIH07XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBSZXRyZWl2ZWQgQ1hPUyBmcm9tIEZJT1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgY3hvc0RhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIHdlYkRhdGFbXCJjeG9zXCJdID0gW107XG4gICAgICAgICAgICAgICAgY3hvc0RhdGEuZm9yRWFjaChkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2ViRGF0YVtcImN4b3NcIl0ucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChTeW50YXhFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUE1NRzogQmFkIERhdGEgZnJvbSBGSU9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgeGhyLnRpbWVvdXQgPSAxMDAwMDtcbiAgICB2YXIgYWRkcmVzcyA9IFwiaHR0cHM6Ly9yZXN0LmZuYXIubmV0XCIgKyBcIi9jeG9zL1wiICsgdXNlcm5hbWU7XG4gICAgeGhyLm9wZW4oXCJHRVRcIiwgYWRkcmVzcywgdHJ1ZSk7XG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIGFwaWtleSk7XG4gICAgeGhyLnNlbmQobnVsbCk7XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRyYWN0cyh3ZWJEYXRhLCB1c2VybmFtZSwgYXBpa2V5KSB7XG4gICAgaWYgKCF3ZWJEYXRhW1wiY29udHJhY3RzXCJdKSB7XG4gICAgICAgIHdlYkRhdGFbXCJjb250cmFjdHNcIl0gPSB7fTtcbiAgICB9XG4gICAgaWYgKCFhcGlrZXkgfHwgIXVzZXJuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2ViRGF0YVtcImNvbnRyYWN0c1wiXVt1c2VybmFtZV0gPSBbXTtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBGSU8gQ29udHJhY3QgVGltZW91dFwiKTtcbiAgICAgICAgd2ViRGF0YVtcImNvbnRyYWN0c1wiXVt1c2VybmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBNTUc6IFJldHJlaXZlZCBDb250cmFjdHMgZnJvbSBGSU9cIik7XG4gICAgICAgICAgICAgICAgdmFyIGJ1cm5EYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICBidXJuRGF0YS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3ZWJEYXRhW1wiY29udHJhY3RzXCJdW3VzZXJuYW1lXS5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKFN5bnRheEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQTU1HOiBCYWQgRGF0YSBmcm9tIEZJT1wiKTtcbiAgICAgICAgICAgICAgICB3ZWJEYXRhW1wiY29udHJhY3RzXCJdW3VzZXJuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICB4aHIudGltZW91dCA9IDIwMDAwO1xuICAgIHZhciBhZGRyZXNzID0gXCJodHRwczovL3Jlc3QuZm5hci5uZXRcIiArIFwiL2NvbnRyYWN0L2FsbGNvbnRyYWN0c1wiO1xuICAgIHhoci5vcGVuKFwiR0VUXCIsIGFkZHJlc3MpO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBhcGlrZXkpO1xuICAgIHhoci5zZW5kKG51bGwpO1xuICAgIHJldHVybjtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0JhY2tncm91bmRSdW5uZXIudHNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IFNlbGVjdG9yIH0gZnJvbSBcIi4vU2VsZWN0b3JcIjtcbmltcG9ydCB7IGdlbmVyaWNDbGVhbnVwLCBjcmVhdGVOb2RlIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNsYXNzIFNjcmVlblVucGFjayB7XG4gICAgY2xlYW51cChmdWxsID0gZmFsc2UpIHtcbiAgICAgICAgZnVsbCAmJiBnZW5lcmljQ2xlYW51cCh0aGlzLnRhZyk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGV4Y2x1c2lvbnMpIHtcbiAgICAgICAgdGhpcy50YWcgPSBcInBiLXNjcmVlbnNcIjtcbiAgICAgICAgZXhjbHVzaW9ucyA9IGV4Y2x1c2lvbnMgPT0gdW5kZWZpbmVkID8gW10gOiBleGNsdXNpb25zO1xuICAgICAgICB0aGlzLmV4Y2x1c2lvbnMgPSBbXTtcbiAgICAgICAgZXhjbHVzaW9ucy5mb3JFYWNoKGV4ID0+IHsgdGhpcy5leGNsdXNpb25zLnB1c2goZXgudG9VcHBlckNhc2UoKSk7IH0pO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIGNvbnN0IG5hdmJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFNlbGVjdG9yLlNjcmVlbkNvbnRyb2xzKTtcbiAgICAgICAgaWYgKG5hdmJhciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hdmJhci5jaGlsZHJlbltuYXZiYXIuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMudGFnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdmJhckl0ZW1DbGFzc0xpc3QgPSBuYXZiYXIuY2hpbGRyZW5bMl0uY2xhc3NMaXN0O1xuICAgICAgICBjb25zdCBuYml0TWFpbkNsYXNzTGlzdCA9IG5hdmJhci5jaGlsZHJlblsyXS5jaGlsZHJlblswXS5jbGFzc0xpc3Q7XG4gICAgICAgIGNvbnN0IG5iaXRVbmRlcmxpbmVDbGFzc0xpc3QgPSBuYXZiYXIuY2hpbGRyZW5bMl0uY2hpbGRyZW5bMV0uY2xhc3NMaXN0O1xuICAgICAgICBjb25zdCBtZW51ID0gbmF2YmFyLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdO1xuICAgICAgICB2YXIgbGlua3MgPSBbXTtcbiAgICAgICAgQXJyYXkuZnJvbShtZW51LmNoaWxkcmVuKS5mb3JFYWNoKChjbikgPT4ge1xuICAgICAgICAgICAgaWYgKGNuLmNoaWxkcmVuLmxlbmd0aCA9PSA0ICYmICF0aGlzLmV4Y2x1c2lvbnMuaW5jbHVkZXMoU3RyaW5nKGNuLmNoaWxkcmVuWzFdLmlubmVySFRNTCkudG9VcHBlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICBsaW5rcy5wdXNoKHsgXCJOYW1lXCI6IGNuLmNoaWxkcmVuWzFdLmlubmVySFRNTCwgXCJMaW5rXCI6IGNuLmNoaWxkcmVuWzFdLmhyZWYgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzcGFjZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzcGFjZXJEaXYuY2xhc3NMaXN0LmFkZCh0aGlzLnRhZyk7XG4gICAgICAgIHNwYWNlckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgc3BhY2VyRGl2LnN0eWxlLndpZHRoID0gXCI1cHhcIjtcbiAgICAgICAgbmF2YmFyLmFwcGVuZENoaWxkKHNwYWNlckRpdik7XG4gICAgICAgIGxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBgPGRpdiBjbGFzcz1cIiR7bmF2YmFySXRlbUNsYXNzTGlzdH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIiR7bmJpdE1haW5DbGFzc0xpc3R9XCIgc3R5bGU9XCJjb2xvcjogaW5oZXJpdFwiIGhyZWY9XCIke2xpbmsuTGlua31cIj4ke2xpbmsuTmFtZX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7bmJpdFVuZGVybGluZUNsYXNzTGlzdH1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgICAgICBjb25zdCBidXR0b25FbGVtID0gY3JlYXRlTm9kZShidXR0b24pO1xuICAgICAgICAgICAgYnV0dG9uRWxlbS5jbGFzc0xpc3QuYWRkKHRoaXMudGFnKTtcbiAgICAgICAgICAgIG5hdmJhci5hcHBlbmRDaGlsZChidXR0b25FbGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9TY3JlZW5VbnBhY2sudHNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IFNlbGVjdG9yIH0gZnJvbSBcIi4vU2VsZWN0b3JcIjtcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4vU3R5bGVcIjtcbmltcG9ydCB7IGdlbmVyaWNDbGVhbnVwLCBzaG93QnVmZmVyLCBjcmVhdGVUZXh0U3BhbiB9IGZyb20gXCIuL3V0aWxcIjtcbmV4cG9ydCBjbGFzcyBTaWRlYmFyIHtcbiAgICBjb25zdHJ1Y3RvcihidXR0b25zKSB7XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1zaWRlYmFyXCI7XG4gICAgICAgIHRoaXMuZGVmYXVsdEJ1dHRvbnMgPSBbXCJCU1wiLCBcIkNPTlRcIiwgXCJDT01cIiwgXCJDT1JQXCIsIFwiQ1hMXCIsIFwiRklOXCIsIFwiRkxUXCIsIFwiSU5WXCIsIFwiTUFQXCIsIFwiUFJPRFwiLCBcIkxFQURcIiwgXCJDTURTXCJdO1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBidXR0b25zO1xuICAgIH1cbiAgICBjbGVhbnVwKGZ1bGwgPSBmYWxzZSkge1xuICAgICAgICBmdWxsICYmIGdlbmVyaWNDbGVhbnVwKHRoaXMudGFnKTtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU2VsZWN0b3IuTGVmdFNpZGViYXIpO1xuICAgICAgICBpZiAoIXRoaXMuYnV0dG9ucykge1xuICAgICAgICAgICAgdGhpcy5idXR0b25zID0gW1tcIkJTXCIsIFwiQlNcIl0sIFtcIkNPTlRcIiwgXCJDT05UU1wiXSwgW1wiQ09NXCIsIFwiQ09NXCJdLCBbXCJDT1JQXCIsIFwiQ09SUFwiXSwgW1wiQ1hMXCIsIFwiQ1hMXCJdLCBbXCJGSU5cIiwgXCJGSU5cIl0sIFtcIkZMVFwiLCBcIkZMVFwiXSwgW1wiSU5WXCIsIFwiSU5WXCJdLCBbXCJNQVBcIiwgXCJNQVBcIl0sIFtcIlBST0RcIiwgXCJQUk9EXCJdLCBbXCJMRUFEXCIsIFwiTEVBRFwiXSwgW1wiQ01EU1wiLCBcIkNNRFNcIl0sIFtcIlNFVFwiLCBcIlhJVCBTRVRUSU5HU1wiXSwgW1wiSEVMUFwiLCBcIlhJVCBIRUxQXCJdXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNpZGViYXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHRCdXR0b25zLmZvckVhY2goZGVmYXVsdEJ1dHRvbiA9PiB7XG4gICAgICAgICAgICB2YXIgZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChsZXQgb3B0aW9uIG9mIHRoaXMuYnV0dG9ucykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25bMF0udG9VcHBlckNhc2UoKSA9PT0gZGVmYXVsdEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShzaWRlYmFyLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmZpcnN0Q2hpbGQgIT0gbnVsbCAmJiAoY2hpbGQuZmlyc3RDaGlsZC50ZXh0Q29udGVudCB8fCBcIlwiKS50b1VwcGVyQ2FzZSgpID09PSBkZWZhdWx0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuLWVsZW1lbnRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGNoaWxkLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkQ2hpbGQgPT4geyBjaGlsZENoaWxkLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW4tZWxlbWVudFwiKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzaWRlYmFyLmNoaWxkcmVuW3NpZGViYXIuY2hpbGRyZW4ubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMudGFnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbkluZm8gPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEJ1dHRvbnMuaW5jbHVkZXMoYnV0dG9uSW5mb1swXS50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb25zdCBidXR0b25UZXh0ID0gY3JlYXRlVGV4dFNwYW4oYnV0dG9uSW5mb1swXS50b1VwcGVyQ2FzZSgpLCB0aGlzLnRhZyk7XG4gICAgICAgICAgICBjb25zdCBzbGl2ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy50YWcpO1xuICAgICAgICAgICAgc2xpdmVyLmNsYXNzTGlzdC5hZGQodGhpcy50YWcpO1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhckJ1dHRvbik7XG4gICAgICAgICAgICBidXR0b25UZXh0LmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclRleHQpO1xuICAgICAgICAgICAgc2xpdmVyLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNsaXZlcik7XG4gICAgICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoYnV0dG9uVGV4dCk7XG4gICAgICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoc2xpdmVyKTtcbiAgICAgICAgICAgIHNpZGViYXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkgeyBzaG93QnVmZmVyKGJ1dHRvbkluZm9bMV0pOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvU2lkZWJhci50c1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgY2hhbmdlVmFsdWUgfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBTZWxlY3RvciB9IGZyb20gXCIuL1NlbGVjdG9yXCI7XG5pbXBvcnQgeyBQbGFuZXRDb21tYW5kcywgUGxhbmV0TmFtZXMgfSBmcm9tIFwiLi9HYW1lUHJvcGVydGllc1wiO1xuZXhwb3J0IGNsYXNzIENvbW1hbmRDb3JyZWN0ZXIge1xuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuQnVmZmVyQXJlYSkpLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIGlmIChidWZmZXIuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlckZpZWxkID0gYnVmZmVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQnVmZmVyVGV4dEZpZWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyRmllbGQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBidWZmZXJUZXh0ID0gYnVmZmVyRmllbGQudmFsdWUudG9VcHBlckNhc2UoKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIGlmIChQbGFuZXRDb21tYW5kcy5pbmNsdWRlcyhidWZmZXJUZXh0LnNwbGl0KFwiIFwiKVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKFBsYW5ldE5hbWVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlclRleHQuaW5jbHVkZXMoXCIgXCIgKyBuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlclRleHQgPSBidWZmZXJUZXh0LnJlcGxhY2UoXCIgXCIgKyBuYW1lLCBcIiBcIiArIFBsYW5ldE5hbWVzW25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVwbGFjZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlckZpZWxkLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVZhbHVlKGJ1ZmZlckZpZWxkLCBidWZmZXJUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJGaWVsZC5wYXJlbnRFbGVtZW50ID09IG51bGwgfHwgYnVmZmVyRmllbGQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJGaWVsZC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVxdWVzdFN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9Db21tYW5kQ29ycmVjdGVyLnRzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBnZW5lcmljQ2xlYW51cCwgZ2V0QnVmZmVycywgc2hvd0J1ZmZlciB9IGZyb20gXCIuL3V0aWxcIjtcbmV4cG9ydCBjbGFzcyBDYWxjdWxhdG9yQnV0dG9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YWcgPSBcInBiLWNhbGNcIjtcbiAgICB9XG4gICAgY2xlYW51cChmdWxsID0gZmFsc2UpIHtcbiAgICAgICAgZnVsbCAmJiBnZW5lcmljQ2xlYW51cCh0aGlzLnRhZyk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgY29uc3QgY2FsY1RhZ3MgPSBbXCJMTVwiLCBcIkNYXCIsIFwiWElUXCJdO1xuICAgICAgICBjYWxjVGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJzID0gZ2V0QnVmZmVycyh0YWcpO1xuICAgICAgICAgICAgYnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKChidWZmZXIuY2hpbGRyZW5bM10gfHwgYnVmZmVyLmNoaWxkcmVuWzJdKS5maXJzdENoaWxkLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnRhZykgfHwgKGJ1ZmZlci5jaGlsZHJlblszXSB8fCBidWZmZXIuY2hpbGRyZW5bMl0pLmNoaWxkcmVuWzFdLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnRhZykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjYWxjRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBjYWxjRGl2LmNsYXNzTGlzdC5hZGQodGhpcy50YWcpO1xuICAgICAgICAgICAgICAgIGNhbGNEaXYuY2xhc3NMaXN0LmFkZChcImJ1dHRvbi11cHBlci1yaWdodFwiKTtcbiAgICAgICAgICAgICAgICBjYWxjRGl2LnN0eWxlLm1hcmdpblRvcCA9IFwiLTNweFwiO1xuICAgICAgICAgICAgICAgIChidWZmZXIuY2hpbGRyZW5bM10gfHwgYnVmZmVyLmNoaWxkcmVuWzJdKS5pbnNlcnRCZWZvcmUoY2FsY0RpdiwgKGJ1ZmZlci5jaGlsZHJlblszXSB8fCBidWZmZXIuY2hpbGRyZW5bMl0pLmZpcnN0Q2hpbGQuaWQgPT0gXCJyZWZyZXNoXCIgPyAoYnVmZmVyLmNoaWxkcmVuWzNdIHx8IGJ1ZmZlci5jaGlsZHJlblsyXSkuY2hpbGRyZW5bMV0gOiAoYnVmZmVyLmNoaWxkcmVuWzNdIHx8IGJ1ZmZlci5jaGlsZHJlblsyXSkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ZnQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3ZnXCIpO1xuICAgICAgICAgICAgICAgIHN2Z0NvbnRhaW5lci5hcHBlbmRDaGlsZChzdmcpO1xuICAgICAgICAgICAgICAgIHN2Zy5vdXRlckhUTUwgPSBgPHN2ZyBoZWlnaHQ9XCIxMnB4XCIgd2lkdGg9XCIxMnB4XCIgdmVyc2lvbj1cIjEuMVwiIGlkPVwiTGF5ZXJfMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiBcclxuXHRcdFx0XHRcdFx0XHRcdCB2aWV3Qm94PVwiMCAwIDQ2MCA0NjBcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxyXG5cdFx0XHRcdFx0XHRcdDxnIGlkPVwiWE1MSURfMjQxX1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGc+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxwYXRoIGQ9XCJNMzY5LjYzNSwwSDkwLjM2NUM3My41OTUsMCw2MCwxMy41OTUsNjAsMzAuMzY1djM5OS4yN0M2MCw0NDYuNDA1LDczLjU5NSw0NjAsOTAuMzY1LDQ2MGgyNzkuMjdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjMTYuNzcsMCwzMC4zNjUtMTMuNTk1LDMwLjM2NS0zMC4zNjVWMzAuMzY1QzQwMCwxMy41OTUsMzg2LjQwNSwwLDM2OS42MzUsMHogTTEwOC4yMDQsMzQzLjYxdi00My4xOTZcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjMC0zLjQ1MSwyLjc5Ny02LjI0OCw2LjI0OC02LjI0OGg0My4xOTZjMy40NTEsMCw2LjI0OCwyLjc5Nyw2LjI0OCw2LjI0OHY0My4xOTZjMCwzLjQ1MS0yLjc5Nyw2LjI0OC02LjI0OCw2LjI0OGgtNDMuMTk2XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0QzExMS4wMDEsMzQ5Ljg1OCwxMDguMjA0LDM0Ny4wNiwxMDguMjA0LDM0My42MXogTTEwOC4yMDQsMjU2LjYxdi00My4xOTZjMC0zLjQ1MSwyLjc5Ny02LjI0OCw2LjI0OC02LjI0OGg0My4xOTZcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjMy40NTEsMCw2LjI0OCwyLjc5Nyw2LjI0OCw2LjI0OHY0My4xOTZjMCwzLjQ1MS0yLjc5Nyw2LjI0OC02LjI0OCw2LjI0OGgtNDMuMTk2QzExMS4wMDEsMjYyLjg1OCwxMDguMjA0LDI2MC4wNiwxMDguMjA0LDI1Ni42MVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHogTTMwOC44OTEsNDIxSDE1MS4xMDljLTExLjA0NiwwLTIwLTguOTU0LTIwLTIwYzAtMTEuMDQ2LDguOTU0LTIwLDIwLTIwaDE1Ny43ODJjMTEuMDQ2LDAsMjAsOC45NTQsMjAsMjBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRDMzI4Ljg5MSw0MTIuMDQ2LDMxOS45MzcsNDIxLDMwOC44OTEsNDIxeiBNMjA4LjQwMiwyOTQuMTY1aDQzLjE5NmMzLjQ1MSwwLDYuMjQ4LDIuNzk3LDYuMjQ4LDYuMjQ4djQzLjE5NlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGMwLDMuNDUxLTIuNzk3LDYuMjQ4LTYuMjQ4LDYuMjQ4aC00My4xOTZjLTMuNDUxLDAtNi4yNDgtMi43OTctNi4yNDgtNi4yNDh2LTQzLjE5NlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdEMyMDIuMTU0LDI5Ni45NjMsMjA0Ljk1MSwyOTQuMTY1LDIwOC40MDIsMjk0LjE2NXogTTIwMi4xNTQsMjU2LjYxdi00My4xOTZjMC0zLjQ1MSwyLjc5Ny02LjI0OCw2LjI0OC02LjI0OGg0My4xOTZcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjMy40NTEsMCw2LjI0OCwyLjc5Nyw2LjI0OCw2LjI0OHY0My4xOTZjMCwzLjQ1MS0yLjc5Nyw2LjI0OC02LjI0OCw2LjI0OGgtNDMuMTk2QzIwNC45NTEsMjYyLjg1OCwyMDIuMTU0LDI2MC4wNiwyMDIuMTU0LDI1Ni42MVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHogTTM0NS41NDgsMzQ5Ljg1OGgtNDMuMTk2Yy0zLjQ1MSwwLTYuMjQ4LTIuNzk3LTYuMjQ4LTYuMjQ4di00My4xOTZjMC0zLjQ1MSwyLjc5Ny02LjI0OCw2LjI0OC02LjI0OGg0My4xOTZcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjMy40NTEsMCw2LjI0OCwyLjc5Nyw2LjI0OCw2LjI0OHY0My4xOTZoMEMzNTEuNzk2LDM0Ny4wNjEsMzQ4Ljk5OSwzNDkuODU4LDM0NS41NDgsMzQ5Ljg1OHogTTM0NS41NDgsMjYyLjg1OGgtNDMuMTk2XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Yy0zLjQ1MSwwLTYuMjQ4LTIuNzk3LTYuMjQ4LTYuMjQ4di00My4xOTZjMC0zLjQ1MSwyLjc5Ny02LjI0OCw2LjI0OC02LjI0OGg0My4xOTZjMy40NTEsMCw2LjI0OCwyLjc5Nyw2LjI0OCw2LjI0OHY0My4xOTZoMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdEMzNTEuNzk2LDI2MC4wNjEsMzQ4Ljk5OSwyNjIuODU4LDM0NS41NDgsMjYyLjg1OHogTTM1NCwxNDkuNjM3YzAsMTEuNzk5LTkuNTY1LDIxLjM2My0yMS4zNjMsMjEuMzYzSDEyNy4zNjRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRDMTE1LjU2NSwxNzEsMTA2LDE2MS40MzUsMTA2LDE0OS42MzdWNjIuMzYzQzEwNiw1MC41NjUsMTE1LjU2NSw0MSwxMjcuMzY0LDQxaDIwNS4yNzNDMzQ0LjQzNSw0MSwzNTQsNTAuNTY1LDM1NCw2Mi4zNjNWMTQ5LjYzN1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHpcIi8+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2c+XHJcblx0XHRcdFx0XHRcdFx0PC9nPlxyXG5cdFx0XHRcdFx0XHRcdDwvc3ZnPmA7XG4gICAgICAgICAgICAgICAgY2FsY0Rpdi5hcHBlbmRDaGlsZChzdmdDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIGNhbGNEaXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHsgc2hvd0J1ZmZlcihcIlhJVCBDQUxDVUxBVE9SXCIpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9DYWxjdWxhdG9yQnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBnZXRCdWZmZXJzIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tIFwiLi9TZWxlY3RvclwiO1xuZXhwb3J0IGNsYXNzIEltYWdlQ3JlYXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1pbWFnZVwiO1xuICAgIH1cbiAgICBjbGVhbnVwKCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGdldEJ1ZmZlcnMoXCJDT01cIik7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgYnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGF0TGlua3MgPSBidWZmZXIucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5CdWZmZXJMaW5rKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXRBcmVhID0gYnVmZmVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQ2hhdEFyZWEpO1xuICAgICAgICAgICAgaWYgKCFjaGF0QXJlYSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFycmF5LmZyb20oY2hhdExpbmtzKS5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtUZXh0ID0gbGluay50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmtUZXh0IHx8IGxpbmsuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMudGFnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaXNJbWFnZShsaW5rVGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKFwiY2hhdC1pbWFnZVwiKTtcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gbGlua1RleHQ7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5rLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5rLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcbiAgICAgICAgICAgICAgICBsaW5rLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQodGhpcy50YWcpO1xuICAgICAgICAgICAgICAgIGNoYXRBcmVhLnNjcm9sbEJ5KDAsIChpbWcub2Zmc2V0SGVpZ2h0IHx8IDApICsgMik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuZnVuY3Rpb24gaXNJbWFnZSh1cmwpIHtcbiAgICByZXR1cm4gL1xcLihqcGd8anBlZ3xwbmd8d2VicHxhdmlmfGdpZnxzdmcpJC8udGVzdCh1cmwpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvSW1hZ2VDcmVhdG9yLnRzXG4vLyBtb2R1bGUgaWQgPSAzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBnZXRCdWZmZXJzLCBwYXJzZUludk5hbWUsIHBhcnNlUGxhbmV0TmFtZSwgZmluZENvcnJlc3BvbmRpbmdQbGFuZXQsIHRhcmdldGVkQ2xlYW51cCwgc2V0U2V0dGluZ3MsIHNob3dCdWZmZXIsIGNyZWF0ZU1hdGVyaWFsRWxlbWVudCwgY2FsY3VsYXRlQnVybiB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IFNlbGVjdG9yIH0gZnJvbSBcIi4vU2VsZWN0b3JcIjtcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4vU3R5bGVcIjtcbmltcG9ydCB7IE1hdGVyaWFsTmFtZXMsIFNvcnRpbmdUcmlhbmdsZUhUTUwgfSBmcm9tIFwiLi9HYW1lUHJvcGVydGllc1wiO1xuZXhwb3J0IGNsYXNzIEludmVudG9yeU9yZ2FuaXplciB7XG4gICAgY29uc3RydWN0b3IodXNlckluZm8sIHJlc3VsdCkge1xuICAgICAgICB0aGlzLnRhZyA9IFwicGItaW52LW9yZ1wiO1xuICAgICAgICB0aGlzLnVzZXJJbmZvID0gdXNlckluZm87XG4gICAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgIH1cbiAgICBjbGVhbnVwKCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGdldEJ1ZmZlcnMoXCJJTlYgXCIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDtcbiAgICAgICAgaWYgKCFidWZmZXJzIHx8ICFyZXN1bHQgfHwgIXJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wiaW52ZW50b3J5X3NvcnRpbmdcIl0pIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wiaW52ZW50b3J5X3NvcnRpbmdcIl0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcInNlbGVjdGVkX3NvcnRpbmdcIl0pIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wic2VsZWN0ZWRfc29ydGluZ1wiXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgaWYgKCF0aGlzLnJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcInNvcnRpbmdcIl0pIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wic29ydGluZ1wiXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgY29uc3Qgc2NyZWVuTmFtZUVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLlNjcmVlbk5hbWUpO1xuICAgICAgICBjb25zdCBzY3JlZW5OYW1lID0gc2NyZWVuTmFtZUVsZW0gPyBzY3JlZW5OYW1lRWxlbS50ZXh0Q29udGVudCA6IFwiXCI7XG4gICAgICAgIGlmICghc2NyZWVuTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhZyA9IHRoaXMudGFnO1xuICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNvcnRPcHRpb25zID0gYnVmZmVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuSW52ZW50b3J5U29ydE9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCFzb3J0T3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJhc2VOYW1lRWxlbSA9IGJ1ZmZlci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFNlbGVjdG9yLkJ1ZmZlckhlYWRlcik7XG4gICAgICAgICAgICBpZiAoIWJhc2VOYW1lRWxlbSB8fCAhYmFzZU5hbWVFbGVtWzBdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW52TmFtZSA9IHBhcnNlSW52TmFtZShiYXNlTmFtZUVsZW1bMF0udGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgaWYgKCFpbnZOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGxhbmV0TmFtZUVsZW0gPSBidWZmZXIucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5CdWZmZXJMaW5rKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYW5ldE5hbWUgPSBwbGFuZXROYW1lRWxlbSA/IHBhcnNlUGxhbmV0TmFtZShwbGFuZXROYW1lRWxlbS50ZXh0Q29udGVudCkgOiBcIlwiO1xuICAgICAgICAgICAgdmFyIGJ1cm47XG4gICAgICAgICAgICBpZiAodGhpcy51c2VySW5mb1tcIlBNTUctVXNlci1JbmZvXCJdICYmIGZpbmRDb3JyZXNwb25kaW5nUGxhbmV0KHBsYW5ldE5hbWUsIHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcIndvcmtmb3JjZVwiXSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JrZm9yY2UgPSBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldChwbGFuZXROYW1lLCB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJ3b3JrZm9yY2VcIl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3Rpb24gPSBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldChwbGFuZXROYW1lLCB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJwcm9kdWN0aW9uXCJdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnZlbnRvcnkgPSBmaW5kQ29ycmVzcG9uZGluZ1BsYW5ldChwbGFuZXROYW1lLCB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJzdG9yYWdlXCJdKTtcbiAgICAgICAgICAgICAgICBidXJuID0gY2FsY3VsYXRlQnVybihwcm9kdWN0aW9uLCB3b3JrZm9yY2UsIGludmVudG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnkgPSBidWZmZXIucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5JbnZlbnRvcnkpO1xuICAgICAgICAgICAgaWYgKCFpbnZlbnRvcnkgfHwgIWludmVudG9yeS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpbnZlbnRvcnkuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGItbW9uaXRvcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgaW52ZW50b3J5LmNsYXNzTGlzdC5hZGQoXCJwYi1tb25pdG9yZWRcIik7XG4gICAgICAgICAgICAgICAgc29ydEludmVudG9yeShpbnZlbnRvcnksIHNvcnRPcHRpb25zLCByZXN1bHQsIHRoaXMudGFnLCBzY3JlZW5OYW1lLCBpbnZOYW1lLCBidXJuKTtcbiAgICAgICAgICAgICAgICBsZXQgb25NdXRhdGlvbnNPYnNlcnZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCBjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICB9LCAyNTApO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRlZENsZWFudXAodGFnLCBpbnZlbnRvcnkpO1xuICAgICAgICAgICAgICAgICAgICBzb3J0SW52ZW50b3J5KGludmVudG9yeSwgc29ydE9wdGlvbnMsIHJlc3VsdCwgdGFnLCBzY3JlZW5OYW1lLCBpbnZOYW1lLCBidXJuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGludmVudG9yeTtcbiAgICAgICAgICAgICAgICBsZXQgY29uZmlnID0geyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICBsZXQgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvd1tcIk11dGF0aW9uT2JzZXJ2ZXJcIl0gfHwgd2luZG93W1wiV2ViS2l0TXV0YXRpb25PYnNlcnZlclwiXTtcbiAgICAgICAgICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihvbk11dGF0aW9uc09ic2VydmVkKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCwgY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNoaXBCdWZmZXJzID0gZ2V0QnVmZmVycyhcIlNIUEkgXCIpO1xuICAgICAgICBpZiAoIXNoaXBCdWZmZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICBzaGlwQnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICBjb25zdCBzb3J0T3B0aW9ucyA9IGJ1ZmZlci5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkludmVudG9yeVNvcnRPcHRpb25zKTtcbiAgICAgICAgICAgIGlmICghc29ydE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaGlwTmFtZUVsZW0gPSBidWZmZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShTZWxlY3Rvci5CdWZmZXJIZWFkZXIpO1xuICAgICAgICAgICAgaWYgKCFzaGlwTmFtZUVsZW0gfHwgIXNoaXBOYW1lRWxlbVswXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNoaXBOYW1lID0gcGFyc2VJbnZOYW1lKHNoaXBOYW1lRWxlbVswXS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICBpZiAoIXNoaXBOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5ID0gYnVmZmVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuSW52ZW50b3J5KTtcbiAgICAgICAgICAgIGlmICghaW52ZW50b3J5IHx8ICFpbnZlbnRvcnkucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaW52ZW50b3J5LmNsYXNzTGlzdC5jb250YWlucyhcInBiLW1vbml0b3JlZFwiKSkge1xuICAgICAgICAgICAgICAgIGludmVudG9yeS5jbGFzc0xpc3QuYWRkKFwicGItbW9uaXRvcmVkXCIpO1xuICAgICAgICAgICAgICAgIHNvcnRJbnZlbnRvcnkoaW52ZW50b3J5LCBzb3J0T3B0aW9ucywgcmVzdWx0LCB0YWcsIHNjcmVlbk5hbWUsIHNoaXBOYW1lLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIGxldCBvbk11dGF0aW9uc09ic2VydmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQsIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDI1MCk7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldGVkQ2xlYW51cCh0YWcsIGludmVudG9yeSk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRJbnZlbnRvcnkoaW52ZW50b3J5LCBzb3J0T3B0aW9ucywgcmVzdWx0LCB0YWcsIHNjcmVlbk5hbWUsIHNoaXBOYW1lLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gaW52ZW50b3J5O1xuICAgICAgICAgICAgICAgIGxldCBjb25maWcgPSB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIGxldCBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93W1wiTXV0YXRpb25PYnNlcnZlclwiXSB8fCB3aW5kb3dbXCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyXCJdO1xuICAgICAgICAgICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG9uTXV0YXRpb25zT2JzZXJ2ZWQpO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBzb3J0SW52ZW50b3J5KGludmVudG9yeSwgc29ydE9wdGlvbnMsIHJlc3VsdCwgdGFnLCBzY3JlZW5OYW1lLCBwbGFuZXROYW1lLCBidXJuKSB7XG4gICAgaWYgKHNvcnRPcHRpb25zLmNoaWxkcmVuLmxlbmd0aCA8PSA3KSB7XG4gICAgICAgIEFycmF5LmZyb20oc29ydE9wdGlvbnMuY2hpbGRyZW4pLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICAgIGlmIChvcHRpb24gIT0gc29ydE9wdGlvbnMuZmlyc3RDaGlsZCAmJiAhb3B0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcInBiLXRvZ2dsZVwiKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmNoaWxkcmVuWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24uY2hpbGRyZW5bMV0uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgQXJyYXkuZnJvbShzb3J0T3B0aW9ucy5jaGlsZHJlbikuZm9yRWFjaChvcHRpb25Jbm5lciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uSW5uZXIuY2hpbGRyZW5bMV0gJiYgb3B0aW9uSW5uZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGItdG9nZ2xlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uSW5uZXIucmVtb3ZlQ2hpbGQob3B0aW9uSW5uZXIuY2hpbGRyZW5bMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcInNlbGVjdGVkX3NvcnRpbmdcIl0uZm9yRWFjaChzb3J0U2V0dGluZ3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc29ydFNldHRpbmdzWzBdID09IHNjcmVlbk5hbWUgKyBwbGFuZXROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0U2V0dGluZ3NbMV0gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2V0dGluZ3MocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW52ZW50b3J5LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmVudG9yeS5pbnNlcnRCZWZvcmUoaW52ZW50b3J5LmZpcnN0Q2hpbGQsIGludmVudG9yeS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYnVybikge1xuICAgICAgICAgICAgc29ydE9wdGlvbnMuYXBwZW5kQ2hpbGQoY3JlYXRlVG9nZ2xlKHJlc3VsdCwgc29ydE9wdGlvbnMsIFwiQlJOXCIsIGZpbmRJZkFjdGl2ZShyZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJzZWxlY3RlZF9zb3J0aW5nXCJdLCBzY3JlZW5OYW1lICsgcGxhbmV0TmFtZSwgXCJCUk5cIiksIHNjcmVlbk5hbWUgKyBwbGFuZXROYW1lLCBpbnZlbnRvcnkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJzb3J0aW5nXCJdLmZvckVhY2goc2V0dGluZ3MgPT4ge1xuICAgICAgICAgICAgaWYgKCFzZXR0aW5nc1swXSB8fCAhc2V0dGluZ3NbMV0gfHwgIXNldHRpbmdzWzJdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNldHRpbmdzWzFdLnRvVXBwZXJDYXNlKCkgIT0gcGxhbmV0TmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc29ydE9wdGlvbnMuYXBwZW5kQ2hpbGQoY3JlYXRlVG9nZ2xlKHJlc3VsdCwgc29ydE9wdGlvbnMsIHNldHRpbmdzWzBdLCBmaW5kSWZBY3RpdmUocmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wic2VsZWN0ZWRfc29ydGluZ1wiXSwgc2NyZWVuTmFtZSArIHBsYW5ldE5hbWUsIHNldHRpbmdzWzBdKSwgc2NyZWVuTmFtZSArIHBsYW5ldE5hbWUsIGludmVudG9yeSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHNvcnRPcHRpb25zLmNoaWxkcmVuW3NvcnRPcHRpb25zLmNoaWxkcmVuLmxlbmd0aCAtIDFdICYmIHNvcnRPcHRpb25zLmNoaWxkcmVuW3NvcnRPcHRpb25zLmNoaWxkcmVuLmxlbmd0aCAtIDFdLnRleHRDb250ZW50ICE9IFwiK1wiKSB7XG4gICAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGFkZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiSW52ZW50b3J5U29ydENvbnRyb2xzX19jcml0ZXJpYV9fX2lqTE1nam1cIik7XG4gICAgICAgIHNvcnRPcHRpb25zLmFwcGVuZENoaWxkKGFkZEJ1dHRvbik7XG4gICAgICAgIGNvbnN0IGFkZExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYWRkTGFiZWwudGV4dENvbnRlbnQgPSBcIitcIjtcbiAgICAgICAgYWRkQnV0dG9uLmFwcGVuZENoaWxkKGFkZExhYmVsKTtcbiAgICAgICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzaG93QnVmZmVyKFwiWElUIFNPUlRfXCIgKyBwbGFuZXROYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBhY3RpdmVTb3J0ID0gXCJcIjtcbiAgICByZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJzZWxlY3RlZF9zb3J0aW5nXCJdLmZvckVhY2goc29ydFNldHRpbmdzID0+IHtcbiAgICAgICAgaWYgKHNvcnRTZXR0aW5nc1swXSA9PSBzY3JlZW5OYW1lICsgcGxhbmV0TmFtZSkge1xuICAgICAgICAgICAgYWN0aXZlU29ydCA9IHNvcnRTZXR0aW5nc1sxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgQXJyYXkuZnJvbShzb3J0T3B0aW9ucy5jaGlsZHJlbikuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICBpZiAob3B0aW9uICE9IHNvcnRPcHRpb25zLmZpcnN0Q2hpbGQgJiYgb3B0aW9uLmZpcnN0Q2hpbGQgJiYgb3B0aW9uLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgPT0gYWN0aXZlU29ydCAmJiAhb3B0aW9uLmNoaWxkcmVuWzFdKSB7XG4gICAgICAgICAgICBjb25zdCB0b2dnbGVJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdG9nZ2xlSW5kaWNhdG9yLmlubmVySFRNTCA9IFNvcnRpbmdUcmlhbmdsZUhUTUw7XG4gICAgICAgICAgICB0b2dnbGVJbmRpY2F0b3Iuc3R5bGUubWFyZ2luTGVmdCA9IFwiMnB4XCI7XG4gICAgICAgICAgICBvcHRpb24uYXBwZW5kQ2hpbGQodG9nZ2xlSW5kaWNhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb24uZmlyc3RDaGlsZCAmJiBvcHRpb24uZmlyc3RDaGlsZC50ZXh0Q29udGVudCAhPSBhY3RpdmVTb3J0ICYmIG9wdGlvbi5jaGlsZHJlblsxXSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJwYi10b2dnbGVcIikpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24ucmVtb3ZlQ2hpbGQob3B0aW9uLmNoaWxkcmVuWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFjdGl2ZVNvcnQgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIG9wdGlvbi5jaGlsZHJlblsxXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uY2hpbGRyZW5bMV0uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICAgIGlmIChhY3RpdmVTb3J0ID09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbWF0ZXJpYWxzID0gQXJyYXkuZnJvbShpbnZlbnRvcnkucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5GdWxsTWF0ZXJpYWxJY29uKSk7XG4gICAgbWF0ZXJpYWxzLnNvcnQobWF0ZXJpYWxTb3J0KTtcbiAgICB2YXIgc29ydGVkID0gW107XG4gICAgdmFyIHNvcnRpbmdEZXRhaWxzID0gW107XG4gICAgcmVzdWx0W1wiUE1NR0V4dGVuZGVkXCJdW1wic29ydGluZ1wiXS5mb3JFYWNoKHJlc3VsdF9zb3J0aW5nRGV0YWlscyA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRfc29ydGluZ0RldGFpbHNbMF0gPT0gYWN0aXZlU29ydCAmJiByZXN1bHRfc29ydGluZ0RldGFpbHNbMV0gPT0gcGxhbmV0TmFtZSkge1xuICAgICAgICAgICAgc29ydGluZ0RldGFpbHMgPSByZXN1bHRfc29ydGluZ0RldGFpbHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICAgIGlmIChhY3RpdmVTb3J0ICE9IFwiQlJOXCIpIHtcbiAgICAgICAgaWYgKHNvcnRpbmdEZXRhaWxzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc29ydGluZ0RldGFpbHNbNF0pIHtcbiAgICAgICAgICAgIHZhciBtYXRlcmlhbHNUb1NvcnQgPSBbXTtcbiAgICAgICAgICAgIHNvcnRpbmdEZXRhaWxzWzJdLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsc1RvU29ydCA9IG1hdGVyaWFsc1RvU29ydC5jb25jYXQoY2F0ZWdvcnlbMV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWxzVG9Tb3J0ID0gbWF0ZXJpYWxzVG9Tb3J0LmZpbHRlcigoYywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0ZXJpYWxzVG9Tb3J0LmluZGV4T2YoYykgPT09IGluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXRlcmlhbHNUb1NvcnQuZm9yRWFjaCh0aWNrZXIgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghbWF0ZXJpYWxMaXN0Q29udGFpbnMobWF0ZXJpYWxzLCB0aWNrZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdEVsZW1lbnQgPSBjcmVhdGVNYXRlcmlhbEVsZW1lbnQodGlja2VyLCB0YWcsIFwiMFwiLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdFF1YW50aXR5RWxlbSA9IG1hdEVsZW1lbnQucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5NYXRlcmlhbFF1YW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdFF1YW50aXR5RWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0UXVhbnRpdHlFbGVtLnN0eWxlLmNvbG9yID0gXCIjY2MwMDAwXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzLnB1c2gobWF0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXRlcmlhbHMuc29ydChtYXRlcmlhbFNvcnQpO1xuICAgICAgICB9XG4gICAgICAgIHNvcnRpbmdEZXRhaWxzWzJdLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgICAgICBjYXRlZ29yeVRpdGxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNhdGVnb3J5WzBdKSk7XG4gICAgICAgICAgICBjYXRlZ29yeVRpdGxlLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgICAgIGNhdGVnb3J5VGl0bGUuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgICAgIGNhdGVnb3J5VGl0bGUuY2xhc3NMaXN0LmFkZCh0YWcpO1xuICAgICAgICAgICAgaW52ZW50b3J5LmFwcGVuZENoaWxkKGNhdGVnb3J5VGl0bGUpO1xuICAgICAgICAgICAgdmFyIGFyZUl0ZW1zSW5DYXRlZ29yeSA9IGZhbHNlO1xuICAgICAgICAgICAgbWF0ZXJpYWxzLmZvckVhY2gobWF0ZXJpYWwgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tlckVsZW0gPSBtYXRlcmlhbC5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLk1hdGVyaWFsVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aWNrZXJFbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGlja2VyID0gdGlja2VyRWxlbS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAodGlja2VyICYmIGNhdGVnb3J5WzFdLmluY2x1ZGVzKHRpY2tlcikgJiYgIXNvcnRlZC5pbmNsdWRlcyh0aWNrZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGludmVudG9yeS5hcHBlbmRDaGlsZChtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIGFyZUl0ZW1zSW5DYXRlZ29yeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWFyZUl0ZW1zSW5DYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgIGludmVudG9yeS5yZW1vdmVDaGlsZChjYXRlZ29yeVRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvcnRlZCA9IHNvcnRlZC5jb25jYXQoY2F0ZWdvcnlbMV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHNvcnRpbmdEZXRhaWxzWzNdIHx8IGFjdGl2ZVNvcnQgPT0gXCJCUk5cIikge1xuICAgICAgICBpZiAoYnVybikge1xuICAgICAgICAgICAgY29uc3Qgd29ya2ZvcmNlTWF0ZXJpYWxzID0gZXh0cmFjdE1hdGVyaWFscyhidXJuLCBcIndvcmtmb3JjZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0TWF0ZXJpYWxzID0gZXh0cmFjdE1hdGVyaWFscyhidXJuLCBcImlucHV0XCIpO1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0TWF0ZXJpYWxzID0gZXh0cmFjdE1hdGVyaWFscyhidXJuLCBcIm91dHB1dFwiKTtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtmb3JjZVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgICAgICAgIHdvcmtmb3JjZVRpdGxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQ29uc3VtYWJsZXNcIikpO1xuICAgICAgICAgICAgd29ya2ZvcmNlVGl0bGUuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICAgICAgd29ya2ZvcmNlVGl0bGUuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgICAgIHdvcmtmb3JjZVRpdGxlLmNsYXNzTGlzdC5hZGQodGFnKTtcbiAgICAgICAgICAgIGludmVudG9yeS5hcHBlbmRDaGlsZCh3b3JrZm9yY2VUaXRsZSk7XG4gICAgICAgICAgICB2YXIgYXJlQ29uc3VtYWJsZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIG1hdGVyaWFscy5mb3JFYWNoKG1hdGVyaWFsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWNrZXJFbGVtID0gbWF0ZXJpYWwucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5NYXRlcmlhbFRleHQpO1xuICAgICAgICAgICAgICAgIGlmICghdGlja2VyRWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tlciA9IHRpY2tlckVsZW0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRpY2tlciAmJiB3b3JrZm9yY2VNYXRlcmlhbHMuaW5jbHVkZXModGlja2VyKSAmJiAhaW5wdXRNYXRlcmlhbHMuaW5jbHVkZXModGlja2VyKSAmJiAhb3V0cHV0TWF0ZXJpYWxzLmluY2x1ZGVzKHRpY2tlcikgJiYgIXNvcnRlZC5pbmNsdWRlcyh0aWNrZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGludmVudG9yeS5hcHBlbmRDaGlsZChtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIGFyZUNvbnN1bWFibGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghYXJlQ29uc3VtYWJsZXMpIHtcbiAgICAgICAgICAgICAgICBpbnZlbnRvcnkucmVtb3ZlQ2hpbGQod29ya2ZvcmNlVGl0bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5wdXRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgICAgICAgICBpbnB1dFRpdGxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiSW5wdXRzXCIpKTtcbiAgICAgICAgICAgIGlucHV0VGl0bGUuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5TaWRlYmFyU2VjdGlvbkhlYWQpO1xuICAgICAgICAgICAgaW5wdXRUaXRsZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgaW5wdXRUaXRsZS5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgICAgICAgICBpbnZlbnRvcnkuYXBwZW5kQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgICAgICAgICB2YXIgYXJlSW5wdXRzID0gZmFsc2U7XG4gICAgICAgICAgICBtYXRlcmlhbHMuZm9yRWFjaChtYXRlcmlhbCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlja2VyRWxlbSA9IG1hdGVyaWFsLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuTWF0ZXJpYWxUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoIXRpY2tlckVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0aWNrZXIgPSB0aWNrZXJFbGVtLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgIGlmICh0aWNrZXIgJiYgaW5wdXRNYXRlcmlhbHMuaW5jbHVkZXModGlja2VyKSAmJiAhc29ydGVkLmluY2x1ZGVzKHRpY2tlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5LmFwcGVuZENoaWxkKG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICAgICAgYXJlSW5wdXRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghYXJlSW5wdXRzKSB7XG4gICAgICAgICAgICAgICAgaW52ZW50b3J5LnJlbW92ZUNoaWxkKGlucHV0VGl0bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgICAgICAgb3V0cHV0VGl0bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJPdXRwdXRzXCIpKTtcbiAgICAgICAgICAgIG91dHB1dFRpdGxlLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICAgICAgICAgIG91dHB1dFRpdGxlLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgICAgICBvdXRwdXRUaXRsZS5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgICAgICAgICBpbnZlbnRvcnkuYXBwZW5kQ2hpbGQob3V0cHV0VGl0bGUpO1xuICAgICAgICAgICAgdmFyIGFyZU91dHB1dHMgPSBmYWxzZTtcbiAgICAgICAgICAgIG1hdGVyaWFscy5mb3JFYWNoKG1hdGVyaWFsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWNrZXJFbGVtID0gbWF0ZXJpYWwucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5NYXRlcmlhbFRleHQpO1xuICAgICAgICAgICAgICAgIGlmICghdGlja2VyRWxlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRpY2tlciA9IHRpY2tlckVsZW0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRpY2tlciAmJiBvdXRwdXRNYXRlcmlhbHMuaW5jbHVkZXModGlja2VyKSAmJiAhaW5wdXRNYXRlcmlhbHMuaW5jbHVkZXModGlja2VyKSAmJiAhc29ydGVkLmluY2x1ZGVzKHRpY2tlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5LmFwcGVuZENoaWxkKG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICAgICAgYXJlT3V0cHV0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWFyZU91dHB1dHMpIHtcbiAgICAgICAgICAgICAgICBpbnZlbnRvcnkucmVtb3ZlQ2hpbGQob3V0cHV0VGl0bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc29ydGVkID0gc29ydGVkLmNvbmNhdCh3b3JrZm9yY2VNYXRlcmlhbHMpO1xuICAgICAgICAgICAgc29ydGVkID0gc29ydGVkLmNvbmNhdChpbnB1dE1hdGVyaWFscyk7XG4gICAgICAgICAgICBzb3J0ZWQgPSBzb3J0ZWQuY29uY2F0KG91dHB1dE1hdGVyaWFscyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWlzY1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBtaXNjVGl0bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJPdGhlclwiKSk7XG4gICAgbWlzY1RpdGxlLmNsYXNzTGlzdC5hZGQoLi4uU3R5bGUuU2lkZWJhclNlY3Rpb25IZWFkKTtcbiAgICBtaXNjVGl0bGUuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICBtaXNjVGl0bGUuY2xhc3NMaXN0LmFkZCh0YWcpO1xuICAgIGludmVudG9yeS5hcHBlbmRDaGlsZChtaXNjVGl0bGUpO1xuICAgIHZhciBhcmVNaXNjID0gZmFsc2U7XG4gICAgbWF0ZXJpYWxzLmZvckVhY2gobWF0ZXJpYWwgPT4ge1xuICAgICAgICBjb25zdCB0aWNrZXJFbGVtID0gbWF0ZXJpYWwucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5NYXRlcmlhbFRleHQpO1xuICAgICAgICBpZiAoIXRpY2tlckVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aWNrZXIgPSB0aWNrZXJFbGVtLnRleHRDb250ZW50O1xuICAgICAgICBpZiAodGlja2VyICYmICFzb3J0ZWQuaW5jbHVkZXModGlja2VyKSkge1xuICAgICAgICAgICAgaW52ZW50b3J5LmFwcGVuZENoaWxkKG1hdGVyaWFsKTtcbiAgICAgICAgICAgIGFyZU1pc2MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbiAgICBpZiAoIWFyZU1pc2MpIHtcbiAgICAgICAgaW52ZW50b3J5LnJlbW92ZUNoaWxkKG1pc2NUaXRsZSk7XG4gICAgfVxuICAgIHJldHVybjtcbn1cbmZ1bmN0aW9uIG1hdGVyaWFsTGlzdENvbnRhaW5zKG1hdGVyaWFscywgdGlja2VyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRlcmlhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGlja2VyRWxlbSA9IG1hdGVyaWFsc1tpXS5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLk1hdGVyaWFsVGV4dCk7XG4gICAgICAgIGlmICghdGlja2VyRWxlbSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpY2tlciA9PSB0aWNrZXJFbGVtLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBmaW5kSWZBY3RpdmUoc29ydFNldHRpbmdzLCBzY3JlZW5QbGFuZXQsIHNvcnRNb2RlTmFtZSkge1xuICAgIHZhciBtYXRjaCA9IGZhbHNlO1xuICAgIHNvcnRTZXR0aW5ncy5mb3JFYWNoKHNldHRpbmdzID0+IHtcbiAgICAgICAgaWYgKHNldHRpbmdzWzBdID09IHNjcmVlblBsYW5ldCAmJiBzZXR0aW5nc1sxXSA9PSBzb3J0TW9kZU5hbWUpIHtcbiAgICAgICAgICAgIG1hdGNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGNoO1xufVxuZnVuY3Rpb24gY3JlYXRlVG9nZ2xlKHJlc3VsdCwgc29ydE9wdGlvbnMsIGFiYnJldmlhdGlvbiwgc2VsZWN0ZWQsIGNvbWJpbmVkTmFtZSwgaW52ZW50b3J5KSB7XG4gICAgY29uc3QgY3VzdG9tU29ydEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY3VzdG9tU29ydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiSW52ZW50b3J5U29ydENvbnRyb2xzX19jcml0ZXJpYV9fX2lqTE1nam1cIik7XG4gICAgY3VzdG9tU29ydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicGItdG9nZ2xlXCIpO1xuICAgIGNvbnN0IHRvZ2dsZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0b2dnbGVMYWJlbC50ZXh0Q29udGVudCA9IGFiYnJldmlhdGlvbjtcbiAgICBjdXN0b21Tb3J0QnV0dG9uLmFwcGVuZENoaWxkKHRvZ2dsZUxhYmVsKTtcbiAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgQXJyYXkuZnJvbShzb3J0T3B0aW9ucy5jaGlsZHJlbikuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5jaGlsZHJlblsxXSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwicGItdG9nZ2xlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5yZW1vdmVDaGlsZChvcHRpb24uY2hpbGRyZW5bMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmNoaWxkcmVuWzFdLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b2dnbGVJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0b2dnbGVJbmRpY2F0b3IuaW5uZXJIVE1MID0gU29ydGluZ1RyaWFuZ2xlSFRNTDtcbiAgICAgICAgdG9nZ2xlSW5kaWNhdG9yLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjJweFwiO1xuICAgICAgICBjdXN0b21Tb3J0QnV0dG9uLmFwcGVuZENoaWxkKHRvZ2dsZUluZGljYXRvcik7XG4gICAgfVxuICAgIGN1c3RvbVNvcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgQXJyYXkuZnJvbShzb3J0T3B0aW9ucy5jaGlsZHJlbikuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5jaGlsZHJlblsxXSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwicGItdG9nZ2xlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5yZW1vdmVDaGlsZChvcHRpb24uY2hpbGRyZW5bMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmNoaWxkcmVuWzFdLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGludmVudG9yeS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGludmVudG9yeS5pbnNlcnRCZWZvcmUoaW52ZW50b3J5LmZpcnN0Q2hpbGQsIGludmVudG9yeS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b2dnbGVJbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0b2dnbGVJbmRpY2F0b3IuaW5uZXJIVE1MID0gU29ydGluZ1RyaWFuZ2xlSFRNTDtcbiAgICAgICAgdG9nZ2xlSW5kaWNhdG9yLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjJweFwiO1xuICAgICAgICBjdXN0b21Tb3J0QnV0dG9uLmFwcGVuZENoaWxkKHRvZ2dsZUluZGljYXRvcik7XG4gICAgICAgIHZhciBzYXZlZEJlZm9yZSA9IGZhbHNlO1xuICAgICAgICByZXN1bHRbXCJQTU1HRXh0ZW5kZWRcIl1bXCJzZWxlY3RlZF9zb3J0aW5nXCJdLmZvckVhY2goc29ydGluZ09wdGlvbnMgPT4ge1xuICAgICAgICAgICAgaWYgKHNvcnRpbmdPcHRpb25zWzBdID09IGNvbWJpbmVkTmFtZSkge1xuICAgICAgICAgICAgICAgIHNvcnRpbmdPcHRpb25zWzFdID0gYWJicmV2aWF0aW9uO1xuICAgICAgICAgICAgICAgIHNhdmVkQmVmb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghc2F2ZWRCZWZvcmUpIHtcbiAgICAgICAgICAgIHJlc3VsdFtcIlBNTUdFeHRlbmRlZFwiXVtcInNlbGVjdGVkX3NvcnRpbmdcIl0ucHVzaChbY29tYmluZWROYW1lLCBhYmJyZXZpYXRpb25dKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRTZXR0aW5ncyhyZXN1bHQpO1xuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgcmV0dXJuIGN1c3RvbVNvcnRCdXR0b247XG59XG5mdW5jdGlvbiBleHRyYWN0TWF0ZXJpYWxzKGJ1cm4sIHR5cGVWYWx1ZSkge1xuICAgIGNvbnN0IG1hdGVyaWFscyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGJ1cm4pLmZvckVhY2gobWF0ID0+IHtcbiAgICAgICAgaWYgKGJ1cm5bbWF0XVtcIlR5cGVcIl0gPT0gdHlwZVZhbHVlKSB7XG4gICAgICAgICAgICBtYXRlcmlhbHMucHVzaChtYXQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGVyaWFscztcbn1cbmZ1bmN0aW9uIG1hdGVyaWFsU29ydChhLCBiKSB7XG4gICAgY29uc3QgdGlja2VyRWxlbUEgPSBhLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuTWF0ZXJpYWxUZXh0KTtcbiAgICBpZiAoIXRpY2tlckVsZW1BKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGlja2VyQSA9IHRpY2tlckVsZW1BLnRleHRDb250ZW50O1xuICAgIGNvbnN0IHRpY2tlckVsZW1CID0gYi5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLk1hdGVyaWFsVGV4dCk7XG4gICAgaWYgKCF0aWNrZXJFbGVtQikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRpY2tlckIgPSB0aWNrZXJFbGVtQi50ZXh0Q29udGVudDtcbiAgICBpZiAoIU1hdGVyaWFsTmFtZXNbdGlja2VyQV0gfHwgIU1hdGVyaWFsTmFtZXNbdGlja2VyQl0pIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChNYXRlcmlhbE5hbWVzW3RpY2tlckFdWzFdID09IE1hdGVyaWFsTmFtZXNbdGlja2VyQl1bMV0pIHtcbiAgICAgICAgcmV0dXJuIHRpY2tlckEubG9jYWxlQ29tcGFyZSh0aWNrZXJCKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGVyaWFsTmFtZXNbdGlja2VyQV1bMV0ubG9jYWxlQ29tcGFyZShNYXRlcmlhbE5hbWVzW3RpY2tlckJdWzFdKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0ludmVudG9yeU9yZ2FuaXplci50c1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgZ2V0QnVmZmVycyB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IFNlbGVjdG9yIH0gZnJvbSBcIi4vU2VsZWN0b3JcIjtcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4vU3R5bGVcIjtcbmV4cG9ydCBjbGFzcyBIZWFkZXJNaW5pbWl6ZXIge1xuICAgIGNvbnN0cnVjdG9yKG1pbkJ5RGVmYXVsdCkge1xuICAgICAgICB0aGlzLnRhZyA9IFwicGItbWluLWhlYWRlcnNcIjtcbiAgICAgICAgdGhpcy5taW5CeURlZmF1bHQgPSBtaW5CeURlZmF1bHQ7XG4gICAgfVxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdldEJ1ZmZlcnMoXCJDWCBcIik7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlcnMuZm9yRWFjaChidWZmZXIgPT4ge1xuICAgICAgICAgICAgbWluaW1pemVIZWFkZXJzKGJ1ZmZlciwgdGhpcy5taW5CeURlZmF1bHQsIHRoaXMudGFnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiQ09OVCBcIik7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlcnMuZm9yRWFjaChidWZmZXIgPT4ge1xuICAgICAgICAgICAgbWluaW1pemVIZWFkZXJzKGJ1ZmZlciwgdGhpcy5taW5CeURlZmF1bHQsIHRoaXMudGFnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiTE0gXCIpO1xuICAgICAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIG1pbmltaXplSGVhZGVycyhidWZmZXIsIHRoaXMubWluQnlEZWZhdWx0LCB0aGlzLnRhZyk7XG4gICAgICAgIH0pO1xuICAgICAgICBidWZmZXJzID0gZ2V0QnVmZmVycyhcIlNZU0kgXCIpO1xuICAgICAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIG1pbmltaXplSGVhZGVycyhidWZmZXIsIHRoaXMubWluQnlEZWZhdWx0LCB0aGlzLnRhZyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuZnVuY3Rpb24gbWluaW1pemVIZWFkZXJzKGJ1ZmZlciwgbWluQnlEZWZhdWx0LCB0YWcpIHtcbiAgICBjb25zdCBidWZmZXJQYW5lbCA9IGJ1ZmZlci5xdWVyeVNlbGVjdG9yKFNlbGVjdG9yLkJ1ZmZlclBhbmVsKTtcbiAgICBpZiAoIWJ1ZmZlclBhbmVsIHx8ICFidWZmZXJQYW5lbC5maXJzdENoaWxkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IGJ1ZmZlci5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkhlYWRlclJvdyk7XG4gICAgaWYgKGhlYWRlcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaGVhZGVyc1swXSAmJiBoZWFkZXJzWzBdLmNsYXNzTGlzdC5jb250YWlucyh0YWcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG1pbkJ5RGVmYXVsdCkge1xuICAgICAgICBBcnJheS5mcm9tKGhlYWRlcnMpLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQ29udERGb3JtTGFiZWwpO1xuICAgICAgICAgICAgaWYgKGxhYmVsICYmIGxhYmVsLnRleHRDb250ZW50ID09IFwiVGVybWluYXRpb24gcmVxdWVzdFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBoZWFkZXIucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5Db250REZvcm1JbnB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLnRleHRDb250ZW50ICE9IFwiLS1cIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKHRhZykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbWluaW1pemVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1pbmltaXplQnV0dG9uLnRleHRDb250ZW50ID0gbWluQnlEZWZhdWx0ID8gXCIrXCIgOiBcIi1cIjtcbiAgICBtaW5pbWl6ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicGItbWluaW1pemVcIik7XG4gICAgbWluaW1pemVCdXR0b24uY2xhc3NMaXN0LmFkZChcInBiLW1pbmltaXplLWN4XCIpO1xuICAgIG1pbmltaXplQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IG1pbmltaXplID0gbWluaW1pemVCdXR0b24udGV4dENvbnRlbnQgPT0gXCItXCI7XG4gICAgICAgIG1pbmltaXplQnV0dG9uLnRleHRDb250ZW50ID0gbWluaW1pemUgPyBcIitcIiA6IFwiLVwiO1xuICAgICAgICBBcnJheS5mcm9tKGhlYWRlcnMpLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoU2VsZWN0b3IuQ29udERGb3JtTGFiZWwpO1xuICAgICAgICAgICAgaWYgKGxhYmVsICYmIGxhYmVsLnRleHRDb250ZW50ID09IFwiVGVybWluYXRpb24gcmVxdWVzdFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBoZWFkZXIucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5Db250REZvcm1JbnB1dCk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLnRleHRDb250ZW50ICE9IFwiLS1cIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKHRhZykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIuc3R5bGUuZGlzcGxheSA9IG1pbmltaXplID8gXCJub25lXCIgOiBcImZsZXhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbiAgICBoZWFkZXJzWzBdLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZUhlYWRlclJvdyhcIk1pbmltaXplXCIsIG1pbmltaXplQnV0dG9uLCB0YWcpLCBoZWFkZXJzWzBdKTtcbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJSb3cobGFiZWxUZXh0LCByaWdodFNpZGVDb250ZW50cywgdGFnKSB7XG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICByb3cuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5IZWFkZXJSb3cpO1xuICAgIHJvdy5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbGFiZWwuY2xhc3NMaXN0LmFkZCguLi5TdHlsZS5Gb3JtTGFiZWwpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gbGFiZWxUZXh0O1xuICAgIHJvdy5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGVudC5jbGFzc0xpc3QuYWRkKC4uLlN0eWxlLkZvcm1TYXZlSW5wdXQpO1xuICAgIGNvbnN0IHJpZ2h0U2lkZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcmlnaHRTaWRlRGl2LmFwcGVuZENoaWxkKHJpZ2h0U2lkZUNvbnRlbnRzKTtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKHJpZ2h0U2lkZURpdik7XG4gICAgcm93LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgIHJldHVybiByb3c7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9IZWFkZXJNaW5pbWl6ZXIudHNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGNyZWF0ZVRleHRTcGFuLCBnZW5lcmljQ2xlYW51cCwgY3JlYXRlQ29udHJhY3REaWN0IH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tIFwiLi9TZWxlY3RvclwiO1xuZXhwb3J0IGNsYXNzIFBlbmRpbmdDb250cmFjdHMge1xuICAgIGNvbnN0cnVjdG9yKHVzZXJJbmZvKSB7XG4gICAgICAgIHRoaXMudGFnID0gXCJwYi1wZW5kaW5nLWNvbnRyYWN0c1wiO1xuICAgICAgICB0aGlzLnVzZXJJbmZvID0gdXNlckluZm87XG4gICAgfVxuICAgIGNsZWFudXAoKSB7XG4gICAgICAgIGdlbmVyaWNDbGVhbnVwKHRoaXMudGFnKTtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICBjb25zdCBjb250cmFjdExpbmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLlNpZGViYXJDb250cmFjdCkpO1xuICAgICAgICBpZiAoY29udHJhY3RMaW5lcy5sZW5ndGggPiAwICYmIHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXSAmJiB0aGlzLnVzZXJJbmZvW1wiUE1NRy1Vc2VyLUluZm9cIl1bXCJjb250cmFjdHNcIl0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyYWN0cyA9IHRoaXMudXNlckluZm9bXCJQTU1HLVVzZXItSW5mb1wiXVtcImNvbnRyYWN0c1wiXTtcbiAgICAgICAgICAgIHZhciBjb250cmFjdGRpY3QgPSB7fTtcbiAgICAgICAgICAgIGNyZWF0ZUNvbnRyYWN0RGljdChjb250cmFjdHMsIGNvbnRyYWN0ZGljdCk7XG4gICAgICAgICAgICBjb250cmFjdExpbmVzLmZvckVhY2goY29udHJhY3QgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyYWN0SURFbGVtZW50ID0gY29udHJhY3QucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5TaWRlYmFyQ29udHJhY3RJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250cmFjdElERWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyYWN0SUQgPSBjb250cmFjdElERWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRyYWN0SUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29udHJhY3RkaWN0W2NvbnRyYWN0SURdICYmIGNvbnRyYWN0ZGljdFtjb250cmFjdElEXS5wYXJ0bmVyLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRuZXJjb2RlID0gY29udHJhY3RkaWN0W2NvbnRyYWN0SURdLnBhcnRuZXIubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRuZXJjb2RlLmxlbmd0aCA+IDE5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0bmVyY29kZSA9IGNvbnRyYWN0ZGljdFtjb250cmFjdElEXS5wYXJ0bmVyLmNvZGUgfHwgY29udHJhY3RkaWN0W2NvbnRyYWN0SURdLnBhcnRuZXIubmFtZS5zcGxpdChcIiBcIilbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZVNwYW4gPSBjcmVhdGVUZXh0U3BhbihgJHtwYXJ0bmVyY29kZX1gLCB0aGlzLnRhZyk7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVTcGFuLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xuICAgICAgICAgICAgICAgICAgICBjb250cmFjdC5pbnNlcnRCZWZvcmUobmFtZVNwYW4sIGNvbnRyYWN0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVTcGFuID0gY3JlYXRlVGV4dFNwYW4oXCJVbmtub3duXCIsIHRoaXMudGFnKTtcbiAgICAgICAgICAgICAgICBuYW1lU3Bhbi5zdHlsZS53aWR0aCA9IFwiMTAwcHhcIjtcbiAgICAgICAgICAgICAgICBjb250cmFjdC5pbnNlcnRCZWZvcmUobmFtZVNwYW4sIGNvbnRyYWN0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL1BlbmRpbmdDb250cmFjdHMudHNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGdldEJ1ZmZlcnMsIGNyZWF0ZVRleHRTcGFuIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgU2VsZWN0b3IgfSBmcm9tIFwiLi9TZWxlY3RvclwiO1xuaW1wb3J0IHsgV2l0aFN0eWxlcywgU3R5bGUgfSBmcm9tIFwiU3R5bGVcIjtcbmltcG9ydCB7IEV4Y2hhbmdlcyB9IGZyb20gXCIuL0dhbWVQcm9wZXJ0aWVzXCI7XG5leHBvcnQgY2xhc3MgQ29tcGFjdFVJIHtcbiAgICBjb25zdHJ1Y3RvcihwbW1nU2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy50YWcgPSBcInBiLWNvbXBhY3R1aVwiO1xuICAgICAgICB0aGlzLnBtbWdTZXR0aW5ncyA9IHBtbWdTZXR0aW5ncztcbiAgICB9XG4gICAgY2xlYW51cCgpIHtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdldEJ1ZmZlcnMoXCJCQkxcIik7XG4gICAgICAgIGlmIChidWZmZXJzKSB7XG4gICAgICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgICAgICBDbGVhckJ1aWxkaW5nTGlzdHMoYnVmZmVyLCB0aGlzLnBtbWdTZXR0aW5ncywgdGhpcy50YWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICBidWZmZXJzID0gZ2V0QnVmZmVycyhcIkJTXCIpO1xuICAgICAgICBpZiAoYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICAgICAgQ2xlYXJCYXNlKGJ1ZmZlciwgdGhpcy50YWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICBidWZmZXJzID0gZ2V0QnVmZmVycyhcIkNYT1NcIik7XG4gICAgICAgIGlmIChidWZmZXJzKSB7XG4gICAgICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgICAgICBTaG9ydGVuTmFtZXMoYnVmZmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFNob3J0ZW5OYW1lcyhidWZmZXIpIHtcbiAgICBjb25zdCBsaW5rcyA9IGJ1ZmZlci5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkJ1ZmZlckxpbmspO1xuICAgIGxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gICAgICAgIGlmIChsaW5rLnRleHRDb250ZW50ICYmIEV4Y2hhbmdlc1tsaW5rLnRleHRDb250ZW50XSkge1xuICAgICAgICAgICAgbGluay50ZXh0Q29udGVudCA9IEV4Y2hhbmdlc1tsaW5rLnRleHRDb250ZW50XTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBidWZmZXIucXVlcnlTZWxlY3RvckFsbChcInRoXCIpO1xuICAgIGhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgICAgICBpZiAoaGVhZGVyLnRleHRDb250ZW50ID09IFwiRXhjaGFuZ2VcIikge1xuICAgICAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gXCJFeGMuXCI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBIaWRlRWxlbWVudChlbGVtZW50LCB0YWcpIHtcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodGFnICsgXCItaGlkZGVuXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIFVuSGlkZUVsZW1lbnQoZWxlbWVudCwgdGFnKSB7XG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGFnICsgXCItaGlkZGVuXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIENsZWFyQnVpbGRpbmdMaXN0cyhidWZmZXIsIHBtbWdTZXR0aW5ncywgdGFnKSB7XG4gICAgY29uc3QgbmFtZUVsZW0gPSBidWZmZXIucXVlcnlTZWxlY3RvcihTZWxlY3Rvci5CdWlsZGluZ0xpc3QpO1xuICAgIGlmICghbmFtZUVsZW0gfHwgIW5hbWVFbGVtLnRleHRDb250ZW50KVxuICAgICAgICByZXR1cm47XG4gICAgQXJyYXkuZnJvbShidWZmZXIucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5EaXZpZGVyKSkuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgIGlmIChyb3cuY2hpbGROb2Rlcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB2YXIgbmV3bWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgdmFyIGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbmV3bWVudS5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuUmFkaW9CdXR0b24pKTtcbiAgICAgICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuUmFkaW9CdXR0b25Ub2dnbGVkKSk7XG4gICAgICAgICAgICB2YWx1ZS5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuUmFkaW9CdXR0b25WYWx1ZSkpO1xuICAgICAgICAgICAgdmFsdWUuaW5uZXJUZXh0ID0gXCJWaXNpYmxlXCI7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQobmV3bWVudSk7XG4gICAgICAgICAgICBuZXdtZW51LmFwcGVuZENoaWxkKGluZGljYXRvcik7XG4gICAgICAgICAgICBuZXdtZW51LmFwcGVuZENoaWxkKHZhbHVlKTtcbiAgICAgICAgICAgIG5ld21lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kaWNhdG9yLmNsYXNzTGlzdC5jb250YWlucyhTdHlsZS5SYWRpb0J1dHRvblRvZ2dsZWRbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3cubmV4dEVsZW1lbnRTaWJsaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgSGlkZUVsZW1lbnQocm93Lm5leHRFbGVtZW50U2libGluZywgdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5yZW1vdmUoLi4uV2l0aFN0eWxlcyhTdHlsZS5SYWRpb0J1dHRvblRvZ2dsZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoLi4uV2l0aFN0eWxlcyhTdHlsZS5SYWRpb0J1dHRvblVuVG9nZ2xlZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5uZXh0RWxlbWVudFNpYmxpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICBVbkhpZGVFbGVtZW50KHJvdy5uZXh0RWxlbWVudFNpYmxpbmcsIHRhZyk7XG4gICAgICAgICAgICAgICAgICAgIGluZGljYXRvci5jbGFzc0xpc3QucmVtb3ZlKC4uLldpdGhTdHlsZXMoU3R5bGUuUmFkaW9CdXR0b25VblRvZ2dsZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoLi4uV2l0aFN0eWxlcyhTdHlsZS5SYWRpb0J1dHRvblRvZ2dsZWQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyb3cuaW5uZXJUZXh0LmluY2x1ZGVzKFwiSW5mcmFzdHJ1Y3R1cmVcIikpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJjbGlja1wiLCB7IFwiZGV0YWlsXCI6IFwiZmFrZSBjbGlja1wiIH0pO1xuICAgICAgICAgICAgICAgIG5ld21lbnUuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBBcnJheS5mcm9tKG5hbWVFbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGFibGVcIikpLmZvckVhY2goKHRhYmxlKSA9PiB7XG4gICAgICAgIHZhciByZXBhaXJlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgRXN0YWJsaXNoUm93O1xuICAgICAgICB2YXIgYnV0dG9ucyA9IHRhYmxlLnBhcmVudE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJidXR0b25cIik7XG4gICAgICAgIGJ1dHRvbnNbMV0uY2xhc3NMaXN0LnJlbW92ZSguLi5XaXRoU3R5bGVzKFN0eWxlLkJ1dHRvbkVuYWJsZWQpKTtcbiAgICAgICAgYnV0dG9uc1sxXS5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuQnV0dG9uRGFuZ2VyKSk7XG4gICAgICAgIEFycmF5LmZyb20odGFibGUucm93cykuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICAgICAgbGV0IExpbmU7XG4gICAgICAgICAgICAoZnVuY3Rpb24gKExpbmUpIHtcbiAgICAgICAgICAgICAgICBMaW5lW0xpbmVbXCJFc3RhYmxpc2hlZFwiXSA9IDBdID0gXCJFc3RhYmxpc2hlZFwiO1xuICAgICAgICAgICAgICAgIExpbmVbTGluZVtcIlJlcGFpclwiXSA9IDFdID0gXCJSZXBhaXJcIjtcbiAgICAgICAgICAgICAgICBMaW5lW0xpbmVbXCJDb3N0XCJdID0gMl0gPSBcIkNvc3RcIjtcbiAgICAgICAgICAgICAgICBMaW5lW0xpbmVbXCJSZWZ1bmRcIl0gPSAzXSA9IFwiUmVmdW5kXCI7XG4gICAgICAgICAgICAgICAgTGluZVtMaW5lW1wiVmFsdWVcIl0gPSA0XSA9IFwiVmFsdWVcIjtcbiAgICAgICAgICAgICAgICBMaW5lW0xpbmVbXCJDb25kaXRpb25cIl0gPSA1XSA9IFwiQ29uZGl0aW9uXCI7XG4gICAgICAgICAgICB9KShMaW5lIHx8IChMaW5lID0ge30pKTtcbiAgICAgICAgICAgIHZhciBkaWN0ID0ge1xuICAgICAgICAgICAgICAgICdFc3RhYmxpc2hlZCc6IExpbmUuRXN0YWJsaXNoZWQsXG4gICAgICAgICAgICAgICAgJ0xhc3QgcmVwYWlyJzogTGluZS5SZXBhaXIsXG4gICAgICAgICAgICAgICAgJ1JlcGFpciBjb3N0cyc6IExpbmUuQ29zdCxcbiAgICAgICAgICAgICAgICAnUmVjbGFpbWFibGUgbWF0ZXJpYWxzJzogTGluZS5SZWZ1bmQsXG4gICAgICAgICAgICAgICAgJ0Jvb2sgdmFsdWUnOiBMaW5lLlZhbHVlLFxuICAgICAgICAgICAgICAgICdDb25kaXRpb24nOiBMaW5lLkNvbmRpdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBsaW5ldHlwZSA9IExpbmUuRXN0YWJsaXNoZWQ7XG4gICAgICAgICAgICBBcnJheS5mcm9tKHJvdy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRkXCIpKS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gZGF0YS5pbm5lclRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpY3RbdGV4dF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsaW5ldHlwZSA9IGRpY3RbdGV4dF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5ldHlwZSA9PSBMaW5lLkVzdGFibGlzaGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgRXN0YWJsaXNoUm93ID0gcm93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiLS1cIilcbiAgICAgICAgICAgICAgICAgICAgSGlkZUVsZW1lbnQocm93LCB0YWcpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCJub25lXCIpXG4gICAgICAgICAgICAgICAgICAgIEhpZGVFbGVtZW50KHJvdywgdGFnKTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5zcGxpdChcIiBcIikuZm9yRWFjaCh3b3JkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQod29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZXR5cGUgPT0gTGluZS5SZXBhaXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGFpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZXR5cGUgPT0gTGluZS5Db25kaXRpb24gfHwgbGluZXR5cGUgPT0gTGluZS5Fc3RhYmxpc2hlZCB8fCBsaW5ldHlwZSA9PSBMaW5lLlJlcGFpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFyID0gZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInByb2dyZXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAxODApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIaWRlRWxlbWVudChyb3csIHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJhciAmJiBiYXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFyWzBdLmNsYXNzTGlzdC5yZW1vdmUoLi4uV2l0aFN0eWxlcyhTdHlsZS5Qcm9ncmVzc0JhckNvbG9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFyWzBdLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBiYXJbMF0udmFsdWUgLyBiYXJbMF0ubWF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmV0eXBlID09IExpbmUuQ29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gOTggJiYgYnV0dG9uc1swXS5jbGFzc0xpc3QuY29udGFpbnMoU3R5bGUuQnV0dG9uRW5hYmxlZFswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1swXS5jbGFzc0xpc3QucmVtb3ZlKC4uLldpdGhTdHlsZXMoU3R5bGUuQnV0dG9uRW5hYmxlZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zWzBdLmNsYXNzTGlzdC5hZGQoLi4uV2l0aFN0eWxlcyhTdHlsZS5CdXR0b25EYW5nZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID4gMC45MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFyWzBdLmNsYXNzTGlzdC5hZGQoLi4uV2l0aFN0eWxlcyhTdHlsZS5Qcm9ncmVzc0Jhckdvb2QpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9ncmVzcyA+IDAuODApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhclswXS5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuUHJvZ3Jlc3NCYXJXYXJuaW5nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvZ3Jlc3MgPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXJbMF0uY2xhc3NMaXN0LmFkZCguLi5XaXRoU3R5bGVzKFN0eWxlLlByb2dyZXNzQmFyRGFuZ2VyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXJbMF0udmFsdWUgPSAxODAgLSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IGJhclswXS52YWx1ZSAvIGJhclswXS5tYXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZCA9IHBtbWdTZXR0aW5nc1tcIlBNTUdFeHRlbmRlZFwiXVtcInJlcGFpcl90aHJlc2hvbGRcIl0gPyBwbW1nU2V0dGluZ3NbXCJQTU1HRXh0ZW5kZWRcIl1bXCJyZXBhaXJfdGhyZXNob2xkXCJdIC8gMTgwLjAgOiAoNzAuMCAvIDE4MC4wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPiAwLjc1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXJbMF0uY2xhc3NMaXN0LmFkZCguLi5XaXRoU3R5bGVzKFN0eWxlLlByb2dyZXNzQmFyR29vZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb2dyZXNzID4gdGhyZXNob2xkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXJbMF0uY2xhc3NMaXN0LmFkZCguLi5XaXRoU3R5bGVzKFN0eWxlLlByb2dyZXNzQmFyV2FybmluZykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb2dyZXNzID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFyWzBdLmNsYXNzTGlzdC5hZGQoLi4uV2l0aFN0eWxlcyhTdHlsZS5Qcm9ncmVzc0JhckRhbmdlcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld2JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcm9ncmVzc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld2Jhci5jbGFzc0xpc3QuYWRkKC4uLldpdGhTdHlsZXMoU3R5bGUuUHJvZ3Jlc3NCYXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5ldHlwZSA9PSBMaW5lLkNvbmRpdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdiYXIubWF4ID0gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld2Jhci5tYXggPSAxODA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmluc2VydEJlZm9yZShuZXdiYXIsIGRhdGEuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobGluZXR5cGUgPT0gTGluZS5WYWx1ZSAmJiB2YWx1ZSA8IDIwMDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhpZGVFbGVtZW50KHJvdywgdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA8PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIaWRlRWxlbWVudChyb3csIHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlcGFpcmVkKVxuICAgICAgICAgICAgICAgIEhpZGVFbGVtZW50KEVzdGFibGlzaFJvdywgdGFnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gQ2xlYXJCYXNlKGJ1ZmZlciwgdGFnKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGJ1ZmZlci5xdWVyeVNlbGVjdG9yQWxsKFNlbGVjdG9yLkhlYWRlclJvdykpO1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW1lbnRzWzBdLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBjb25zdCBhcmVhQmFyID0gZWxlbWVudHNbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwcm9ncmVzc1wiKVswXTtcbiAgICBpZiAoIWFyZWFCYXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhcmVhQmFyQ29weSA9IGFyZWFCYXIuY2xvbmVOb2RlKHRydWUpO1xuICAgIGFyZWFCYXJDb3B5LmNsYXNzTGlzdC5hZGQodGFnKTtcbiAgICBjb25zdCBlZGl0ZGl2ID0gZWxlbWVudHNbMV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIilbMF07XG4gICAgaWYgKGVkaXRkaXYuZmlyc3RDaGlsZC5jbGFzc0xpc3QuY29udGFpbnModGFnKSAmJiBlZGl0ZGl2LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZWRpdGRpdi5yZW1vdmVDaGlsZChlZGl0ZGl2LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBlZGl0ZGl2Lmluc2VydEJlZm9yZShhcmVhQmFyQ29weSwgZWRpdGRpdi5sYXN0Q2hpbGQpO1xuICAgIEFycmF5LmZyb20oYnVmZmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGFibGVcIikpLmZvckVhY2goKHRhYmxlKSA9PiB7XG4gICAgICAgIEFycmF5LmZyb20odGFibGUucm93cykuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBBcnJheS5mcm9tKHJvdy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRkXCIpKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IEFycmF5LmZyb20ocm93LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGhcIikpO1xuICAgICAgICAgICAgICAgIGRhdGFbMl0uaW5uZXJUZXh0ID0gXCJDdXJyZW50XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWQgPSBwYXJzZUZsb2F0KGRhdGFbMV0uaW5uZXJUZXh0KTtcbiAgICAgICAgICAgICAgICB2YXIgd29ya2ZvcmNlID0gcGFyc2VGbG9hdChkYXRhWzJdLmlubmVyVGV4dC5zcGxpdChcIiBcIilbMF0pO1xuICAgICAgICAgICAgICAgIHZhciBjYXBhY2l0eSA9IHBhcnNlRmxvYXQoZGF0YVszXS5pbm5lclRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhciA9IGRhdGFbNF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIilbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgYmFyVmFsdWUgPSBiYXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwcm9ncmVzc1wiKVswXS50aXRsZTtcbiAgICAgICAgICAgICAgICBpZiAoYmFyLmxhc3RDaGlsZCAmJiBiYXIubGFzdENoaWxkLmNsYXNzTGlzdC5jb250YWlucyh0YWcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhci5yZW1vdmVDaGlsZChiYXIubGFzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmFyLmFwcGVuZENoaWxkKGNyZWF0ZVRleHRTcGFuKGJhclZhbHVlLCB0YWcpKTtcbiAgICAgICAgICAgICAgICBiYXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICAgICAgICAgIGJhci5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJyb3dcIjtcbiAgICAgICAgICAgICAgICBiYXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZWQgPCAxICYmIGNhcGFjaXR5IDwgMSAmJiB3b3JrZm9yY2UgPCAxKVxuICAgICAgICAgICAgICAgICAgICBIaWRlRWxlbWVudChyb3csIHRhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvQ29tcGFjdFVJLnRzXG4vLyBtb2R1bGUgaWQgPSA0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBnZXRCdWZmZXJzLCBjaGFuZ2VWYWx1ZSB9IGZyb20gXCIuL3V0aWxcIjtcbmV4cG9ydCBjbGFzcyBGb3JtdWxhUmVwbGFjZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhZyA9IFwicGItZm9ybXVsYXNcIjtcbiAgICB9XG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBydW4oKSB7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2V0QnVmZmVycyhcIkNYUE8gXCIpO1xuICAgICAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIGFkZExpc3RlbmVycyhidWZmZXIsIHRoaXMudGFnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiRlhQTyBcIik7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlcnMuZm9yRWFjaChidWZmZXIgPT4ge1xuICAgICAgICAgICAgYWRkTGlzdGVuZXJzKGJ1ZmZlciwgdGhpcy50YWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgYnVmZmVycyA9IGdldEJ1ZmZlcnMoXCJMTVAgXCIpO1xuICAgICAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIGFkZExpc3RlbmVycyhidWZmZXIsIHRoaXMudGFnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiQ09OVEQgXCIpO1xuICAgICAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXJzLmZvckVhY2goYnVmZmVyID0+IHtcbiAgICAgICAgICAgIGFkZExpc3RlbmVycyhidWZmZXIsIHRoaXMudGFnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiTVRSQSBcIik7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlcnMuZm9yRWFjaChidWZmZXIgPT4ge1xuICAgICAgICAgICAgYWRkTGlzdGVuZXJzKGJ1ZmZlciwgdGhpcy50YWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZExpc3RlbmVycyhidWZmZXIsIHRhZykge1xuICAgIGNvbnN0IGlucHV0cyA9IGJ1ZmZlci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XG4gICAgQXJyYXkuZnJvbShpbnB1dHMpLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgICBpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRhZykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5ICE9ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUgJiYgaW5wdXQudmFsdWUuY2hhckF0KDApID09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGlucHV0LnZhbHVlLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgICAgICB2YXIgc2ltcGxpZmllZEV4cHJlc3Npb24gPSBldmFsdWF0ZU1hdGgoZXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgc2ltcGxpZmllZEV4cHJlc3Npb24gPSBwYXJzZUZsb2F0KHNpbXBsaWZpZWRFeHByZXNzaW9uKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsgdXNlR3JvdXBpbmc6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGNoYW5nZVZhbHVlKGlucHV0LCBzaW1wbGlmaWVkRXhwcmVzc2lvbiB8fCBcIk5hTlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZXZhbHVhdGVNYXRoKGV4cHJlc3Npb24sIGRlcHRoKSB7XG4gICAgaWYgKCFkZXB0aCkge1xuICAgICAgICBkZXB0aCA9IDA7XG4gICAgfVxuICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoL1xccy9nLCBcIlwiKTtcbiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5yZXBsYWNlKC8sL2csIFwiLlwiKTtcbiAgICBpZiAoL1teMC05LitcXC1cXC8qXFxeXFwoXFwpXS8udGVzdChleHByZXNzaW9uKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbGVmdENvdW50ID0gKGV4cHJlc3Npb24ubWF0Y2goL1xcKC9nKSB8fCBbXSkubGVuZ3RoO1xuICAgIGNvbnN0IHJpZ2h0Q291bnQgPSAoZXhwcmVzc2lvbi5tYXRjaCgvXFwpL2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgaWYgKGxlZnRDb3VudCA+IHJpZ2h0Q291bnQpIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24gKyBcIilcIi5yZXBlYXQobGVmdENvdW50IC0gcmlnaHRDb3VudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJpZ2h0Q291bnQgPiBsZWZ0Q291bnQpIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9IFwiKFwiLnJlcGVhdChyaWdodENvdW50IC0gbGVmdENvdW50KSArIGV4cHJlc3Npb247XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goL1xcKC8pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICB2YXIgcENvdW50ZXIgPSAxO1xuICAgICAgICB2YXIgc3Vic3RyaW5nID0gZXhwcmVzc2lvbi5zdWJzdHJpbmcobWF0Y2guaW5kZXggKyAxKTtcbiAgICAgICAgY29uc3QgYmVnaW5JbmRleCA9IG1hdGNoLmluZGV4O1xuICAgICAgICB2YXIgb2Zmc2V0ID0gYmVnaW5JbmRleCArIDE7XG4gICAgICAgIHZhciBsZWZ0TWF0Y2g7XG4gICAgICAgIHZhciByaWdodE1hdGNoO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsZWZ0TWF0Y2ggPSBzdWJzdHJpbmcubWF0Y2goL1xcKC8pO1xuICAgICAgICAgICAgcmlnaHRNYXRjaCA9IHN1YnN0cmluZy5tYXRjaCgvXFwpLyk7XG4gICAgICAgICAgICBpZiAobGVmdE1hdGNoICYmICghcmlnaHRNYXRjaCB8fCBsZWZ0TWF0Y2guaW5kZXggPCByaWdodE1hdGNoLmluZGV4KSkge1xuICAgICAgICAgICAgICAgIHBDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgc3Vic3RyaW5nID0gc3Vic3RyaW5nLnN1YnN0cmluZyhsZWZ0TWF0Y2guaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gbGVmdE1hdGNoLmluZGV4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJpZ2h0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBwQ291bnRlci0tO1xuICAgICAgICAgICAgICAgIHN1YnN0cmluZyA9IHN1YnN0cmluZy5zdWJzdHJpbmcocmlnaHRNYXRjaC5pbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSByaWdodE1hdGNoLmluZGV4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwQ291bnRlciA9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZXZhbHVhdGVNYXRoKGV4cHJlc3Npb24uc3Vic3RyaW5nKGJlZ2luSW5kZXggKyAxLCBvZmZzZXQgLSAxKSwgZGVwdGggKyAxKTtcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5yZXBsYWNlKGV4cHJlc3Npb24uc3Vic3RyaW5nKGJlZ2luSW5kZXgsIG9mZnNldCksIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IGV2YWx1YXRlTWF0aChleHByZXNzaW9uLCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBleHByZXNzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChsZWZ0TWF0Y2ggfHwgcmlnaHRNYXRjaCk7XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goLyg/Oig/PCFcXGQpKSgtP1xcZCsoPzpcXC5cXGQrKT8pXFxeKC0/XFxkKyg/OlxcLlxcZCspPykvKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgdmFyIGxlZnQgPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gcGFyc2VGbG9hdChtYXRjaFsyXSk7XG4gICAgICAgIHZhciByZXN1bHQgPSBNYXRoLnBvdyhsZWZ0LCByaWdodCk7XG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UobWF0Y2hbMF0sIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV2YWx1YXRlTWF0aChleHByZXNzaW9uLCBkZXB0aCArIDEpO1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG4gICAgY29uc3QgbXVsdE1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaCgvKD86KD88IVxcZCkpKC0/XFxkKyg/OlxcLlxcZCspPylcXCooLT9cXGQrKD86XFwuXFxkKyk/KS8pO1xuICAgIGNvbnN0IGRpdk1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaCgvKD86KD88IVxcZCkpKC0/XFxkKyg/OlxcLlxcZCspPylcXC8oLT9cXGQrKD86XFwuXFxkKyk/KS8pO1xuICAgIGlmIChtdWx0TWF0Y2ggJiYgKCFkaXZNYXRjaCB8fCBkaXZNYXRjaC5pbmRleCA+IG11bHRNYXRjaC5pbmRleCkpIHtcbiAgICAgICAgdmFyIGxlZnQgPSBwYXJzZUZsb2F0KG11bHRNYXRjaFsxXSk7XG4gICAgICAgIHZhciByaWdodCA9IHBhcnNlRmxvYXQobXVsdE1hdGNoWzJdKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGxlZnQgKiByaWdodDtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZShtdWx0TWF0Y2hbMF0sIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV2YWx1YXRlTWF0aChleHByZXNzaW9uLCBkZXB0aCArIDEpO1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGl2TWF0Y2gpIHtcbiAgICAgICAgdmFyIGxlZnQgPSBwYXJzZUZsb2F0KGRpdk1hdGNoWzFdKTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gcGFyc2VGbG9hdChkaXZNYXRjaFsyXSk7XG4gICAgICAgIHZhciByZXN1bHQgPSBsZWZ0IC8gcmlnaHQ7XG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoZGl2TWF0Y2hbMF0sIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV2YWx1YXRlTWF0aChleHByZXNzaW9uLCBkZXB0aCArIDEpO1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG4gICAgY29uc3QgYWRkTWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKC8oPzooPzwhXFxkKSkoLT9cXGQrKD86XFwuXFxkKyk/KVxcKygtP1xcZCsoPzpcXC5cXGQrKT8pLyk7XG4gICAgY29uc3Qgc3ViTWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKC8oPzooPzwhXFxkKSkoLT9cXGQrKD86XFwuXFxkKyk/KVxcLSgtP1xcZCsoPzpcXC5cXGQrKT8pLyk7XG4gICAgaWYgKGFkZE1hdGNoICYmICghc3ViTWF0Y2ggfHwgc3ViTWF0Y2guaW5kZXggPiBhZGRNYXRjaC5pbmRleCkpIHtcbiAgICAgICAgdmFyIGxlZnQgPSBwYXJzZUZsb2F0KGFkZE1hdGNoWzFdKTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gcGFyc2VGbG9hdChhZGRNYXRjaFsyXSk7XG4gICAgICAgIHZhciByZXN1bHQgPSBsZWZ0ICsgcmlnaHQ7XG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoYWRkTWF0Y2hbMF0sIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV2YWx1YXRlTWF0aChleHByZXNzaW9uLCBkZXB0aCArIDEpO1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG4gICAgZWxzZSBpZiAoc3ViTWF0Y2gpIHtcbiAgICAgICAgdmFyIGxlZnQgPSBwYXJzZUZsb2F0KHN1Yk1hdGNoWzFdKTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gcGFyc2VGbG9hdChzdWJNYXRjaFsyXSk7XG4gICAgICAgIHZhciByZXN1bHQgPSBsZWZ0IC0gcmlnaHQ7XG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2Uoc3ViTWF0Y2hbMF0sIHJlc3VsdC50b1N0cmluZygpKTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV2YWx1YXRlTWF0aChleHByZXNzaW9uLCBkZXB0aCArIDEpO1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG4gICAgaWYgKC9bXlxcLTAtOS5dLy50ZXN0KGV4cHJlc3Npb24pKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZXhwcmVzc2lvbjtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL0Zvcm11bGFFdmFsdWF0b3IudHNcbi8vIG1vZHVsZSBpZCA9IDQzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7IGdldEJ1ZmZlcnMsIGNsZWFuUGxhbmV0TmFtZSB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IFNlbGVjdG9yIH0gZnJvbSBcIi4vU2VsZWN0b3JcIjtcbmV4cG9ydCBjbGFzcyBBZHZhbmNlZE1vZGUge1xuICAgIGNvbnN0cnVjdG9yKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy50YWcgPSBcInBiLWFkdmFuY2VkXCI7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgfVxuICAgIGNsZWFudXAoKSB7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVycyA9IGdldEJ1ZmZlcnMoXCJGTFRcIik7XG4gICAgICAgIGJ1ZmZlcnMuZm9yRWFjaChidWZmZXIgPT4ge1xuICAgICAgICAgICAgY2xlYW5GbGVldChidWZmZXIsIHRoaXMudGFnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiQ1hPU1wiKTtcbiAgICAgICAgYnVmZmVycy5mb3JFYWNoKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICBjbGVhbkNYT1MoYnVmZmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1ZmZlcnMgPSBnZXRCdWZmZXJzKFwiQ09HQ1BFWCBcIik7XG4gICAgICAgIGJ1ZmZlcnMuZm9yRWFjaChidWZmZXIgPT4ge1xuICAgICAgICAgICAgY2xlYW5DT0dDUEVYKGJ1ZmZlciwgdGhpcy50YWcpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhbkZsZWV0KGJ1ZmZlciwgdGFnKSB7XG4gICAgY29uc3Qgcm93cyA9IGJ1ZmZlci5xdWVyeVNlbGVjdG9yQWxsKFwidHJcIik7XG4gICAgcm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgIGlmIChyb3cuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgcm93LmZpcnN0Q2hpbGQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgbGlua3MgPSBidWZmZXIucXVlcnlTZWxlY3RvckFsbChTZWxlY3Rvci5CdWZmZXJMaW5rKTtcbiAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgICBpZiAobGluay50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgaWYgKGxpbmsuY2xhc3NMaXN0LmNvbnRhaW5zKHRhZykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQodGFnKTtcbiAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSBjbGVhblBsYW5ldE5hbWUobGluay50ZXh0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNsZWFuQ1hPUyhidWZmZXIpIHtcbiAgICBjb25zdCByb3dzID0gYnVmZmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0clwiKTtcbiAgICByb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgaWYgKHJvdy5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICByb3cuZmlyc3RDaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNsZWFuQ09HQ1BFWChidWZmZXIsIHRhZykge1xuICAgIGNvbnN0IGxpbmtzID0gYnVmZmVyLnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuQnVmZmVyTGluayk7XG4gICAgbGlua3MuZm9yRWFjaChsaW5rID0+IHtcbiAgICAgICAgaWYgKGxpbmsudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChsaW5rLmNsYXNzTGlzdC5jb250YWlucyh0YWcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluay5jbGFzc0xpc3QuYWRkKHRhZyk7XG4gICAgICAgICAgICBsaW5rLnRleHRDb250ZW50ID0gbGluay50ZXh0Q29udGVudC5yZXBsYWNlKFwiQWR2ZXJ0aXNpbmcgQ2FtcGFpZ246IFwiLCBcIlwiKTtcbiAgICAgICAgICAgIGxpbmsudGV4dENvbnRlbnQgPSBsaW5rLnRleHRDb250ZW50LnJlcGxhY2UoXCJFZHVjYXRpb24gRXZlbnRzOiBcIiwgXCJcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBidXR0b25zID0gYnVmZmVyLnF1ZXJ5U2VsZWN0b3JBbGwoU2VsZWN0b3IuU21hbGxCdXR0b24pO1xuICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICBpZiAoYnV0dG9uLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyh0YWcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQodGFnKTtcbiAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwidm90ZVwiO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9BZHZhbmNlZE1vZGUudHNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=